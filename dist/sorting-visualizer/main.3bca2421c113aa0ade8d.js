var Kz=Object.defineProperty,Xz=Object.defineProperties,Jz=Object.getOwnPropertyDescriptors,Od=Object.getOwnPropertySymbols,IA=Object.prototype.hasOwnProperty,MA=Object.prototype.propertyIsEnumerable,OA=(M,ce,W)=>ce in M?Kz(M,ce,{enumerable:!0,configurable:!0,writable:!0,value:W}):M[ce]=W,I=(M,ce)=>{for(var W in ce||(ce={}))IA.call(ce,W)&&OA(M,W,ce[W]);if(Od)for(var W of Od(ce))MA.call(ce,W)&&OA(M,W,ce[W]);return M},te=(M,ce)=>Xz(M,Jz(ce)),Mu=(M,ce)=>{var W={};for(var H in M)IA.call(M,H)&&ce.indexOf(H)<0&&(W[H]=M[H]);if(null!=M&&Od)for(var H of Od(M))ce.indexOf(H)<0&&MA.call(M,H)&&(W[H]=M[H]);return W};(self.webpackChunksorting_visualizer=self.webpackChunksorting_visualizer||[]).push([[179],{255:M=>{function ce(W){return Promise.resolve().then(()=>{var H=new Error("Cannot find module '"+W+"'");throw H.code="MODULE_NOT_FOUND",H})}ce.keys=()=>[],ce.resolve=ce,ce.id=255,M.exports=ce},837:function(M,ce,W){!function(H,Me,_e,qe){"use strict";var Ne=function(U,de,F){return{endTime:de,insertTime:F,type:"exponentialRampToValue",value:U}},it=function(U,de,F){return{endTime:de,insertTime:F,type:"linearRampToValue",value:U}},_t=function(U,de){return{startTime:de,type:"setValue",value:U}},Cr=function(U,de,F){return{duration:F,startTime:de,type:"setValueCurve",values:U}},Ms=function(U,de,F){var J=F.target;return J+(de-J)*Math.exp((F.startTime-U)/F.timeConstant)},Pe=function(U){return"exponentialRampToValue"===U.type},Jr=function(U){return"linearRampToValue"===U.type},Dn=function(U){return Pe(U)||Jr(U)},Ou=function(U){return"setValue"===U.type},Oe=function(U){return"setValueCurve"===U.type},Ki=function Q(U,de,F,fe){var J=U[de];return void 0===J?fe:Dn(J)||Ou(J)?J.value:Oe(J)?J.values[J.values.length-1]:Ms(F,Q(U,de-1,J.startTime,fe),J)},Ru=function(U,de,F,fe,J){return void 0===F?[fe.insertTime,J]:Dn(F)?[F.endTime,F.value]:Ou(F)?[F.startTime,F.value]:Oe(F)?[F.startTime+F.duration,F.values[F.values.length-1]]:[F.startTime,Ki(U,de-1,F.startTime,J)]},Ra=function(U){return"cancelAndHold"===U.type},Xs=function(U){return"cancelScheduledValues"===U.type},En=function(U){return Ra(U)||Xs(U)?U.cancelTime:Pe(U)||Jr(U)?U.endTime:U.startTime},Rd=function(U,de,F,fe){var Re=fe.value;return F===Re?Re:0<F&&0<Re||F<0&&Re<0?F*Math.pow(Re/F,(U-de)/(fe.endTime-de)):0},Na=function(U,de,F,fe){return F+(U-de)/(fe.endTime-de)*(fe.value-F)},Nu=function(U,de){var J=de.values;return function(U,de){var F=Math.floor(de),fe=Math.ceil(de);return F===fe?U[F]:(1-(de-F))*U[F]+(1-(fe-de))*U[fe]}(J,(U-de.startTime)/de.duration*(J.length-1))},ka=function(U){return"setTarget"===U.type},Dr=function(Q){function U(de){_e(this,U),this._automationEvents=[],this._currenTime=0,this._defaultValue=de}return qe(U,[{key:Q,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(F){var fe=En(F);if(Ra(F)||Xs(F)){var J=this._automationEvents.findIndex(function(ii){return Xs(F)&&Oe(ii)?ii.startTime+ii.duration>=fe:En(ii)>=fe}),Re=this._automationEvents[J];if(-1!==J&&(this._automationEvents=this._automationEvents.slice(0,J)),Ra(F)){var ee=this._automationEvents[this._automationEvents.length-1];if(void 0!==Re&&Dn(Re)){if(void 0!==ee&&ka(ee))throw new Error("The internal list is malformed.");var Ji=void 0===ee?Re.insertTime:Oe(ee)?ee.startTime+ee.duration:En(ee),ei=void 0===ee?this._defaultValue:Oe(ee)?ee.values[ee.values.length-1]:ee.value,ti=Pe(Re)?Rd(fe,Ji,ei,Re):Na(fe,Ji,ei,Re),eo=Pe(Re)?Ne(ti,fe,this._currenTime):it(ti,fe,this._currenTime);this._automationEvents.push(eo)}if(void 0!==ee&&ka(ee)&&this._automationEvents.push(_t(this.getValue(fe),fe)),void 0!==ee&&Oe(ee)&&ee.startTime+ee.duration>fe){var Js=fe-ee.startTime,ni=(ee.values.length-1)/ee.duration,si=Math.max(2,1+Math.ceil(Js*ni)),Er=Js/(si-1)*ni,to=ee.values.slice(0,si);if(Er<1)for(var Tr=1;Tr<si;Tr+=1){var Pu=Er*Tr%1;to[Tr]=ee.values[Tr-1]*(1-Pu)+ee.values[Tr]*Pu}this._automationEvents[this._automationEvents.length-1]=Cr(to,ee.startTime,Js)}}}else{var ri=this._automationEvents.findIndex(function(ii){return En(ii)>fe}),Ct=-1===ri?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[ri-1];if(void 0!==Ct&&Oe(Ct)&&En(Ct)+Ct.duration>fe)return!1;var no=Pe(F)?Ne(F.value,F.endTime,this._currenTime):Jr(F)?it(F.value,fe,this._currenTime):F;if(-1===ri)this._automationEvents.push(no);else{if(Oe(F)&&fe+F.duration>En(this._automationEvents[ri]))return!1;this._automationEvents.splice(ri,0,no)}}return!0}},{key:"flush",value:function(F){var fe=this._automationEvents.findIndex(function(ee){return En(ee)>F});if(fe>1){var J=this._automationEvents.slice(fe-1),Re=J[0];ka(Re)&&J.unshift(_t(Ki(this._automationEvents,fe-2,Re.startTime,this._defaultValue),Re.startTime)),this._automationEvents=J}}},{key:"getValue",value:function(F){if(0===this._automationEvents.length)return this._defaultValue;var fe=this._automationEvents.findIndex(function(to){return En(to)>F}),J=this._automationEvents[fe],Re=(-1===fe?this._automationEvents.length:fe)-1,ee=this._automationEvents[Re];if(void 0!==ee&&ka(ee)&&(void 0===J||!Dn(J)||J.insertTime>F))return Ms(F,Ki(this._automationEvents,Re-1,ee.startTime,this._defaultValue),ee);if(void 0!==ee&&Ou(ee)&&(void 0===J||!Dn(J)))return ee.value;if(void 0!==ee&&Oe(ee)&&(void 0===J||!Dn(J)||ee.startTime+ee.duration>F))return F<ee.startTime+ee.duration?Nu(F,ee):ee.values[ee.values.length-1];if(void 0!==ee&&Dn(ee)&&(void 0===J||!Dn(J)))return ee.value;if(void 0!==J&&Pe(J)){var Ji=Ru(this._automationEvents,Re,ee,J,this._defaultValue),ei=Me(Ji,2);return Rd(F,ei[0],ei[1],J)}if(void 0!==J&&Jr(J)){var Js=Ru(this._automationEvents,Re,ee,J,this._defaultValue),ni=Me(Js,2);return Na(F,ni[0],ni[1],J)}return this._defaultValue}}]),U}(Symbol.iterator);H.AutomationEventList=Dr,H.createCancelAndHoldAutomationEvent=function(U){return{cancelTime:U,type:"cancelAndHold"}},H.createCancelScheduledValuesAutomationEvent=function(U){return{cancelTime:U,type:"cancelScheduledValues"}},H.createExponentialRampToValueAutomationEvent=function(U,de){return{endTime:de,type:"exponentialRampToValue",value:U}},H.createLinearRampToValueAutomationEvent=function(U,de){return{endTime:de,type:"linearRampToValue",value:U}},H.createSetTargetAutomationEvent=function(U,de,F){return{startTime:de,target:U,timeConstant:F,type:"setTarget"}},H.createSetValueAutomationEvent=_t,H.createSetValueCurveAutomationEvent=Cr}(ce,W(796),W(591),W(930))},793:(M,ce,W)=>{"use strict";function H(n){return"function"==typeof n}let Me=!1;const _e={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else Me&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Me=n},get useDeprecatedSynchronousErrorHandling(){return Me}};function qe(n){setTimeout(()=>{throw n},0)}const Ne={closed:!0,next(n){},error(n){if(_e.useDeprecatedSynchronousErrorHandling)throw n;qe(n)},complete(){}},it=Array.isArray||(n=>n&&"number"==typeof n.length);function _t(n){return null!==n&&"object"==typeof n}const Ms=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,s)=>`${s+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class Pe{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:s,_unsubscribe:r,_subscriptions:i}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof Pe)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(H(r)){s&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){e=o instanceof Ms?Jr(o.errors):[o]}}if(it(i)){let o=-1,a=i.length;for(;++o<a;){const c=i[o];if(_t(c))try{c.unsubscribe()}catch(u){e=e||[],u instanceof Ms?e=e.concat(Jr(u.errors)):e.push(u)}}}if(e)throw new Ms(e)}add(e){let t=e;if(!e)return Pe.EMPTY;switch(typeof e){case"function":t=new Pe(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof Pe)){const i=t;t=new Pe,t._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:s}=t;if(null===s)t._parentOrParents=this;else if(s instanceof Pe){if(s===this)return t;t._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return t;s.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const s=t.indexOf(e);-1!==s&&t.splice(s,1)}}}var n;function Jr(n){return n.reduce((e,t)=>e.concat(t instanceof Ms?t.errors:t),[])}Pe.EMPTY=((n=new Pe).closed=!0,n);const Dn="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Oe extends Pe{constructor(e,t,s){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Ne;break;case 1:if(!e){this.destination=Ne;break}if("object"==typeof e){e instanceof Oe?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ki(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Ki(this,e,t,s)}}[Dn](){return this}static create(e,t,s){const r=new Oe(e,t,s);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class Ki extends Oe{constructor(e,t,s,r){super(),this._parentSubscriber=e;let i,o=this;H(t)?i=t:t&&(i=t.next,s=t.error,r=t.complete,t!==Ne&&(o=Object.create(t),H(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=i,this._error=s,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;_e.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:s}=_e;if(this._error)s&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)s?(t.syncErrorValue=e,t.syncErrorThrown=!0):qe(e),this.unsubscribe();else{if(this.unsubscribe(),s)throw e;qe(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);_e.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(s){if(this.unsubscribe(),_e.useDeprecatedSynchronousErrorHandling)throw s;qe(s)}}__tryOrSetError(e,t,s){if(!_e.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,s)}catch(r){return _e.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(qe(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const Xs="function"==typeof Symbol&&Symbol.observable||"@@observable";function En(n){return n}let Je=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const s=new n;return s.source=this,s.operator=t,s}subscribe(t,s,r){const{operator:i}=this,o=function(n,e,t){if(n){if(n instanceof Oe)return n;if(n[Dn])return n[Dn]()}return n||e||t?new Oe(n,e,t):new Oe(Ne)}(t,s,r);if(o.add(i?i.call(o,this.source):this.source||_e.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),_e.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(s){_e.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=s),function(n){for(;n;){const{closed:e,destination:t,isStopped:s}=n;if(e||s)return!1;n=t&&t instanceof Oe?t:null}return!0}(t)?t.error(s):console.warn(s)}}forEach(t,s){return new(s=Nu(s))((r,i)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(c){i(c),o&&o.unsubscribe()}},i,r)})}_subscribe(t){const{source:s}=this;return s&&s.subscribe(t)}[Xs](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?En:1===n.length?n[0]:function(t){return n.reduce((s,r)=>r(s),t)}}(t)(this)}toPromise(t){return new(t=Nu(t))((s,r)=>{let i;this.subscribe(o=>i=o,o=>r(o),()=>s(i))})}}return n.create=e=>new n(e),n})();function Nu(n){if(n||(n=_e.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const Dr=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Nd extends Pe{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const s=t.indexOf(this.subscriber);-1!==s&&t.splice(s,1)}}class ku extends Oe{constructor(e){super(e),this.destination=e}}let os=(()=>{class n extends Je{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Dn](){return new ku(this)}lift(t){const s=new Fu(this,this);return s.operator=t,s}next(t){if(this.closed)throw new Dr;if(!this.isStopped){const{observers:s}=this,r=s.length,i=s.slice();for(let o=0;o<r;o++)i[o].next(t)}}error(t){if(this.closed)throw new Dr;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:s}=this,r=s.length,i=s.slice();for(let o=0;o<r;o++)i[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new Dr;this.isStopped=!0;const{observers:t}=this,s=t.length,r=t.slice();for(let i=0;i<s;i++)r[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Dr;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Dr;return this.hasError?(t.error(this.thrownError),Pe.EMPTY):this.isStopped?(t.complete(),Pe.EMPTY):(this.observers.push(t),new Nd(this,t))}asObservable(){const t=new Je;return t.source=this,t}}return n.create=(e,t)=>new Fu(e,t),n})();class Fu extends os{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):Pe.EMPTY}}function Xi(n){return n&&"function"==typeof n.schedule}function Q(n,e){return function(s){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return s.lift(new U(n,e))}}class U{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new de(e,this.project,this.thisArg))}}class de extends Oe{constructor(e,t,s){super(e),this.project=t,this.count=0,this.thisArg=s||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}const F=n=>e=>{for(let t=0,s=n.length;t<s&&!e.closed;t++)e.next(n[t]);e.complete()},Re="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",ti=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function eo(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Js=n=>{if(n&&"function"==typeof n[Xs])return(n=>e=>{const t=n[Xs]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(ti(n))return F(n);if(eo(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,qe),e))(n);if(n&&"function"==typeof n[Re])return(n=>e=>{const t=n[Re]();for(;;){let s;try{s=t.next()}catch(r){return e.error(r),e}if(s.done){e.complete();break}if(e.next(s.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${_t(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Er(n,e){return new Je(t=>{const s=new Pe;let r=0;return s.add(e.schedule(function(){r!==n.length?(t.next(n[r++]),t.closed||s.add(this.schedule())):t.complete()})),s})}function Ct(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[Xs]}(n))return function(n,e){return new Je(t=>{const s=new Pe;return s.add(e.schedule(()=>{const r=n[Xs]();s.add(r.subscribe({next(i){s.add(e.schedule(()=>t.next(i)))},error(i){s.add(e.schedule(()=>t.error(i)))},complete(){s.add(e.schedule(()=>t.complete()))}}))})),s})}(n,e);if(eo(n))return function(n,e){return new Je(t=>{const s=new Pe;return s.add(e.schedule(()=>n.then(r=>{s.add(e.schedule(()=>{t.next(r),s.add(e.schedule(()=>t.complete()))}))},r=>{s.add(e.schedule(()=>t.error(r)))}))),s})}(n,e);if(ti(n))return Er(n,e);if(function(n){return n&&"function"==typeof n[Re]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new Je(t=>{const s=new Pe;let r;return s.add(()=>{r&&"function"==typeof r.return&&r.return()}),s.add(e.schedule(()=>{r=n[Re](),s.add(e.schedule(function(){if(t.closed)return;let i,o;try{const a=r.next();i=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(i),this.schedule())}))})),s})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof Je?n:new Je(Js(n))}class no extends Oe{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class kd extends Oe{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Fd(n,e){if(e.closed)return;if(n instanceof Je)return n.subscribe(e);let t;try{t=Js(n)(e)}catch(s){e.error(s)}return t}function Ut(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(Ut((r,i)=>Ct(n(r,i)).pipe(Q((o,a)=>e(r,o,i,a))),t)):("number"==typeof e&&(t=e),s=>s.lift(new kA(n,t)))}class kA{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new FA(e,this.project,this.concurrent))}}class FA extends kd{constructor(e,t,s=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=s,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const s=this.index++;try{t=this.project(e,s)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new no(this),s=this.destination;s.add(t);const r=Fd(e,t);r!==t&&s.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Fa(n=Number.POSITIVE_INFINITY){return Ut(En,n)}function Pd(n,e){return e?Er(n,e):new Je(F(n))}function Ld(){return function(e){return e.lift(new LA(e))}}class LA{constructor(e){this.connectable=e}call(e,t){const{connectable:s}=this;s._refCount++;const r=new VA(e,s),i=t.subscribe(r);return r.closed||(r.connection=s.connect()),i}}class VA extends Oe{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:s}=this,r=e._connection;this.connection=null,r&&(!s||r===s)&&r.unsubscribe()}}class sv extends Je{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new Pe,e.add(this.source.subscribe(new BA(this.getSubject(),this))),e.closed&&(this._connection=null,e=Pe.EMPTY)),e}refCount(){return Ld()(this)}}const jA=(()=>{const n=sv.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class BA extends ku{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function $A(){return new os}function Le(n){for(let e in n)if(n[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function jd(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const zA=Le({__forward_ref__:Le});function Bd(n){return n.__forward_ref__=Bd,n.toString=function(){return ve(this())},n}function z(n){return function(n){return"function"==typeof n&&n.hasOwnProperty(zA)&&n.__forward_ref__===Bd}(n)?n():n}class xr extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function he(n){return"string"==typeof n?n:null==n?"":String(n)}function nn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():he(n)}function Lu(n,e){const t=e?` in ${e}`:"";throw new xr("201",`No provider for ${nn(n)} found${t}`)}function xn(n,e){null==n&&function(n,e,t,s){throw new Error(`ASSERTION ERROR: ${n}`+(null==s?"":` [Expected=> ${t} ${s} ${e} <=Actual]`))}(e,n,null,"!=")}function we(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function tr(n){return{providers:n.providers||[],imports:n.imports||[]}}function nr(n){return iv(n,Vu)||iv(n,av)}function iv(n,e){return n.hasOwnProperty(e)?n[e]:null}function ov(n){return n&&(n.hasOwnProperty(Ud)||n.hasOwnProperty(JA))?n[Ud]:null}const Vu=Le({\u0275prov:Le}),Ud=Le({\u0275inj:Le}),av=Le({ngInjectableDef:Le}),JA=Le({ngInjectorDef:Le});var Z=(()=>((Z=Z||{})[Z.Default=0]="Default",Z[Z.Host=1]="Host",Z[Z.Self=2]="Self",Z[Z.SkipSelf=4]="SkipSelf",Z[Z.Optional=8]="Optional",Z))();let Hd;function Sr(n){const e=Hd;return Hd=n,e}function cv(n,e,t){const s=nr(n);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:t&Z.Optional?null:void 0!==e?e:void Lu(ve(n),"Injector")}function Ar(n){return{toString:n}.toString()}var qn=(()=>((qn=qn||{})[qn.OnPush=0]="OnPush",qn[qn.Default=1]="Default",qn))(),At=(()=>((At=At||{})[At.Emulated=0]="Emulated",At[At.None=2]="None",At[At.ShadowDom=3]="ShadowDom",At))();const tI="undefined"!=typeof globalThis&&globalThis,nI="undefined"!=typeof window&&window,sI="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,je=tI||"undefined"!=typeof global&&global||nI||sI,so={},Ue=[],ju=Le({\u0275cmp:Le}),$d=Le({\u0275dir:Le}),Wd=Le({\u0275pipe:Le}),uv=Le({\u0275mod:Le}),rI=Le({\u0275loc:Le}),sr=Le({\u0275fac:Le}),Pa=Le({__NG_ELEMENT_ID__:Le});let iI=0;function La(n){return Ar(()=>{const t={},s={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===qn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ue,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||At.Emulated,id:"c",styles:n.styles||Ue,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,i=n.features,o=n.pipes;return s.id+=iI++,s.inputs=fv(n.inputs,t),s.outputs=fv(n.outputs),i&&i.forEach(a=>a(s)),s.directiveDefs=r?()=>("function"==typeof r?r():r).map(lv):null,s.pipeDefs=o?()=>("function"==typeof o?o():o).map(hv):null,s})}function lv(n){return Qt(n)||function(n){return n[$d]||null}(n)}function hv(n){return function(n){return n[Wd]||null}(n)}const dv={};function oi(n){return Ar(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ue,declarations:n.declarations||Ue,imports:n.imports||Ue,exports:n.exports||Ue,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(dv[n.id]=n.type),e})}function fv(n,e){if(null==n)return so;const t={};for(const s in n)if(n.hasOwnProperty(s)){let r=n[s],i=r;Array.isArray(r)&&(i=r[1],r=r[0]),t[r]=s,e&&(e[r]=i)}return t}const Gt=La;function Qt(n){return n[ju]||null}function Un(n,e){const t=n[uv]||null;if(!t&&!0===e)throw new Error(`Type ${ve(n)} does not have '\u0275mod' property.`);return t}function Os(n){return Array.isArray(n)&&"object"==typeof n[1]}function cs(n){return Array.isArray(n)&&!0===n[1]}function Qd(n){return 0!=(8&n.flags)}function Hu(n){return 2==(2&n.flags)}function $u(n){return 1==(1&n.flags)}function us(n){return null!==n.template}function dI(n){return 0!=(512&n[2])}function hi(n,e){return n.hasOwnProperty(sr)?n[sr]:null}class gv{constructor(e,t,s){this.previousValue=e,this.currentValue=t,this.firstChange=s}isFirstChange(){return this.firstChange}}function mv(n){return n.type.prototype.ngOnChanges&&(n.setInput=mI),gI}function gI(){const n=yv(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===so)n.previous=e;else for(let s in e)t[s]=e[s];n.current=null,this.ngOnChanges(e)}}function mI(n,e,t,s){const r=yv(n)||function(n,e){return n[_v]=e}(n,{previous:so,current:null}),i=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[t],c=o[a];i[a]=new gv(c&&c.currentValue,e,o===so),n[s]=e}const _v="__ngSimpleChanges__";function yv(n){return n[_v]||null}let Kd;function ht(n){return!!n.listen}const wv={createRenderer:(n,e)=>void 0!==Kd?Kd:"undefined"!=typeof document?document:void 0};function Dt(n){for(;Array.isArray(n);)n=n[0];return n}function An(n,e){return Dt(e[n.index])}function Jd(n,e){return n.data[e]}function In(n,e){const t=e[n];return Os(t)?t:t[0]}function ef(n){return 128==(128&n[2])}function Mr(n,e){return null==e?null:n[e]}function Dv(n){n[18]=0}function tf(n,e){n[5]+=e;let t=n,s=n[3];for(;null!==s&&(1===e&&1===t[5]||-1===e&&0===t[5]);)s[5]+=e,t=s,s=s[3]}const oe={lFrame:Ov(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ev(){return oe.bindingsEnabled}function x(){return oe.lFrame.lView}function Ie(){return oe.lFrame.tView}function nf(n){return oe.lFrame.contextLView=n,n[8]}function It(){let n=Tv();for(;null!==n&&64===n.type;)n=n.parent;return n}function Tv(){return oe.lFrame.currentTNode}function Rs(n,e){const t=oe.lFrame;t.currentTNode=n,t.isParent=e}function sf(){return oe.lFrame.isParent}function zu(){return oe.isInCheckNoChangesMode}function Gu(n){oe.isInCheckNoChangesMode=n}function uo(){return oe.lFrame.bindingIndex++}function OI(n,e){const t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,of(e)}function of(n){oe.lFrame.currentDirectiveIndex=n}function cf(n){oe.lFrame.currentQueryIndex=n}function NI(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Iv(n,e,t){if(t&Z.SkipSelf){let r=e,i=n;for(;!(r=r.parent,null!==r||t&Z.Host||(r=NI(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;e=r,n=i}const s=oe.lFrame=Mv();return s.currentTNode=e,s.lView=n,!0}function Qu(n){const e=Mv(),t=n[1];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Mv(){const n=oe.lFrame,e=null===n?null:n.child;return null===e?Ov(n):e}function Ov(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Rv(){const n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Nv=Rv;function Yu(){const n=Rv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function on(){return oe.lFrame.selectedIndex}function Or(n){oe.lFrame.selectedIndex=n}function ot(){const n=oe.lFrame;return Jd(n.tView,n.selectedIndex)}function Zu(n,e){for(let t=e.directiveStart,s=e.directiveEnd;t<s;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),c&&(n.viewHooks||(n.viewHooks=[])).push(-t,c),u&&((n.viewHooks||(n.viewHooks=[])).push(t,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,u)),null!=l&&(n.destroyHooks||(n.destroyHooks=[])).push(t,l)}}function Ku(n,e,t){kv(n,e,3,t)}function Xu(n,e,t,s){(3&n[2])===t&&kv(n,e,t,s)}function uf(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function kv(n,e,t,s){const i=null!=s?s:-1,o=e.length-1;let a=0;for(let c=void 0!==s?65535&n[18]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=s&&a>=s)break}else e[c]<0&&(n[18]+=65536),(a<i||-1==i)&&(UI(n,t,e,c),n[18]=(4294901760&n[18])+c+2),c++}function UI(n,e,t,s){const r=t[s]<0,i=t[s+1],a=n[r?-t[s]:t[s]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Ua{constructor(e,t,s){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=s}}function Ju(n,e,t){const s=ht(n);let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],a=t[r++],c=t[r++];s?n.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=i,a=t[++r];hf(o)?s&&n.setProperty(e,o,a):s?n.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function Fv(n){return 3===n||4===n||6===n}function hf(n){return 64===n.charCodeAt(0)}function el(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let s=0;s<e.length;s++){const r=e[s];"number"==typeof r?t=r:0===t||Pv(n,t,r,null,-1===t||2===t?e[++s]:null)}}return n}function Pv(n,e,t,s,r){let i=0,o=n.length;if(-1===e)o=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t){if(null===s)return void(null!==r&&(n[i+1]=r));if(s===n[i+1])return void(n[i+2]=r)}i++,null!==s&&i++,null!==r&&i++}-1!==o&&(n.splice(o,0,e),i=o+1),n.splice(i++,0,t),null!==s&&n.splice(i++,0,s),null!==r&&n.splice(i++,0,r)}function Lv(n){return-1!==n}function lo(n){return 32767&n}function ho(n,e){let t=function(n){return n>>16}(n),s=e;for(;t>0;)s=s[15],t--;return s}let df=!0;function tl(n){const e=df;return df=n,e}let QI=0;function $a(n,e){const t=pf(n,e);if(-1!==t)return t;const s=e[1];s.firstCreatePass&&(n.injectorIndex=e.length,ff(s.data,n),ff(e,null),ff(s.blueprint,null));const r=nl(n,e),i=n.injectorIndex;if(Lv(r)){const o=lo(r),a=ho(r,e),c=a[1].data;for(let u=0;u<8;u++)e[i+u]=a[o+u]|c[o+u]}return e[i+8]=r,i}function ff(n,e){n.push(0,0,0,0,0,0,0,0,e)}function pf(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function nl(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,s=null,r=e;for(;null!==r;){const i=r[1],o=i.type;if(s=2===o?i.declTNode:1===o?r[6]:null,null===s)return-1;if(t++,r=r[15],-1!==s.injectorIndex)return s.injectorIndex|t<<16}return-1}function sl(n,e,t){!function(n,e,t){let s;"string"==typeof t?s=t.charCodeAt(0)||0:t.hasOwnProperty(Pa)&&(s=t[Pa]),null==s&&(s=t[Pa]=QI++);const r=255&s;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function Bv(n,e,t){if(t&Z.Optional)return n;Lu(e,"NodeInjector")}function qv(n,e,t,s){if(t&Z.Optional&&void 0===s&&(s=null),0==(t&(Z.Self|Z.Host))){const r=n[9],i=Sr(void 0);try{return r?r.get(e,s,t&Z.Optional):cv(e,s,t&Z.Optional)}finally{Sr(i)}}return Bv(s,e,t)}function Uv(n,e,t,s=Z.Default,r){if(null!==n){const i=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Pa)?n[Pa]:void 0;return"number"==typeof e?e>=0?255&e:KI:e}(t);if("function"==typeof i){if(!Iv(e,n,s))return s&Z.Host?Bv(r,t,s):qv(e,t,s,r);try{const o=i(s);if(null!=o||s&Z.Optional)return o;Lu(t)}finally{Nv()}}else if("number"==typeof i){let o=null,a=pf(n,e),c=-1,u=s&Z.Host?e[16][6]:null;for((-1===a||s&Z.SkipSelf)&&(c=-1===a?nl(n,e):e[a+8],-1!==c&&Wv(s,!1)?(o=e[1],a=lo(c),e=ho(c,e)):a=-1);-1!==a;){const l=e[1];if($v(i,a,l.data)){const h=XI(a,e,t,o,s,u);if(h!==Hv)return h}c=e[a+8],-1!==c&&Wv(s,e[1].data[a+8]===u)&&$v(i,a,e)?(o=l,a=lo(c),e=ho(c,e)):a=-1}}}return qv(e,t,s,r)}const Hv={};function KI(){return new fo(It(),x())}function XI(n,e,t,s,r,i){const o=e[1],a=o.data[n+8],l=function(n,e,t,s,r){const i=n.providerIndexes,o=e.data,a=1048575&i,c=n.directiveStart,l=i>>20,d=r?a+l:n.directiveEnd;for(let f=s?a:a+l;f<d;f++){const p=o[f];if(f<c&&t===p||f>=c&&p.type===t)return f}if(r){const f=o[c];if(f&&us(f)&&f.type===t)return c}return null}(a,o,t,null==s?Hu(a)&&df:s!=o&&0!=(3&a.type),r&Z.Host&&i===a);return null!==l?Wa(e,o,l,a):Hv}function Wa(n,e,t,s){let r=n[t];const i=e.data;if(function(n){return n instanceof Ua}(r)){const o=r;o.resolving&&function(n,e){throw new xr("200",`Circular dependency in DI detected for ${n}`)}(nn(i[t]));const a=tl(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Sr(o.injectImpl):null;Iv(n,s,Z.Default);try{r=n[t]=o.factory(void 0,i,n,s),e.firstCreatePass&&t>=s.directiveStart&&function(n,e,t){const{ngOnChanges:s,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(s){const o=mv(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),i&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,i),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,i))}(t,i[t],e)}finally{null!==c&&Sr(c),tl(a),o.resolving=!1,Nv()}}return r}function $v(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Wv(n,e){return!(n&Z.Self||n&Z.Host&&e)}class fo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,s){return Uv(this._tNode,this._lView,e,s,t)}}const go="__parameters__";function fi(n,e,t){return Ar(()=>{const s=function(n){return function(...t){if(n){const s=n(...t);for(const r in s)this[r]=s[r]}}}(e);function r(...i){if(this instanceof r)return s.apply(this,i),this;const o=new r(...i);return a.annotation=o,a;function a(c,u,l){const h=c.hasOwnProperty(go)?c[go]:Object.defineProperty(c,go,{value:[]})[go];for(;h.length<=l;)h.push(null);return(h[l]=h[l]||[]).push(o),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class ke{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=we({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const s1=new ke("AnalyzeForEntryComponents"),il=Function;function ks(n,e){n.forEach(t=>Array.isArray(t)?ks(t,e):e(t))}function al(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function pi(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Mn(n,e,t){let s=_o(n,e);return s>=0?n[1|s]=t:(s=~s,function(n,e,t,s){let r=n.length;if(r==e)n.push(t,s);else if(1===r)n.push(s,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=s}}(n,s,e,t)),s}function _f(n,e){const t=_o(n,e);if(t>=0)return n[1|t]}function _o(n,e){return function(n,e,t){let s=0,r=n.length>>t;for(;r!==s;){const i=s+(r-s>>1),o=n[i<<t];if(e===o)return i<<t;o>e?r=i:s=i+1}return~(r<<t)}(n,e,1)}const Za={},vf="__NG_DI_FLAG__",yo="ngTempTokenPath",f1=/\n/gm,bf="__source",wf=Le({provide:String,useValue:Le});let Ka;function vo(n){const e=Ka;return Ka=n,e}function g1(n,e=Z.Default){if(void 0===Ka)throw new Error("inject() must be called from an injection context");return null===Ka?cv(n,void 0,e):Ka.get(n,e&Z.Optional?null:void 0,e)}function j(n,e=Z.Default){return(Hd||g1)(z(n),e)}function gi(n){const e=[];for(let t=0;t<n.length;t++){const s=z(n[t]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let r,i=Z.Default;for(let o=0;o<s.length;o++){const a=s[o],c=m1(a);"number"==typeof c?-1===c?r=a.token:i|=c:r=a}e.push(j(r,i))}else e.push(j(s))}return e}function Xa(n,e){return n[vf]=e,n.prototype[vf]=e,n}function m1(n){return n[vf]}function Kv(n,e,t,s){const r=n[yo];throw e[bf]&&r.unshift(e[bf]),n.message=function(n,e,t,s=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=ve(e);if(Array.isArray(e))r=e.map(ve).join(" -> ");else if("object"==typeof e){let i=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):ve(a)))}r=`{${i.join(", ")}}`}return`${t}${s?"("+s+")":""}[${r}]: ${n.replace(f1,"\n  ")}`}("\n"+n.message,r,t,s),n.ngTokenPath=r,n[yo]=null,n}const bo=Xa(fi("Inject",n=>({token:n})),-1),mn=Xa(fi("Optional"),8),kr=Xa(fi("SkipSelf"),4);var On=(()=>((On=On||{})[On.Important=1]="Important",On[On.DashCase=2]="DashCase",On))();const sb="__ngContext__";function Zt(n,e){n[sb]=e}function Ef(n){const e=function(n){return n[sb]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function xf(n,e){return undefined(n,e)}function tc(n){const e=n[3];return cs(e)?e[3]:e}function Sf(n){return lb(n[13])}function Af(n){return lb(n[4])}function lb(n){for(;null!==n&&!cs(n);)n=n[4];return n}function Co(n,e,t,s,r){if(null!=s){let i,o=!1;cs(s)?i=s:Os(s)&&(o=!0,s=s[0]);const a=Dt(s);0===n&&null!==t?null==r?mb(e,t,a):mi(e,t,a,r||null,!0):1===n&&null!==t?mi(e,t,a,r||null,!0):2===n?function(n,e,t){const s=dl(n,e);s&&function(n,e,t,s){ht(n)?n.removeChild(e,t,s):e.removeChild(t)}(n,s,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=i&&function(n,e,t,s,r){const i=t[7];i!==Dt(t)&&Co(e,n,s,i,r);for(let a=10;a<t.length;a++){const c=t[a];nc(c[1],c,n,e,s,i)}}(e,n,i,t,r)}}function Mf(n,e,t){return ht(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function db(n,e){const t=n[9],s=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,tf(r,-1)),t.splice(s,1)}function Of(n,e){if(n.length<=10)return;const t=10+e,s=n[t];if(s){const r=s[17];null!==r&&r!==n&&db(r,s),e>0&&(n[t-1][4]=s[4]);const i=pi(n,10+e);!function(n,e){nc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(s[1],s);const o=i[19];null!==o&&o.detachView(i[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function fb(n,e){if(!(256&e[2])){const t=e[11];ht(t)&&t.destroyNode&&nc(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return Rf(n[1],n);for(;e;){let t=null;if(Os(e))t=e[13];else{const s=e[10];s&&(t=s)}if(!t){for(;e&&!e[4]&&e!==n;)Os(e)&&Rf(e[1],e),e=e[3];null===e&&(e=n),Os(e)&&Rf(e[1],e),t=e&&e[4]}e=t}}(e)}}function Rf(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let s=0;s<t.length;s+=2){const r=e[t[s]];if(!(r instanceof Ua)){const i=t[s+1];if(Array.isArray(i))for(let o=0;o<i.length;o+=2){const a=r[i[o]],c=i[o+1];try{c.call(a)}finally{}}else try{i.call(r)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,s=e[7];let r=-1;if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const o=t[i+1],a="function"==typeof o?o(e):Dt(e[o]),c=s[r=t[i+2]],u=t[i+3];"boolean"==typeof u?a.removeEventListener(t[i],c,u):u>=0?s[r=u]():s[r=-u].unsubscribe(),i+=2}else{const o=s[r=t[i+1]];t[i].call(o)}if(null!==s){for(let i=r+1;i<s.length;i++)s[i]();e[7]=null}}(n,e),1===e[1].type&&ht(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&cs(e[3])){t!==e[3]&&db(t,e);const s=e[19];null!==s&&s.detachView(n)}}}function pb(n,e,t){return function(n,e,t){let s=e;for(;null!==s&&40&s.type;)s=(e=s).parent;if(null===s)return t[0];if(2&s.flags){const r=n.data[s.directiveStart].encapsulation;if(r===At.None||r===At.Emulated)return null}return An(s,t)}(n,e.parent,t)}function mi(n,e,t,s,r){ht(n)?n.insertBefore(e,t,s,r):e.insertBefore(t,s,r)}function mb(n,e,t){ht(n)?n.appendChild(e,t):e.appendChild(t)}function _b(n,e,t,s,r){null!==s?mi(n,e,t,s,r):mb(n,e,t)}function dl(n,e){return ht(n)?n.parentNode(e):e.parentNode}let bb=function(n,e,t){return 40&n.type?An(n,t):null};function fl(n,e,t,s){const r=pb(n,s,e),i=e[11],a=function(n,e,t){return bb(n,e,t)}(s.parent||e[6],s,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)_b(i,r,t[c],a,!1);else _b(i,r,t,a,!1)}function pl(n,e){if(null!==e){const t=e.type;if(3&t)return An(e,n);if(4&t)return kf(-1,n[e.index]);if(8&t){const s=e.child;if(null!==s)return pl(n,s);{const r=n[e.index];return cs(r)?kf(-1,r):Dt(r)}}if(32&t)return xf(e,n)()||Dt(n[e.index]);{const s=Cb(n,e);return null!==s?Array.isArray(s)?s[0]:pl(tc(n[16]),s):pl(n,e.next)}}return null}function Cb(n,e){return null!==e?n[16][6].projection[e.projection]:null}function kf(n,e){const t=10+n+1;if(t<e.length){const s=e[t],r=s[1].firstChild;if(null!==r)return pl(s,r)}return e[7]}function Pf(n,e,t,s,r,i,o){for(;null!=t;){const a=s[t.index],c=t.type;if(o&&0===e&&(a&&Zt(Dt(a),s),t.flags|=4),64!=(64&t.flags))if(8&c)Pf(n,e,t.child,s,r,i,!1),Co(e,n,r,a,i);else if(32&c){const u=xf(t,s);let l;for(;l=u();)Co(e,n,r,l,i);Co(e,n,r,a,i)}else 16&c?Db(n,e,s,t,r,i):Co(e,n,r,a,i);t=o?t.projectionNext:t.next}}function nc(n,e,t,s,r,i){Pf(t,s,n.firstChild,e,r,i,!1)}function Db(n,e,t,s,r,i){const o=t[16],c=o[6].projection[s.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Co(e,n,r,c[u],i);else Pf(n,e,c,o[3],r,i,!0)}function Eb(n,e,t){ht(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Lf(n,e,t){ht(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function yl(n){return n.ngOriginalError}function IM(n,...e){n.error(...e)}class vi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),s=this._findContext(e),r=function(n){return n&&n.ngErrorLogger||IM}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),s&&r(this._console,"ERROR CONTEXT",s)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(yl(e)):null}_findOriginalError(e){let t=e&&yl(e);for(;t&&yl(t);)t=yl(t);return t||null}}const Hb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(je))();function $b(n){return n.ownerDocument.defaultView}function Ls(n){return n instanceof Function?n():n}function zb(n,e,t){let s=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const i=e.length;if(r+i===s||n.charCodeAt(r+i)<=32)return r}t=r+1}}const Gb="ng-template";function PM(n,e,t){let s=0;for(;s<n.length;){let r=n[s++];if(t&&"class"===r){if(r=n[s],-1!==zb(r.toLowerCase(),e,0))return!0}else if(1===r){for(;s<n.length&&"string"==typeof(r=n[s++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Qb(n){return 4===n.type&&n.value!==Gb}function LM(n,e,t){return e===(4!==n.type||t?n.value:Gb)}function VM(n,e,t){let s=4;const r=n.attrs||[],i=function(n){for(let e=0;e<n.length;e++)if(Fv(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&s){if(s=2|1&s,""!==c&&!LM(n,c,t)||""===c&&1===e.length){if(ls(s))return!1;o=!0}}else{const u=8&s?c:e[++a];if(8&s&&null!==n.attrs){if(!PM(n.attrs,u,t)){if(ls(s))return!1;o=!0}continue}const h=jM(8&s?"class":c,r,Qb(n),t);if(-1===h){if(ls(s))return!1;o=!0;continue}if(""!==u){let d;d=h>i?"":r[h+1].toLowerCase();const f=8&s?d:null;if(f&&-1!==zb(f,u,0)||2&s&&u!==d){if(ls(s))return!1;o=!0}}}}else{if(!o&&!ls(s)&&!ls(c))return!1;if(o&&ls(c))continue;o=!1,s=c|1&s}}return ls(s)||o}function ls(n){return 0==(1&n)}function jM(n,e,t,s){if(null===e)return-1;let r=0;if(s||!t){let i=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)i=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=i?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const s=n[t];if("number"==typeof s)return-1;if(s===e)return t;t++}return-1}(e,n)}function Yb(n,e,t=!1){for(let s=0;s<e.length;s++)if(VM(n,e[s],t))return!0;return!1}function Zb(n,e){return n?":not("+e.trim()+")":e}function $M(n){let e=n[0],t=1,s=2,r="",i=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&s){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&s?r+="."+o:4&s&&(r+=" "+o);else""!==r&&!ls(o)&&(e+=Zb(i,r),r=""),s=o,i=i||!ls(s);t++}return""!==r&&(e+=Zb(i,r)),e}const ue={};function vl(n){Kb(Ie(),x(),on()+n,zu())}function Kb(n,e,t,s){if(!s)if(3==(3&e[2])){const i=n.preOrderCheckHooks;null!==i&&Ku(e,i,t)}else{const i=n.preOrderHooks;null!==i&&Xu(e,i,0,t)}Or(t)}function bl(n,e){return n<<17|e<<2}function hs(n){return n>>17&32767}function zf(n){return 2|n}function ir(n){return(131068&n)>>2}function Gf(n,e){return-131069&n|e<<2}function Qf(n){return 1|n}function aw(n,e){const t=n.contentQueries;if(null!==t)for(let s=0;s<t.length;s+=2){const r=t[s],i=t[s+1];if(-1!==i){const o=n.data[i];cf(r),o.contentQueries(2,e[i],i)}}}function oc(n,e,t,s,r,i,o,a,c,u){const l=e.blueprint.slice();return l[0]=r,l[2]=140|s,Dv(l),l[3]=l[15]=n,l[8]=t,l[10]=o||n&&n[10],l[11]=a||n&&n[11],l[12]=c||n&&n[12]||null,l[9]=u||n&&n[9]||null,l[6]=i,l[16]=2==e.type?n[16]:l,l}function Eo(n,e,t,s,r){let i=n.data[e];if(null===i)i=function(n,e,t,s,r){const i=Tv(),o=sf(),c=n.data[e]=function(n,e,t,s,r,i){return{type:t,index:s,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?i:i&&i.parent,t,e,s,r);return null===n.firstChild&&(n.firstChild=c),null!==i&&(o?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c)),c}(n,e,t,s,r),oe.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=t,i.value=s,i.attrs=r;const o=function(){const n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();i.injectorIndex=null===o?-1:o.injectorIndex}return Rs(i,!0),i}function To(n,e,t,s){if(0===t)return-1;const r=e.length;for(let i=0;i<t;i++)e.push(s),n.blueprint.push(s),n.data.push(null);return r}function ac(n,e,t){Qu(e);try{const s=n.viewQuery;null!==s&&lp(1,s,t);const r=n.template;null!==r&&cw(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&aw(n,e),n.staticViewQueries&&lp(2,n.viewQuery,t);const i=n.components;null!==i&&function(n,e){for(let t=0;t<e.length;t++)DO(n,e[t])}(e,i)}catch(s){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),s}finally{e[2]&=-5,Yu()}}function xo(n,e,t,s){const r=e[2];if(256==(256&r))return;Qu(e);const i=zu();try{Dv(e),function(n){oe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&cw(n,e,t,2,s);const o=3==(3&r);if(!i)if(o){const u=n.preOrderCheckHooks;null!==u&&Ku(e,u,null)}else{const u=n.preOrderHooks;null!==u&&Xu(e,u,0,null),uf(e,0)}if(function(n){for(let e=Sf(n);null!==e;e=Af(e)){if(!e[2])continue;const t=e[9];for(let s=0;s<t.length;s++){const r=t[s],i=r[3];0==(1024&r[2])&&tf(i,1),r[2]|=1024}}}(e),function(n){for(let e=Sf(n);null!==e;e=Af(e))for(let t=10;t<e.length;t++){const s=e[t],r=s[1];ef(s)&&xo(r,s,r.template,s[8])}}(e),null!==n.contentQueries&&aw(n,e),!i)if(o){const u=n.contentCheckHooks;null!==u&&Ku(e,u)}else{const u=n.contentHooks;null!==u&&Xu(e,u,1),uf(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let s=0;s<t.length;s++){const r=t[s];if(r<0)Or(~r);else{const i=r,o=t[++s],a=t[++s];OI(o,i),a(2,e[i])}}}finally{Or(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)CO(n,e[t])}(e,a);const c=n.viewQuery;if(null!==c&&lp(2,c,s),!i)if(o){const u=n.viewCheckHooks;null!==u&&Ku(e,u)}else{const u=n.viewHooks;null!==u&&Xu(e,u,2),uf(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,tf(e[3],-1))}finally{Yu()}}function sO(n,e,t,s){const r=e[10],i=!zu(),o=function(n){return 4==(4&n[2])}(e);try{i&&!o&&r.begin&&r.begin(),o&&ac(n,e,s),xo(n,e,t,s)}finally{i&&!o&&r.end&&r.end()}}function cw(n,e,t,s,r){const i=on(),o=2&s;try{Or(-1),o&&e.length>20&&Kb(n,e,20,zu()),t(s,r)}finally{Or(i)}}function np(n,e,t){!Ev()||(function(n,e,t,s){const r=t.directiveStart,i=t.directiveEnd;n.firstCreatePass||$a(t,e),Zt(s,e);const o=t.initialInputs;for(let a=r;a<i;a++){const c=n.data[a],u=us(c);u&&_O(e,t,c);const l=Wa(e,n,a,t);Zt(l,e),null!==o&&yO(0,a-r,l,c,0,o),u&&(In(t.index,e)[8]=l)}}(n,e,t,An(t,e)),128==(128&t.flags)&&function(n,e,t){const s=t.directiveStart,r=t.directiveEnd,o=t.index,a=oe.lFrame.currentDirectiveIndex;try{Or(o);for(let c=s;c<r;c++){const u=n.data[c],l=e[c];of(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&_w(u,l)}}finally{Or(-1),of(a)}}(n,e,t))}function sp(n,e,t=An){const s=e.localNames;if(null!==s){let r=e.index+1;for(let i=0;i<s.length;i+=2){const o=s[i+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function lw(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Dl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Dl(n,e,t,s,r,i,o,a,c,u){const l=20+s,h=l+r,d=function(n,e){const t=[];for(let s=0;s<e;s++)t.push(s<n?null:ue);return t}(l,h),f="function"==typeof u?u():u;return d[1]={type:n,blueprint:d,template:t,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function pw(n,e,t){for(let s in n)if(n.hasOwnProperty(s)){const r=n[s];(t=null===t?{}:t).hasOwnProperty(s)?t[s].push(e,r):t[s]=[e,r]}return t}function Nn(n,e,t,s,r,i,o,a){const c=An(e,t);let l,u=e.inputs;!a&&null!=u&&(l=u[s])?(Sw(n,t,l,s,r),Hu(e)&&function(n,e){const t=In(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(s=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(s),r=null!=o?o(r,e.value||"",s):r,ht(i)?i.setProperty(c,s,r):hf(s)||(c.setProperty?c.setProperty(s,r):c[s]=r))}function rp(n,e,t,s){let r=!1;if(Ev()){const i=function(n,e,t){const s=n.directiveRegistry;let r=null;if(s)for(let i=0;i<s.length;i++){const o=s[i];Yb(t,o.selectors,!1)&&(r||(r=[]),sl($a(t,e),n,o.type),us(o)?(yw(n,t),r.unshift(o)):r.push(o))}return r}(n,e,t),o=null===s?null:{"":-1};if(null!==i){r=!0,vw(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const h=i[l];h.providersResolver&&h.providersResolver(h)}let a=!1,c=!1,u=To(n,e,i.length,null);for(let l=0;l<i.length;l++){const h=i[l];t.mergedAttrs=el(t.mergedAttrs,h.hostAttrs),bw(n,t,e,u,h),mO(u,h,o),null!==h.contentQueries&&(t.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=128);const d=h.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!c&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),c=!0),u++}!function(n,e){const s=e.directiveEnd,r=n.data,i=e.attrs,o=[];let a=null,c=null;for(let u=e.directiveStart;u<s;u++){const l=r[u],h=l.inputs,d=null===i||Qb(e)?null:vO(h,i);o.push(d),a=pw(h,u,a),c=pw(l.outputs,u,c)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=c}(n,t)}o&&function(n,e,t){if(e){const s=n.localNames=[];for(let r=0;r<e.length;r+=2){const i=t[e[r+1]];if(null==i)throw new xr("301",`Export of name '${e[r+1]}' not found!`);s.push(e[r],i)}}}(t,s,o)}return t.mergedAttrs=el(t.mergedAttrs,t.attrs),r}function mw(n,e,t,s,r,i){const o=i.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=c&&a.push(c),a.push(s,r,o)}}function _w(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function yw(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function mO(n,e,t){if(t){if(e.exportAs)for(let s=0;s<e.exportAs.length;s++)t[e.exportAs[s]]=n;us(e)&&(t[""]=n)}}function vw(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function bw(n,e,t,s,r){n.data[s]=r;const i=r.factory||(r.factory=hi(r.type)),o=new Ua(i,us(r),null);n.blueprint[s]=o,t[s]=o,mw(n,e,0,s,To(n,t,r.hostVars,ue),r)}function _O(n,e,t){const s=An(e,n),r=lw(t),i=n[10],o=El(n,oc(n,r,null,t.onPush?64:16,s,e,i,i.createRenderer(s,t),null,null));n[e.index]=o}function yO(n,e,t,s,r,i){const o=i[e];if(null!==o){const a=s.setInput;for(let c=0;c<o.length;){const u=o[c++],l=o[c++],h=o[c++];null!==a?s.setInput(t,h,u,l):t[l]=h}}}function vO(n,e){let t=null,s=0;for(;s<e.length;){const r=e[s];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[s+1])),s+=2}else s+=2;else s+=4}return t}function ww(n,e,t,s){return new Array(n,!0,!1,e,null,0,s,t,null,null)}function CO(n,e){const t=In(e,n);if(ef(t)){const s=t[1];80&t[2]?xo(s,t,s.template,t[8]):t[5]>0&&op(t)}}function op(n){for(let s=Sf(n);null!==s;s=Af(s))for(let r=10;r<s.length;r++){const i=s[r];if(1024&i[2]){const o=i[1];xo(o,i,o.template,i[8])}else i[5]>0&&op(i)}const t=n[1].components;if(null!==t)for(let s=0;s<t.length;s++){const r=In(t[s],n);ef(r)&&r[5]>0&&op(r)}}function DO(n,e){const t=In(e,n),s=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(s,t),ac(s,t,t[8])}function El(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function ap(n){for(;n;){n[2]|=64;const e=tc(n);if(dI(n)&&!e)return n;n=e}return null}function up(n,e,t){const s=e[10];s.begin&&s.begin();try{xo(n,e,n.template,t)}catch(r){throw xw(e,r),r}finally{s.end&&s.end()}}function Cw(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],s=Ef(t),r=s[1];sO(r,s,r.template,t)}}(n[8])}function lp(n,e,t){cf(0),e(n,t)}const AO=(()=>Promise.resolve(null))();function Dw(n){return n[7]||(n[7]=[])}function Ew(n){return n.cleanup||(n.cleanup=[])}function xw(n,e){const t=n[9],s=t?t.get(vi,null):null;s&&s.handleError(e)}function Sw(n,e,t,s,r){for(let i=0;i<t.length;){const o=t[i++],a=t[i++],c=e[o],u=n.data[o];null!==u.setInput?u.setInput(c,r,s,a):c[a]=r}}function Tl(n,e,t){let s=t?n.styles:null,r=t?n.classes:null,i=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?i=a:1==i?r=jd(r,a):2==i&&(s=jd(s,a+": "+e[++o]+";"))}t?n.styles=s:n.stylesWithoutHost=s,t?n.classes=r:n.classesWithoutHost=r}const So=new ke("INJECTOR",-1);class Aw{get(e,t=Za){if(t===Za){const s=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw s.name="NullInjectorError",s}return t}}const cc=new ke("Set Injector scope."),uc={},OO={};let hp;function Iw(){return void 0===hp&&(hp=new Aw),hp}function Mw(n,e=null,t=null,s){return new NO(n,t,e||Iw(),s)}class NO{constructor(e,t,s,r=null){this.parent=s,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&ks(t,a=>this.processProvider(a,e,t)),ks([e],a=>this.processInjectorType(a,[],i)),this.records.set(So,Ao(void 0,this));const o=this.records.get(cc);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:ve(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Za,s=Z.Default){this.assertNotDestroyed();const r=vo(this),i=Sr(void 0);try{if(!(s&Z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof ke}(e)&&nr(e);a=c&&this.injectableDefInScope(c)?Ao(dp(e),uc):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(s&Z.Self?Iw():this.parent).get(e,t=s&Z.Optional&&t===Za?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[yo]=o[yo]||[]).unshift(ve(e)),r)throw o;return Kv(o,e,"R3InjectorError",this.source)}throw o}finally{Sr(i),vo(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((s,r)=>e.push(ve(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,s){if(!(e=z(e)))return!1;let r=ov(e);const i=null==r&&e.ngModule||void 0,o=void 0===i?e:i,a=-1!==s.indexOf(o);if(void 0!==i&&(r=ov(i)),null==r)return!1;if(null!=r.imports&&!a){let l;s.push(o);try{ks(r.imports,h=>{this.processInjectorType(h,t,s)&&(void 0===l&&(l=[]),l.push(h))})}finally{}if(void 0!==l)for(let h=0;h<l.length;h++){const{ngModule:d,providers:f}=l[h];ks(f,p=>this.processProvider(p,d,f||Ue))}}this.injectorDefTypes.add(o);const c=hi(o)||(()=>new o);this.records.set(o,Ao(c,uc));const u=r.providers;if(null!=u&&!a){const l=e;ks(u,h=>this.processProvider(h,l,u))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,s){let r=Io(e=z(e))?e:z(e&&e.provide);const i=function(n,e,t){return Rw(n)?Ao(void 0,n.useValue):Ao(function(n,e,t){let s;if(Io(n)){const r=z(n);return hi(r)||dp(r)}if(Rw(n))s=()=>z(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))s=()=>n.useFactory(...gi(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))s=()=>j(z(n.useExisting));else{const r=z(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return hi(r)||dp(r);s=()=>new r(...gi(n.deps))}return s}(n),uc)}(e);if(Io(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Ao(void 0,uc,!0),o.factory=()=>gi(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,i)}hydrate(e,t){return t.value===uc&&(t.value=OO,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=z(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function dp(n){const e=nr(n),t=null!==e?e.factory:hi(n);if(null!==t)return t;if(n instanceof ke)throw new Error(`Token ${ve(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const s=function(n,e){const t=[];for(let s=0;s<n;s++)t.push(e);return t}(e,"?");throw new Error(`Can't resolve all parameters for ${ve(n)}: (${s.join(", ")}).`)}const t=function(n){const e=n&&(n[Vu]||n[av]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function Ao(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Rw(n){return null!==n&&"object"==typeof n&&wf in n}function Io(n){return"function"==typeof n}const Nw=function(n,e,t){return function(n,e=null,t=null,s){const r=Mw(n,e,t,s);return r._resolveInjectorDefTypes(),r}({name:t},e,n,t)};let He=(()=>{class n{static create(t,s){return Array.isArray(t)?Nw(t,s,""):Nw(t.providers,t.parent,t.name||"")}}return n.THROW_IF_NOT_FOUND=Za,n.NULL=new Aw,n.\u0275prov=we({token:n,providedIn:"any",factory:()=>j(So)}),n.__NG_ELEMENT_ID__=-1,n})();function eR(n,e){Zu(Ef(n)[1],It())}let xl=null;function Mo(){if(!xl){const n=je.Symbol;if(n&&n.iterator)xl=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const s=e[t];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(xl=s)}}}return xl}function hc(n){return!!vp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Mo()in n)}function vp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Kt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function wp(n){return function(n,e){return n[e]}(oe.lFrame.contextLView,20+n)}function Y(n,e=Z.Default){const t=x();return null===t?j(n,e):Uv(It(),t,z(n),e)}function Il(n,e,t){const s=x();return Kt(s,uo(),e)&&Nn(Ie(),ot(),s,n,e,s[11],t,!1),Il}function xp(n,e,t,s,r){const o=r?"class":"style";Sw(n,t,e.inputs[o],o,s)}function Ot(n,e,t,s){const r=x(),i=Ie(),o=20+n,a=r[11],c=r[o]=Mf(a,e,oe.lFrame.currentNamespace),u=i.firstCreatePass?function(n,e,t,s,r,i,o){const a=e.consts,u=Eo(e,n,2,r,Mr(a,i));return rp(e,t,u,Mr(a,o)),null!==u.attrs&&Tl(u,u.attrs,!1),null!==u.mergedAttrs&&Tl(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,i,r,0,e,t,s):i.data[o];Rs(u,!0);const l=u.mergedAttrs;null!==l&&Ju(a,c,l);const h=u.classes;null!==h&&Lf(a,c,h);const d=u.styles;null!==d&&Eb(a,c,d),64!=(64&u.flags)&&fl(i,r,c,u),0===oe.lFrame.elementDepthCount&&Zt(c,r),oe.lFrame.elementDepthCount++,$u(u)&&(np(i,r,u),function(n,e,t){if(Qd(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const o=n.data[i];o.contentQueries&&o.contentQueries(1,t[i],i)}}}(i,u,r)),null!==s&&sp(r,u)}function Rt(){let n=It();sf()?oe.lFrame.isParent=!1:(n=n.parent,Rs(n,!1));const e=n;oe.lFrame.elementDepthCount--;const t=Ie();t.firstCreatePass&&(Zu(t,n),Qd(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&xp(t,e,x(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&xp(t,e,x(),e.stylesWithoutHost,!1)}function qo(n,e,t,s){Ot(n,e,t,s),Rt()}function Ml(n){return!!n&&"function"==typeof n.then}const Sp=function(n){return!!n&&"function"==typeof n.subscribe};function kn(n,e,t,s){const r=x(),i=Ie(),o=It();return function(n,e,t,s,r,i,o,a){const c=$u(s),l=n.firstCreatePass&&Ew(n),h=e[8],d=Dw(e);let f=!0;if(3&s.type||a){const m=An(s,e),_=a?a(m):m,y=d.length,b=a?E=>a(Dt(E[s.index])):s.index;if(ht(t)){let E=null;if(!a&&c&&(E=function(n,e,t,s){const r=n.cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const o=r[i];if(o===t&&r[i+1]===s){const a=e[7],c=r[i+2];return a.length>c?a[c]:null}"string"==typeof o&&(i+=2)}return null}(n,e,r,s.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=i,E.__ngLastListenerFn__=i,f=!1;else{i=Ap(s,e,h,i,!1);const C=t.listen(_,r,i);d.push(i,C),l&&l.push(r,b,y,y+1)}}else i=Ap(s,e,h,i,!0),_.addEventListener(r,i,o),d.push(i),l&&l.push(r,b,y,o)}else i=Ap(s,e,h,i,!1);const p=s.outputs;let g;if(f&&null!==p&&(g=p[r])){const m=g.length;if(m)for(let _=0;_<m;_+=2){const D=e[g[_]][g[_+1]].subscribe(i),v=d.length;d.push(i,D),l&&l.push(r,s.index,v,-(v+1))}}}(i,r,r[11],o,n,e,!!t,s),kn}function T0(n,e,t,s){try{return!1!==t(s)}catch(r){return xw(n,r),!1}}function Ap(n,e,t,s,r){return function i(o){if(o===Function)return s;const a=2&n.flags?In(n.index,e):e;0==(32&e[2])&&ap(a);let c=T0(e,0,s,o),u=i.__ngNextListenerFn__;for(;u;)c=T0(e,0,u,o)&&c,u=u.__ngNextListenerFn__;return r&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function x0(n=1){return function(n){return(oe.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,oe.lFrame.contextLView))[8]}(n)}function fc(n,e,t){return Ip(n,"",e,"",t),fc}function Ip(n,e,t,s,r){const i=x(),o=function(n,e,t,s){return Kt(n,uo(),t)?e+he(t)+s:ue}(i,e,t,s);return o!==ue&&Nn(Ie(),ot(),i,n,o,i[11],r,!1),Ip}function F0(n,e,t,s,r){const i=n[t+1],o=null===e;let a=s?hs(i):ir(i),c=!1;for(;0!==a&&(!1===c||o);){const l=n[a+1];$R(n[a],e)&&(c=!0,n[a+1]=s?Qf(l):zf(l)),a=s?hs(l):ir(l)}c&&(n[t+1]=s?zf(i):Qf(i))}function $R(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&_o(n,e)>=0}function Mp(n,e,t){return function(n,e,t,s){const r=x(),i=Ie(),o=function(n){const e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);i.firstUpdatePass&&function(n,e,t,s){const r=n.data;if(null===r[t+1]){const i=r[on()],o=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(i,s)&&null===e&&!o&&(e=!1),e=function(n,e,t,s){const r=function(n){const e=oe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let i=s?e.residualClasses:e.residualStyles;if(null===r)0===(s?e.classBindings:e.styleBindings)&&(t=pc(t=Op(null,n,e,t,s),e.attrs,s),i=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=Op(r,n,e,t,s),null===i){let c=function(n,e,t){const s=t?e.classBindings:e.styleBindings;if(0!==ir(s))return n[hs(s)]}(n,e,s);void 0!==c&&Array.isArray(c)&&(c=Op(null,n,e,c[1],s),c=pc(c,e.attrs,s),function(n,e,t,s){n[hs(t?e.classBindings:e.styleBindings)]=s}(n,e,s,c))}else i=function(n,e,t){let s;const r=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<r;i++)s=pc(s,n[i].hostAttrs,t);return pc(s,e.attrs,t)}(n,e,s)}return void 0!==i&&(s?e.residualClasses=i:e.residualStyles=i),t}(r,i,e,s),function(n,e,t,s,r,i){let o=i?e.classBindings:e.styleBindings,a=hs(o),c=ir(o);n[s]=t;let l,u=!1;if(Array.isArray(t)){const h=t;l=h[1],(null===l||_o(h,l)>0)&&(u=!0)}else l=t;if(r)if(0!==c){const d=hs(n[a+1]);n[s+1]=bl(d,a),0!==d&&(n[d+1]=Gf(n[d+1],s)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],s)}else n[s+1]=bl(a,0),0!==a&&(n[a+1]=Gf(n[a+1],s)),a=s;else n[s+1]=bl(c,0),0===a?a=s:n[c+1]=Gf(n[c+1],s),c=s;u&&(n[s+1]=zf(n[s+1])),F0(n,l,s,!0),F0(n,l,s,!1),function(n,e,t,s,r){const i=r?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&_o(i,e)>=0&&(t[s+1]=Qf(t[s+1]))}(e,l,n,s,i),o=bl(a,c),i?e.classBindings=o:e.styleBindings=o}(r,i,e,t,o,s)}}(i,n,o,s),e!==ue&&Kt(r,o,e)&&function(n,e,t,s,r,i,o,a){if(!(3&e.type))return;const c=n.data,u=c[a+1];Ol(function(n){return 1==(1&n)}(u)?G0(c,e,t,r,ir(u),o):void 0)||(Ol(i)||function(n){return 2==(2&n)}(u)&&(i=G0(c,null,t,r,a,o)),function(n,e,t,s,r){const i=ht(n);if(e)r?i?n.addClass(t,s):t.classList.add(s):i?n.removeClass(t,s):t.classList.remove(s);else{let o=-1===s.indexOf("-")?void 0:On.DashCase;if(null==r)i?n.removeStyle(t,s,o):t.style.removeProperty(s);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=On.Important),i?n.setStyle(t,s,r,o):t.style.setProperty(s,r,a?"important":"")}}}(s,o,function(n,e){return Dt(e[n])}(on(),t),r,i))}(i,i.data[on()],r,r[11],n,r[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ve(function(n){return n instanceof class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),s,o)}(n,e,t,!1),Mp}function Op(n,e,t,s,r){let i=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(i=e[a],s=pc(s,i.hostAttrs,r),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),s}function pc(n,e,t){const s=t?1:2;let r=-1;if(null!==e)for(let i=0;i<e.length;i++){const o=e[i];"number"==typeof o?r=o:r===s&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Mn(n,o,!!t||e[++i]))}return void 0===n?null:n}function G0(n,e,t,s,r,i){const o=null===e;let a;for(;r>0;){const c=n[r],u=Array.isArray(c),l=u?c[1]:c,h=null===l;let d=t[r+1];d===ue&&(d=h?Ue:void 0);let f=h?_f(d,s):l===s?d:void 0;if(u&&!Ol(f)&&(f=_f(c,s)),Ol(f)&&(a=f,o))return a;const p=n[r+1];r=o?hs(p):ir(p)}if(null!==e){let c=i?e.residualClasses:e.residualStyles;null!=c&&(a=_f(c,s))}return a}function Ol(n){return void 0!==n}function Us(n,e=""){const t=x(),s=Ie(),r=n+20,i=s.firstCreatePass?Eo(s,r,1,e,null):s.data[r],o=t[r]=function(n,e){return ht(n)?n.createText(e):n.createTextNode(e)}(t[11],e);fl(s,t,o,i),Rs(i,!1)}const wi=void 0;var TN=["en",[["a","p"],["AM","PM"],wi],[["AM","PM"],wi,wi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wi,"{1} 'at' {0}",wi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let Ho={};function gC(n){return n in Ho||(Ho[n]=je.ng&&je.ng.common&&je.ng.common.locales&&je.ng.common.locales[n]),Ho[n]}var P=(()=>((P=P||{})[P.LocaleId=0]="LocaleId",P[P.DayPeriodsFormat=1]="DayPeriodsFormat",P[P.DayPeriodsStandalone=2]="DayPeriodsStandalone",P[P.DaysFormat=3]="DaysFormat",P[P.DaysStandalone=4]="DaysStandalone",P[P.MonthsFormat=5]="MonthsFormat",P[P.MonthsStandalone=6]="MonthsStandalone",P[P.Eras=7]="Eras",P[P.FirstDayOfWeek=8]="FirstDayOfWeek",P[P.WeekendRange=9]="WeekendRange",P[P.DateFormat=10]="DateFormat",P[P.TimeFormat=11]="TimeFormat",P[P.DateTimeFormat=12]="DateTimeFormat",P[P.NumberSymbols=13]="NumberSymbols",P[P.NumberFormats=14]="NumberFormats",P[P.CurrencyCode=15]="CurrencyCode",P[P.CurrencySymbol=16]="CurrencySymbol",P[P.CurrencyName=17]="CurrencyName",P[P.Currencies=18]="Currencies",P[P.Directionality=19]="Directionality",P[P.PluralCase=20]="PluralCase",P[P.ExtraData=21]="ExtraData",P))();const Rl="en-US";let mC=Rl;function kp(n){xn(n,"Expected localeId to be defined"),"string"==typeof n&&(mC=n.toLowerCase().replace(/_/g,"-"))}class qC{}const HC="ngComponent";class xk{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${ve(n)}. Did you add it to @NgModule.entryComponents?`);return e[HC]=n,e}(e)}}let Ci=(()=>{class n{}return n.NULL=new xk,n})();function Ll(...n){}function Wo(n,e){return new Fn(An(n,e))}const Ik=function(){return Wo(It(),x())};let Fn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Ik,n})();class Vl{}let jl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>Ok(),n})();const Ok=function(){const n=x(),t=In(It().index,n);return function(n){return n[11]}(Os(t)?t:n)};let Up=(()=>{class n{}return n.\u0275prov=we({token:n,providedIn:"root",factory:()=>null}),n})();class Bl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const WC=new Bl("12.2.17");class zC{constructor(){}supports(e){return hc(e)}create(e){return new Fk(e)}}const kk=(n,e)=>e;class Fk{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kk}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,s=this._removalsHead,r=0,i=null;for(;t||s;){const o=!s||t&&t.currentIndex<QC(s,r,i)?t:s,a=QC(o,r,i),c=o.currentIndex;if(o===s)r--,s=s._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);const u=a-r,l=c-r;if(u!=l){for(let d=0;d<u;d++){const f=d<i.length?i[d]:i[d]=0,p=f+d;l<=p&&p<u&&(i[d]=f+1)}i[o.previousIndex]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!hc(e))throw new Error(`Error trying to diff '${ve(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,i,o,t=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],o=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,o)?(s&&(t=this._verifyReinsertion(t,i,o,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,o,a),s=!0),t=t._next}else r=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Mo()]();let s;for(;!(s=t.next()).done;)e(s.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(s&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),s=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,s,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(s,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new Pk(t,s),i,r),e}_verifyReinsertion(e,t,s,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,s),this._addToMoves(e,s),e}_moveAfter(e,t,s){return this._unlink(e),this._insertAfter(e,t,s),this._addToMoves(e,s),e}_addAfter(e,t,s){return this._insertAfter(e,t,s),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,s){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new GC),this._linkedRecords.put(e),e.currentIndex=s,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,s=e._next;return null===t?this._itHead=s:t._next=s,null===s?this._itTail=t:s._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GC),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Pk{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lk{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===t||t<=s.currentIndex)&&Object.is(s.trackById,e))return s;return null}remove(e){const t=e._prevDup,s=e._nextDup;return null===t?this._head=s:t._nextDup=s,null===s?this._tail=t:s._prevDup=t,null===this._head}}class GC{constructor(){this.map=new Map}put(e){const t=e.trackById;let s=this.map.get(t);s||(s=new Lk,this.map.set(t,s)),s.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QC(n,e,t){const s=n.previousIndex;if(null===s)return s;let r=0;return t&&s<t.length&&(r=t[s]),s+e+r}class YC{constructor(){}supports(e){return e instanceof Map||vp(e)}create(){return new Vk}}class Vk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||vp(e)))throw new Error(`Error trying to diff '${ve(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(s,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,s),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(r,s);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let s=t;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const s=e._prev;return t._next=e,t._prev=s,e._prev=t,s&&(s._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const i=r._prev,o=r._next;return i&&(i._next=o),o&&(o._prev=i),r._next=null,r._prev=null,r}const s=new jk(e);return this._records.set(e,s),s.currentValue=t,this._addToAdditions(s),s}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(s=>t(e[s],s))}}class jk{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ZC(){return new vc([new zC])}let vc=(()=>{class n{constructor(t){this.factories=t}static create(t,s){if(null!=s){const r=s.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:s=>n.create(t,s||ZC()),deps:[[n,new kr,new mn]]}}find(t){const s=this.factories.find(r=>r.supports(t));if(null!=s)return s;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=we({token:n,providedIn:"root",factory:ZC}),n})();function KC(){return new zo([new YC])}let zo=(()=>{class n{constructor(t){this.factories=t}static create(t,s){if(s){const r=s.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:s=>n.create(t,s||KC()),deps:[[n,new kr,new mn]]}}find(t){const s=this.factories.find(r=>r.supports(t));if(s)return s;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=we({token:n,providedIn:"root",factory:KC}),n})();function ql(n,e,t,s,r=!1){for(;null!==t;){const i=e[t.index];if(null!==i&&s.push(Dt(i)),cs(i))for(let a=10;a<i.length;a++){const c=i[a],u=c[1].firstChild;null!==u&&ql(c[1],c,u,s)}const o=t.type;if(8&o)ql(n,e,t.child,s);else if(32&o){const a=xf(t,e);let c;for(;c=a();)s.push(c)}else if(16&o){const a=Cb(e,t);if(Array.isArray(a))s.push(...a);else{const c=tc(e[16]);ql(c[1],c,a,s,!0)}}t=r?t.projectionNext:t.next}return s}class bc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return ql(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(cs(e)){const t=e[8],s=t?t.indexOf(this):-1;s>-1&&(Of(e,s),pi(t,s))}this._attachedToViewContainer=!1}fb(this._lView[1],this._lView)}onDestroy(e){!function(n,e,t,s){const r=Dw(e);null===t?r.push(s):(r.push(t),n.firstCreatePass&&Ew(n).push(s,r.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){ap(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){up(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){Gu(!0);try{up(n,e,t)}finally{Gu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){nc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class qk extends bc{constructor(e){super(e),this._view=e}detectChanges(){Cw(this._view)}checkNoChanges(){!function(n){Gu(!0);try{Cw(n)}finally{Gu(!1)}}(this._view)}get context(){return null}}const Hk=function(n){return function(n,e,t){if(Hu(n)&&!t){const s=In(n.index,e);return new bc(s,s)}return 47&n.type?new bc(e[16],e):null}(It(),x(),16==(16&n))};let Hp=(()=>{class n{}return n.__NG_ELEMENT_ID__=Hk,n})();const zk=[new YC],Qk=new vc([new zC]),Yk=new zo(zk),Kk=function(){return function(n,e){return 4&n.type?new Jk(e,n,Wo(n,e)):null}(It(),x())};let ur=(()=>{class n{}return n.__NG_ELEMENT_ID__=Kk,n})();const Xk=ur,Jk=class extends Xk{constructor(e,t,s){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=s}createEmbeddedView(e){const t=this._declarationTContainer.tViews,s=oc(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);s[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(s[19]=i.createEmbeddedView(t)),ac(t,s,e),new bc(s)}};class Hs{}class XC{}const nF=function(){return function(n,e){let t;const s=e[n.index];if(cs(s))t=s;else{let r;if(8&n.type)r=Dt(s);else{const i=e[11];r=i.createComment("");const o=An(n,e);mi(i,dl(i,o),r,function(n,e){return ht(n)?n.nextSibling(e):e.nextSibling}(i,o),!1)}e[n.index]=t=ww(s,e,r,n),El(e,t)}return new JC(t,n,e)}(It(),x())};let ms=(()=>{class n{}return n.__NG_ELEMENT_ID__=nF,n})();const rF=ms,JC=class extends rF{constructor(e,t,s){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=s}get element(){return Wo(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){const e=nl(this._hostTNode,this._hostLView);if(Lv(e)){const t=ho(e,this._hostLView),s=lo(e);return new fo(t[1].data[s+8],t)}return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=eD(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,s){const r=e.createEmbeddedView(t||{});return this.insert(r,s),r}createComponent(e,t,s,r,i){const o=s||this.parentInjector;if(!i&&null==e.ngModule&&o){const c=o.get(Hs,null);c&&(i=c)}const a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a}insert(e,t){const s=e._lView,r=s[1];if(function(n){return cs(n[3])}(s)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const h=s[3],d=new JC(h,h[6],h[3]);d.detach(d.indexOf(e))}}const i=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,s){const r=10+s,i=t.length;s>0&&(t[r-1][4]=e),s<i-10?(e[4]=t[r],al(t,10+s,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(r,s,o,i);const a=kf(i,o),c=s[11],u=dl(c,o[7]);return null!==u&&function(n,e,t,s,r,i){s[0]=r,s[6]=e,nc(n,s,t,1,r,i)}(r,o[6],c,s,u,a),e.attachToViewContainerRef(),al($p(o),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=eD(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),s=Of(this._lContainer,t);s&&(pi($p(this._lContainer),t),fb(s[1],s))}detach(e){const t=this._adjustIndex(e,-1),s=Of(this._lContainer,t);return s&&null!=pi($p(this._lContainer),t)?new bc(s):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function eD(n){return n[8]}function $p(n){return n[8]||(n[8]=[])}const Zo={};class wD extends Ci{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Qt(e);return new DD(t,this.ngModule)}}function CD(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const eP=new ke("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Hb});class DD extends qC{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map($M).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return CD(this.componentDef.inputs)}get outputs(){return CD(this.componentDef.outputs)}create(e,t,s,r){const i=(r=r||this.ngModule)?function(n,e){return{get:(t,s,r)=>{const i=n.get(t,Zo,r);return i!==Zo||s===Zo?i:e.get(t,s,r)}}}(e,r.injector):e,o=i.get(Vl,wv),a=i.get(Up,null),c=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",l=s?function(n,e,t){if(ht(n))return n.selectRootElement(e,t===At.ShadowDom);let s="string"==typeof e?n.querySelector(e):e;return s.textContent="",s}(c,s,this.componentDef.encapsulation):Mf(o.createRenderer(null,this.componentDef),u,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),h=this.componentDef.onPush?576:528,d=function(n,e){return{components:[],scheduler:n||Hb,clean:AO,playerHandler:e||null,flags:0}}(),f=Dl(0,null,null,1,0,null,null,null,null,null),p=oc(null,f,d,h,null,null,o,c,a,i);let g,m;Qu(p);try{const _=function(n,e,t,s,r,i){const o=t[1];t[20]=n;const c=Eo(o,20,2,"#host",null),u=c.mergedAttrs=e.hostAttrs;null!==u&&(Tl(c,u,!0),null!==n&&(Ju(r,n,u),null!==c.classes&&Lf(r,n,c.classes),null!==c.styles&&Eb(r,n,c.styles)));const l=s.createRenderer(n,e),h=oc(t,lw(e),null,e.onPush?64:16,t[20],c,s,l,i||null,null);return o.firstCreatePass&&(sl($a(c,t),o,e.type),yw(o,c),vw(c,t.length,1)),El(t,h),t[20]=h}(l,this.componentDef,p,o,c);if(l)if(s)Ju(c,l,["ng-version",WC.full]);else{const{attrs:y,classes:b}=function(n){const e=[],t=[];let s=1,r=2;for(;s<n.length;){let i=n[s];if("string"==typeof i)2===r?""!==i&&e.push(i,n[++s]):8===r&&t.push(i);else{if(!ls(r))break;r=i}s++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);y&&Ju(c,l,y),b&&b.length>0&&Lf(c,l,b.join(" "))}if(m=Jd(f,20),void 0!==t){const y=m.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const E=t[b];y.push(null!=E?Array.from(E):null)}}g=function(n,e,t,s,r){const i=t[1],o=function(n,e,t){const s=It();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),bw(n,s,e,To(n,e,1,null),t));const r=Wa(e,n,s.directiveStart,s);Zt(r,e);const i=An(s,e);return i&&Zt(i,e),r}(i,t,e);if(s.components.push(o),n[8]=o,r&&r.forEach(c=>c(o,e)),e.contentQueries){const c=It();e.contentQueries(1,o,c.directiveStart)}const a=It();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Or(a.index),mw(t[1],a,0,a.directiveStart,a.directiveEnd,e),_w(e,o)),o}(_,this.componentDef,p,d,[eR]),ac(f,p,null)}finally{Yu()}return new sP(this.componentType,g,Wo(m,p),p,m)}}class sP extends class{}{constructor(e,t,s,r,i){super(),this.location=s,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new qk(r),this.componentType=e}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Ko=new Map;class oP extends Hs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wD(this);const s=Un(e),r=function(n){return n[rI]||null}(e);r&&kp(r),this._bootstrapComponents=Ls(s.bootstrap),this._r3Injector=Mw(e,t,[{provide:Hs,useValue:this},{provide:Ci,useValue:this.componentFactoryResolver}],ve(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=He.THROW_IF_NOT_FOUND,s=Z.Default){return e===He||e===Hs||e===So?this:this._r3Injector.get(e,t,s)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class sg extends XC{constructor(e){super(),this.moduleType=e,null!==Un(e)&&function(n){const e=new Set;!function t(s){const r=Un(s,!0),i=r.id;null!==i&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ve(e)} vs ${ve(e.name)}`)}(i,Ko.get(i),s),Ko.set(i,s));const o=Ls(r.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new oP(this.moduleType,e)}}function xD(n,e,t,s){return function(n,e,t,s,r,i){const o=e+t;return Kt(n,o,r)?function(n,e,t){return n[e]=t}(n,o+1,i?s.call(i,r):s(r)):function(n,e){const t=n[e];return t===ue?void 0:t}(n,o+1)}(x(),function(){const n=oe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,s)}function rg(n){return e=>{setTimeout(n,void 0,e)}}const Zn=class extends os{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,s){var r,i,o;let a=e,c=t||(()=>null),u=s;if(e&&"object"==typeof e){const h=e;a=null===(r=h.next)||void 0===r?void 0:r.bind(h),c=null===(i=h.error)||void 0===i?void 0:i.bind(h),u=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}this.__isAsync&&(c=rg(c),a&&(a=rg(a)),u&&(u=rg(u)));const l=super.subscribe({next:a,error:c,complete:u});return e instanceof Pe&&e.add(l),l}};Symbol;const Rc=new ke("Application Initializer");let Jo=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Ll,this.reject=Ll,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,r)=>{this.resolve=s,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const i=this.appInits[r]();if(Ml(i))t.push(i);else if(Sp(i)){const o=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});t.push(o)}}Promise.all(t).then(()=>{s()}).catch(r=>{this.reject(r)}),0===t.length&&s(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(j(Rc,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const Nc=new ke("AppId"),aL={provide:Nc,useFactory:function(){return`${yg()}${yg()}${yg()}`},deps:[]};function yg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eE=new ke("Platform Initializer"),vg=new ke("Platform ID"),tE=new ke("appBootstrapListener");let Zl=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const Vr=new ke("LocaleId"),nE=new ke("DefaultCurrencyCode");class uL{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const bg=function(n){return new sg(n)},lL=bg,hL=function(n){return Promise.resolve(bg(n))},sE=function(n){const e=bg(n),s=Ls(Un(n).declarations).reduce((r,i)=>{const o=Qt(i);return o&&r.push(new DD(o)),r},[]);return new uL(e,s)},dL=sE,fL=function(n){return Promise.resolve(sE(n))};let Ti=(()=>{class n{constructor(){this.compileModuleSync=lL,this.compileModuleAsync=hL,this.compileModuleAndAllComponentsSync=dL,this.compileModuleAndAllComponentsAsync=fL}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const mL=(()=>Promise.resolve(0))();function wg(n){"undefined"==typeof Zone?mL.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Et{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zn(!1),this.onMicrotaskEmpty=new Zn(!1),this.onStable=new Zn(!1),this.onError=new Zn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!s&&t,r.shouldCoalesceRunChangeDetection=s,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let n=je.requestAnimationFrame,e=je.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(je,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Dg(n),n.isCheckStableRunning=!0,Cg(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Dg(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,s,r,i,o,a)=>{try{return rE(n),t.invokeTask(r,i,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&e(),iE(n)}},onInvoke:(t,s,r,i,o,a,c)=>{try{return rE(n),t.invoke(r,i,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),iE(n)}},onHasTask:(t,s,r,i)=>{t.hasTask(r,i),s===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Dg(n),Cg(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,s,r,i)=>(t.handleError(r,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Et.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Et.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,s){return this._inner.run(e,t,s)}runTask(e,t,s,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,yL,Ll,Ll);try{return i.runTask(o,t,s)}finally{i.cancelTask(o)}}runGuarded(e,t,s){return this._inner.runGuarded(e,t,s)}runOutsideAngular(e){return this._outer.run(e)}}const yL={};function Cg(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Dg(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function rE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function iE(n){n._nesting--,Cg(n)}class wL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zn,this.onMicrotaskEmpty=new Zn,this.onStable=new Zn,this.onError=new Zn}run(e,t,s){return e.apply(t,s)}runGuarded(e,t,s){return e.apply(t,s)}runOutsideAngular(e){return e()}runTask(e,t,s,r){return e.apply(t,s)}}let Eg=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Et.assertNotInAngularZone(),wg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wg(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(t)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,s,r){let i=-1;s&&s>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==i),t(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:r})}whenStable(t,s,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,s,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,s,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(j(Et))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),oE=(()=>{class n{constructor(){this._applications=new Map,Tg.addToWindow(this)}registerApplication(t,s){this._applications.set(t,s)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,s=!0){return Tg.findTestabilityInTree(this,t,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class CL{addToWindow(e){}findTestabilityInTree(e,t,s){return null}}let Tg=new CL,aE=!0,cE=!1;let vs;const lE=new ke("AllowMultipleToken");class xg{constructor(e,t){this.name=e,this.token=t}}function hE(n,e,t=[]){const s=`Platform: ${e}`,r=new ke(s);return(i=[])=>{let o=dE();if(!o||o.injector.get(lE,!1))if(n)n(t.concat(i).concat({provide:r,useValue:!0}));else{const a=t.concat(i).concat({provide:r,useValue:!0},{provide:cc,useValue:"platform"});!function(n){if(vs&&!vs.destroyed&&!vs.injector.get(lE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vs=n.get(fE);const e=n.get(eE,null);e&&e.forEach(t=>t())}(He.create({providers:a,name:s}))}return function(n){const e=dE();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function dE(){return vs&&!vs.destroyed?vs:null}let fE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,s){const a=function(n,e){let t;return t="noop"===n?new wL:("zone.js"===n?void 0:n)||new Et({enableLongStackTrace:(cE=!0,aE),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(s?s.ngZone:void 0,{ngZoneEventCoalescing:s&&s.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:s&&s.ngZoneRunCoalescing||!1}),c=[{provide:Et,useValue:a}];return a.run(()=>{const u=He.create({providers:c,parent:this.injector,name:t.moduleType.name}),l=t.create(u),h=l.injector.get(vi,null);if(!h)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const d=a.onError.subscribe({next:f=>{h.handleError(f)}});l.onDestroy(()=>{Sg(this._modules,l),d.unsubscribe()})}),function(n,e,t){try{const s=t();return Ml(s)?s.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):s}catch(s){throw e.runOutsideAngular(()=>n.handleError(s)),s}}(h,a,()=>{const d=l.injector.get(Jo);return d.runInitializers(),d.donePromise.then(()=>(kp(l.injector.get(Vr,Rl)||Rl),this._moduleDoBootstrap(l),l))})})}bootstrapModule(t,s=[]){const r=pE({},s);return function(n,e,t){const s=new sg(t);return Promise.resolve(s)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,r))}_moduleDoBootstrap(t){const s=t.injector.get(ea);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>s.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${ve(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(s)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(j(He))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();function pE(n,e){return Array.isArray(e)?e.reduce(pE,n):Object.assign(Object.assign({},n),e)}let ea=(()=>{class n{constructor(t,s,r,i,o){this._zone=t,this._injector=s,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Je(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),c=new Je(u=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Et.assertNotInAngularZone(),wg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{Et.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{l.unsubscribe(),h.unsubscribe()}});this.isStable=function(...n){let e=Number.POSITIVE_INFINITY,t=null,s=n[n.length-1];return Xi(s)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof s&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof Je?n[0]:Fa(e)(Pd(n,t))}(a,c.pipe(n=>Ld()(function(n,e){return function(s){let r;r="function"==typeof n?n:function(){return n};const i=Object.create(s,jA);return i.source=s,i.subjectFactory=r,i}}($A)(n))))}bootstrap(t,s){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=t instanceof qC?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);const i=function(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Hs),a=r.create(He.NULL,[],s||r.selector,i),c=a.location.nativeElement,u=a.injector.get(Eg,null),l=u&&a.injector.get(oE);return u&&l&&l.registerApplication(c,u),a.onDestroy(()=>{this.detachView(a.hostView),Sg(this.components,a),l&&l.unregisterApplication(c)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const s=t;this._views.push(s),s.attachToAppRef(this)}detachView(t){const s=t;Sg(this._views,s),s.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(tE,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(j(Et),j(He),j(vi),j(Ci),j(Jo))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();function Sg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Xl{}class LL{}const VL={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let jL=(()=>{class n{constructor(t,s){this._compiler=t,this._config=s||VL}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[s,r]=t.split("#");return void 0===r&&(r="default"),W(255)(s).then(i=>i[r]).then(i=>yE(i,s,r)).then(i=>this._compiler.compileModuleAsync(i))}loadFactory(t){let[s,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),W(255)(this._config.factoryPathPrefix+s+this._config.factoryPathSuffix).then(o=>o[r+i]).then(o=>yE(o,s,r))}}return n.\u0275fac=function(t){return new(t||n)(j(Ti),j(LL,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();function yE(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const YL=hE(null,"core",[{provide:vg,useValue:"unknown"},{provide:fE,deps:[He]},{provide:oE,deps:[]},{provide:Zl,deps:[]}]),eV=[{provide:ea,useClass:ea,deps:[Et,He,vi,Ci,Jo]},{provide:eP,deps:[Et],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Jo,useClass:Jo,deps:[[new mn,Rc]]},{provide:Ti,useClass:Ti,deps:[]},aL,{provide:vc,useFactory:function(){return Qk},deps:[]},{provide:zo,useFactory:function(){return Yk},deps:[]},{provide:Vr,useFactory:function(n){return kp(n=n||"undefined"!=typeof $localize&&$localize.locale||Rl),n},deps:[[new bo(Vr),new mn,new kr]]},{provide:nE,useValue:"USD"}];let nV=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(j(ea))},n.\u0275mod=oi({type:n}),n.\u0275inj=tr({providers:eV}),n})(),ch=null;function Br(){return ch}const Ht=new ke("DocumentToken");let Ai=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({factory:t2,token:n,providedIn:"platform"}),n})();function t2(){return j(UE)}const n2=new ke("Location Initialized");let UE=(()=>{class n extends Ai{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Br().getBaseHref(this._doc)}onPopState(t){const s=Br().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=Br().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,s,r){HE()?this._history.pushState(t,s,r):this.location.hash=r}replaceState(t,s,r){HE()?this._history.replaceState(t,s,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(j(Ht))},n.\u0275prov=we({factory:s2,token:n,providedIn:"platform"}),n})();function HE(){return!!window.history.pushState}function s2(){return new UE(j(Ht))}function Ug(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function $E(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function hr(n){return n&&"?"!==n[0]?"?"+n:n}let sa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({factory:r2,token:n,providedIn:"root"}),n})();function r2(n){const e=j(Ht).location;return new WE(j(Ai),e&&e.origin||"")}const Hg=new ke("appBaseHref");let WE=(()=>{class n extends sa{constructor(t,s){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ug(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+hr(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${s}${r}`:s}pushState(t,s,r,i){const o=this.prepareExternalUrl(r+hr(i));this._platformLocation.pushState(t,s,o)}replaceState(t,s,r,i){const o=this.prepareExternalUrl(r+hr(i));this._platformLocation.replaceState(t,s,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,r;null===(r=(s=this._platformLocation).historyGo)||void 0===r||r.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(j(Ai),j(Hg,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),i2=(()=>{class n extends sa{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=Ug(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,r,i){let o=this.prepareExternalUrl(r+hr(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,s,o)}replaceState(t,s,r,i){let o=this.prepareExternalUrl(r+hr(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,r;null===(r=(s=this._platformLocation).historyGo)||void 0===r||r.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(j(Ai),j(Hg,8))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),uh=(()=>{class n{constructor(t,s){this._subject=new Zn,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=$E(zE(r)),this._platformStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+hr(s))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,zE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,s="",r=null){this._platformStrategy.pushState(r,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hr(s)),r)}replaceState(t,s="",r=null){this._platformStrategy.replaceState(r,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hr(s)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var s,r;null===(r=(s=this._platformStrategy).historyGo)||void 0===r||r.call(s,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(r=>r(t,s))}subscribe(t,s,r){return this._subject.subscribe({next:t,error:s,complete:r})}}return n.\u0275fac=function(t){return new(t||n)(j(sa),j(Ai))},n.normalizeQueryParams=hr,n.joinWithSlash=Ug,n.stripTrailingSlash=$E,n.\u0275prov=we({factory:o2,token:n,providedIn:"root"}),n})();function o2(){return new uh(j(sa),j(Ai))}function zE(n){return n.replace(/\/index.html$/,"")}var Tt=(()=>((Tt=Tt||{})[Tt.Zero=0]="Zero",Tt[Tt.One=1]="One",Tt[Tt.Two=2]="Two",Tt[Tt.Few=3]="Few",Tt[Tt.Many=4]="Many",Tt[Tt.Other=5]="Other",Tt))();const p2=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=gC(e);if(t)return t;const s=e.split("-")[0];if(t=gC(s),t)return t;if("en"===s)return TN;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[P.PluralCase]};class vh{}let H2=(()=>{class n extends vh{constructor(t){super(),this.locale=t}getPluralCategory(t,s){switch(p2(s||this.locale)(t)){case Tt.Zero:return"zero";case Tt.One:return"one";case Tt.Two:return"two";case Tt.Few:return"few";case Tt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(j(Vr))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class G2{constructor(e,t,s,r){this.$implicit=e,this.ngForOf=t,this.index=s,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tT=(()=>{class n{constructor(t,s,r){this._viewContainer=t,this._template=s,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const s=[];t.forEachOperation((r,i,o)=>{if(null==r.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new G2(null,this._ngForOf,-1,-1),null===o?void 0:o),c=new nT(r,a);s.push(c)}else if(null==o)this._viewContainer.remove(null===i?void 0:i);else if(null!==i){const a=this._viewContainer.get(i);this._viewContainer.move(a,o);const c=new nT(r,a);s.push(c)}});for(let r=0;r<s.length;r++)this._perViewChange(s[r].view,s[r].record);for(let r=0,i=this._viewContainer.length;r<i;r++){const o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(t,s){t.context.$implicit=s.item}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(Y(ms),Y(ur),Y(vc))},n.\u0275dir=Gt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class nT{constructor(e,t){this.record=e,this.view=t}}let iT=(()=>{class n{constructor(t,s,r){this._ngEl=t,this._differs=s,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,s){const[r,i]=t.split(".");null!=(s=null!=s&&i?`${s}${i}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,r,s):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(s=>this._setStyle(s.key,null)),t.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),t.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(Y(Fn),Y(zo),Y(jl))},n.\u0275dir=Gt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),wj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=oi({type:n}),n.\u0275inj=tr({providers:[{provide:vh,useClass:H2}]}),n})();let cT=(()=>{class n{}return n.\u0275prov=we({token:n,providedIn:"root",factory:()=>new Tj(j(Ht),window)}),n})();class Tj{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=s.currentNode;for(;r;){const i=r.shadowRoot;if(i){const o=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(o)return o}r=s.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),s=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(s-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=uT(this.window.history)||uT(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function uT(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class nm extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){ch||(ch=n)}(new nm)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Bc=Bc||document.querySelector("base"),Bc?Bc.getAttribute("href"):null);return null==t?null:function(n){bh=bh||document.createElement("a"),bh.setAttribute("href",n);const e=bh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const s=t.indexOf("="),[r,i]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,e)}}let bh,Bc=null;const lT=new ke("TRANSITION_ID"),Rj=[{provide:Rc,useFactory:function(n,e,t){return()=>{t.get(Jo).donePromise.then(()=>{const s=Br(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<r.length;i++)s.remove(r[i])})}},deps:[lT,Ht,He],multi:!0}];class sm{static init(){!function(n){Tg=n}(new sm)}addToWindow(e){je.getAngularTestability=(s,r=!0)=>{const i=e.findTestabilityInTree(s,r);if(null==i)throw new Error("Could not find testability for element.");return i},je.getAllAngularTestabilities=()=>e.getAllTestabilities(),je.getAllAngularRootElements=()=>e.getAllRootElements(),je.frameworkStabilizers||(je.frameworkStabilizers=[]),je.frameworkStabilizers.push(s=>{const r=je.getAllAngularTestabilities();let i=r.length,o=!1;const a=function(c){o=o||c,i--,0==i&&s(o)};r.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:s?Br().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Nj=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const qc=new ke("EventManagerPlugins");let Ch=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,r){return this._findPluginFor(s).addEventListener(t,s,r)}addGlobalEventListener(t,s,r){return this._findPluginFor(s).addGlobalEventListener(t,s,r)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const r=this._plugins;for(let i=0;i<r.length;i++){const o=r[i];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(j(qc),j(Et))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class rm{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const r=Br().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,s)}}let dT=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),s.add(r))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),Uc=(()=>{class n extends dT{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,r){t.forEach(i=>{const o=this._doc.createElement("style");o.textContent=i,r.push(s.appendChild(o))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(fT),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,r)=>{this._addStylesToHost(t,r,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(fT))}}return n.\u0275fac=function(t){return new(t||n)(j(Ht))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();function fT(n){Br().remove(n)}const im={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},om=/%COMP%/g;function Dh(n,e,t){for(let s=0;s<e.length;s++){let r=e[s];Array.isArray(r)?Dh(n,r,t):(r=r.replace(om,n),t.push(r))}return t}function mT(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let am=(()=>{class n{constructor(t,s,r){this.eventManager=t,this.sharedStylesHost=s,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new cm(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case At.Emulated:{let r=this.rendererByCompId.get(s.id);return r||(r=new Qj(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,r)),r.applyToHost(t),r}case 1:case At.ShadowDom:return new Yj(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const r=Dh(s.id,s.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(j(Ch),j(Uc),j(Nc))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();class cm{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(im[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,r){if(r){t=r+":"+t;const i=im[r];i?e.setAttributeNS(i,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const r=im[s];r?e.removeAttributeNS(r,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,r){r&(On.DashCase|On.Important)?e.style.setProperty(t,s,r&On.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&On.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,mT(s)):this.eventManager.addEventListener(e,t,mT(s))}}class Qj extends cm{constructor(e,t,s,r){super(e),this.component=s;const i=Dh(r+"-"+s.id,s.styles,[]);t.addStyles(i),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(om,n)}(r+"-"+s.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(om,n)}(r+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class Yj extends cm{constructor(e,t,s,r){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Dh(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const a=document.createElement("style");a.textContent=i[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Zj=(()=>{class n extends rm{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,r){return t.addEventListener(s,r,!1),()=>this.removeEventListener(t,s,r)}removeEventListener(t,s,r){return t.removeEventListener(s,r)}}return n.\u0275fac=function(t){return new(t||n)(j(Ht))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const vT=["alt","control","meta","shift"],sB={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bT={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},rB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let iB=(()=>{class n extends rm{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,r){const i=n.parseEventName(s),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Br().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const s=t.toLowerCase().split("."),r=s.shift();if(0===s.length||"keydown"!==r&&"keyup"!==r)return null;const i=n._normalizeKey(s.pop());let o="";if(vT.forEach(c=>{const u=s.indexOf(c);u>-1&&(s.splice(u,1),o+=c+".")}),o+=i,0!=s.length||0===i.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let s="",r=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&bT.hasOwnProperty(e)&&(e=bT[e]))}return sB[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),vT.forEach(i=>{i!=r&&rB[i](t)&&(s+=i+".")}),s+=r,s}static eventCallback(t,s,r){return i=>{n.getEventFullKey(i)===t&&r.runGuarded(()=>s(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(j(Ht))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const hB=[{provide:vg,useValue:"browser"},{provide:eE,useValue:function(){nm.makeCurrent(),sm.init()},multi:!0},{provide:Ht,useFactory:function(){return function(n){Kd=n}(document),document},deps:[]}],fB=hE(YL,"browser",hB),pB=[[],{provide:cc,useValue:"root"},{provide:vi,useFactory:function(){return new vi},deps:[]},{provide:qc,useClass:Zj,multi:!0,deps:[Ht,Et,vg]},{provide:qc,useClass:iB,multi:!0,deps:[Ht]},[],{provide:am,useClass:am,deps:[Ch,Uc,Nc]},{provide:Vl,useExisting:am},{provide:dT,useExisting:Uc},{provide:Uc,useClass:Uc,deps:[Ht]},{provide:Eg,useClass:Eg,deps:[Et]},{provide:Ch,useClass:Ch,deps:[qc,Et]},{provide:class{},useClass:Nj,deps:[]},[]];let gB=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Nc,useValue:t.appId},{provide:lT,useExisting:Nc},Rj]}}}return n.\u0275fac=function(t){return new(t||n)(j(n,12))},n.\u0275mod=oi({type:n}),n.\u0275inj=tr({providers:pB,imports:[wj,nV]}),n})();function me(...n){let e=n[n.length-1];return Xi(e)?(n.pop(),Er(n,e)):Pd(n)}"undefined"!=typeof window&&window;class Es extends os{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Dr;return this._value}next(e){super.next(this._value=e)}}class DB extends Oe{notifyNext(e,t,s,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class EB extends Oe{constructor(e,t,s){super(),this.parent=e,this.outerValue=t,this.outerIndex=s,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function TB(n,e,t,s,r=new EB(n,t,s)){if(!r.closed)return e instanceof Je?e.subscribe(r):Js(e)(r)}const CT={};class SB{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new AB(e,this.resultSelector))}}class AB extends DB{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(CT),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let s=0;s<t;s++)this.add(TB(this,e[s],void 0,s))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,s){const r=this.values,o=this.toRespond?r[s]===CT?--this.toRespond:this.toRespond:0;r[s]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}const Eh=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function fm(...n){return Fa(1)(me(...n))}const ra=new Je(n=>n.complete());function pm(n){return n?function(n){return new Je(e=>n.schedule(()=>e.complete()))}(n):ra}function DT(n){return new Je(e=>{let t;try{t=n()}catch(r){return void e.error(r)}return(t?Ct(t):pm()).subscribe(e)})}function Ur(n,e){return"function"==typeof e?t=>t.pipe(Ur((s,r)=>Ct(n(s,r)).pipe(Q((i,o)=>e(s,i,r,o))))):t=>t.lift(new OB(n))}class OB{constructor(e){this.project=e}call(e,t){return t.subscribe(new RB(e,this.project))}}class RB extends kd{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const s=this.index++;try{t=this.project(e,s)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const s=new no(this),r=this.destination;r.add(s),this.innerSubscription=Fd(e,s),this.innerSubscription!==s&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const ET=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function gm(n){return e=>0===n?pm():e.lift(new NB(n))}class NB{constructor(e){if(this.total=e,this.total<0)throw new ET}call(e,t){return t.subscribe(new kB(e,this.total))}}class kB extends Oe{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,s=++this.count;s<=t&&(this.destination.next(e),s===t&&(this.destination.complete(),this.unsubscribe()))}}function TT(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(r){return r.lift(new PB(n,e,t))}}class PB{constructor(e,t,s=!1){this.accumulator=e,this.seed=t,this.hasSeed=s}call(e,t){return t.subscribe(new LB(e,this.accumulator,this.seed,this.hasSeed))}}class LB extends Oe{constructor(e,t,s,r){super(e),this.accumulator=t,this._seed=s,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let s;try{s=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=s,this.destination.next(s)}}function ia(n,e){return function(s){return s.lift(new VB(n,e))}}class VB{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new jB(e,this.predicate,this.thisArg))}}class jB extends Oe{constructor(e,t,s){super(e),this.predicate=t,this.thisArg=s,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}t&&this.destination.next(e)}}function Ii(n){return function(t){const s=new BB(n),r=t.lift(s);return s.caught=r}}class BB{constructor(e){this.selector=e}call(e,t){return t.subscribe(new qB(e,this.selector,this.caught))}}class qB extends kd{constructor(e,t,s){super(e),this.selector=t,this.caught=s}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(i){return void super.error(i)}this._unsubscribeAndRecycle();const s=new no(this);this.add(s);const r=Fd(t,s);r!==s&&this.add(r)}}}function Hc(n,e){return Ut(n,e,1)}function mm(n){return function(t){return 0===n?pm():t.lift(new UB(n))}}class UB{constructor(e){if(this.total=e,this.total<0)throw new ET}call(e,t){return t.subscribe(new HB(e,this.total))}}class HB extends Oe{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,s=this.total,r=this.count++;t.length<s?t.push(e):t[r%s]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const s=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<s;i++){const o=t++%s;e.next(r[o])}}e.complete()}}function xT(n=zB){return e=>e.lift(new $B(n))}class $B{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new WB(e,this.errorFactory))}}class WB extends Oe{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function zB(){return new Eh}function ST(n=null){return e=>e.lift(new GB(n))}class GB{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new QB(e,this.defaultValue))}}class QB extends Oe{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function oa(n,e){const t=arguments.length>=2;return s=>s.pipe(n?ia((r,i)=>n(r,i,s)):En,gm(1),t?ST(e):xT(()=>new Eh))}function Hr(){}function Pn(n,e,t){return function(r){return r.lift(new ZB(n,e,t))}}class ZB{constructor(e,t,s){this.nextOrObserver=e,this.error=t,this.complete=s}call(e,t){return t.subscribe(new KB(e,this.nextOrObserver,this.error,this.complete))}}class KB extends Oe{constructor(e,t,s,r){super(e),this._tapNext=Hr,this._tapError=Hr,this._tapComplete=Hr,this._tapError=s||Hr,this._tapComplete=r||Hr,H(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Hr,this._tapError=t.error||Hr,this._tapComplete=t.complete||Hr)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class JB{constructor(e){this.callback=e}call(e,t){return t.subscribe(new eq(e,this.callback))}}class eq extends Oe{constructor(e,t){super(e),this.add(new Pe(t))}}class fr{constructor(e,t){this.id=e,this.url=t}}class _m extends fr{constructor(e,t,s="imperative",r=null){super(e,t),this.navigationTrigger=s,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $c extends fr{constructor(e,t,s){super(e,t),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class AT extends fr{constructor(e,t,s){super(e,t),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tq extends fr{constructor(e,t,s){super(e,t),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nq extends fr{constructor(e,t,s,r){super(e,t),this.urlAfterRedirects=s,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sq extends fr{constructor(e,t,s,r){super(e,t),this.urlAfterRedirects=s,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rq extends fr{constructor(e,t,s,r,i){super(e,t),this.urlAfterRedirects=s,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iq extends fr{constructor(e,t,s,r){super(e,t),this.urlAfterRedirects=s,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oq extends fr{constructor(e,t,s,r){super(e,t),this.urlAfterRedirects=s,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IT{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class MT{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class aq{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cq{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uq{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lq{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OT{constructor(e,t,s){this.routerEvent=e,this.position=t,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const De="primary";class hq{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function aa(n){return new hq(n)}const RT="ngNavigationCancelingError";function ym(n){const e=Error("NavigationCancelingError: "+n);return e[RT]=!0,e}function fq(n,e,t){const s=t.path.split("/");if(s.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||s.length<n.length))return null;const r={};for(let i=0;i<s.length;i++){const o=s[i],a=n[i];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,s.length),posParams:r}}function $s(n,e){const t=n?Object.keys(n):void 0,s=e?Object.keys(e):void 0;if(!t||!s||t.length!=s.length)return!1;let r;for(let i=0;i<t.length;i++)if(r=t[i],!NT(n[r],e[r]))return!1;return!0}function NT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),s=[...e].sort();return t.every((r,i)=>s[i]===r)}return n===e}function kT(n){return Array.prototype.concat.apply([],n)}function FT(n){return n.length>0?n[n.length-1]:null}function $t(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ws(n){return Sp(n)?n:Ml(n)?Ct(Promise.resolve(n)):me(n)}const mq={exact:function VT(n,e,t){if(!Oi(n.segments,e.segments)||!Th(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!n.children[s]||!VT(n.children[s],e.children[s],t))return!1;return!0},subset:jT},PT={exact:function(n,e){return $s(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>NT(n[t],e[t]))},ignored:()=>!0};function LT(n,e,t){return mq[t.paths](n.root,e.root,t.matrixParams)&&PT[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function jT(n,e,t){return BT(n,e,e.segments,t)}function BT(n,e,t,s){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Oi(r,t)||e.hasChildren()||!Th(r,t,s))}if(n.segments.length===t.length){if(!Oi(n.segments,t)||!Th(n.segments,t,s))return!1;for(const r in e.children)if(!n.children[r]||!jT(n.children[r],e.children[r],s))return!1;return!0}{const r=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!!(Oi(n.segments,r)&&Th(n.segments,r,s)&&n.children[De])&&BT(n.children[De],e,i,s)}}function Th(n,e,t){return e.every((s,r)=>PT[t](n[r].parameters,s.parameters))}class Mi{constructor(e,t,s){this.root=e,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=aa(this.queryParams)),this._queryParamMap}toString(){return wq.serialize(this)}}class xe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,$t(t,(s,r)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xh(this)}}class Wc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=aa(this.parameters)),this._parameterMap}toString(){return $T(this)}}function Oi(n,e){return n.length===e.length&&n.every((t,s)=>t.path===e[s].path)}class vm{}class qT{parse(e){const t=new Mq(e);return new Mi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${zc(e.root,!0)}`,s=function(n){const e=Object.keys(n).map(t=>{const s=n[t];return Array.isArray(s)?s.map(r=>`${Sh(t)}=${Sh(r)}`).join("&"):`${Sh(t)}=${Sh(s)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${s}${r}`}}const wq=new qT;function xh(n){return n.segments.map(e=>$T(e)).join("/")}function zc(n,e){if(!n.hasChildren())return xh(n);if(e){const t=n.children[De]?zc(n.children[De],!1):"",s=[];return $t(n.children,(r,i)=>{i!==De&&s.push(`${i}:${zc(r,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function(n,e){let t=[];return $t(n.children,(s,r)=>{r===De&&(t=t.concat(e(s,r)))}),$t(n.children,(s,r)=>{r!==De&&(t=t.concat(e(s,r)))}),t}(n,(s,r)=>r===De?[zc(n.children[De],!1)]:[`${r}:${zc(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[De]?`${xh(n)}/${t[0]}`:`${xh(n)}/(${t.join("//")})`}}function UT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sh(n){return UT(n).replace(/%3B/gi,";")}function bm(n){return UT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ah(n){return decodeURIComponent(n)}function HT(n){return Ah(n.replace(/\+/g,"%20"))}function $T(n){return`${bm(n.path)}${function(n){return Object.keys(n).map(e=>`;${bm(e)}=${bm(n[e])}`).join("")}(n.parameters)}`}const Tq=/^[^\/()?;=#]+/;function Ih(n){const e=n.match(Tq);return e?e[0]:""}const xq=/^[^=?&#]+/,Aq=/^[^?&#]+/;class Mq{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(s[De]=new xe(e,t)),s}parseSegment(){const e=Ih(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Wc(Ah(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ih(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const r=Ih(this.remaining);r&&(s=r,this.capture(s))}e[Ah(t)]=Ah(s)}parseQueryParam(e){const t=function(n){const e=n.match(xq);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(Aq);return e?e[0]:""}(this.remaining);o&&(s=o,this.capture(s))}const r=HT(t),i=HT(s);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Ih(this.remaining),r=this.remaining[s.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;s.indexOf(":")>-1?(i=s.substr(0,s.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=De);const o=this.parseChildren();t[i]=1===Object.keys(o).length?o[De]:new xe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class WT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=wm(e,this._root);return t?t.children.map(s=>s.value):[]}firstChild(e){const t=wm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Cm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Cm(e,this._root).map(t=>t.value)}}function wm(n,e){if(n===e.value)return e;for(const t of e.children){const s=wm(n,t);if(s)return s}return null}function Cm(n,e){if(n===e.value)return[e];for(const t of e.children){const s=Cm(n,t);if(s.length)return s.unshift(e),s}return[]}class pr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Gc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class zT extends WT{constructor(e,t){super(e),this.snapshot=t,Dm(this,e)}toString(){return this.snapshot.toString()}}function GT(n,e){const t=function(n,e){const o=new Mh([],{},{},"",{},De,e,null,n.root,-1,{});return new YT("",new pr(o,[]))}(n,e),s=new Es([new Wc("",{})]),r=new Es({}),i=new Es({}),o=new Es({}),a=new Es(""),c=new ca(s,r,o,a,i,De,e,t.root);return c.snapshot=t.root,new zT(new pr(c,[]),t)}class ca{constructor(e,t,s,r,i,o,a,c){this.url=e,this.params=t,this.queryParams=s,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Q(e=>aa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Q(e=>aa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function QT(n,e="emptyOnly"){const t=n.pathFromRoot;let s=0;if("always"!==e)for(s=t.length-1;s>=1;){const r=t[s],i=t[s-1];if(r.routeConfig&&""===r.routeConfig.path)s--;else{if(i.component)break;s--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(s))}class Mh{constructor(e,t,s,r,i,o,a,c,u,l,h){this.url=e,this.params=t,this.queryParams=s,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=c,this._urlSegment=u,this._lastPathIndex=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=aa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=aa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YT extends WT{constructor(e,t){super(t),this.url=e,Dm(this,t)}toString(){return ZT(this._root)}}function Dm(n,e){e.value._routerState=n,e.children.forEach(t=>Dm(n,t))}function ZT(n){const e=n.children.length>0?` { ${n.children.map(ZT).join(", ")} } `:"";return`${n.value}${e}`}function Em(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$s(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$s(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$s(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$s(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Tm(n,e){const t=$s(n.params,e.params)&&function(n,e){return Oi(n,e)&&n.every((t,s)=>$s(t.parameters,e[s].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Tm(n.parent,e.parent))}function Oh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=e.value;const r=function(n,e,t){return e.children.map(s=>{for(const r of t.children)if(n.shouldReuseRoute(s.value,r.value.snapshot))return Oh(n,s,r);return Oh(n,s)})}(n,e,t);return new pr(s,r)}{if(n.shouldAttach(e.value)){const i=n.retrieve(e.value);if(null!==i){const o=i.route;return KT(e,o),o}}const s=function(n){return new ca(new Es(n.url),new Es(n.params),new Es(n.queryParams),new Es(n.fragment),new Es(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(i=>Oh(n,i));return new pr(s,r)}}function KT(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)KT(n.children[t],e.children[t])}function Rh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Qc(n){return"object"==typeof n&&null!=n&&n.outlets}function xm(n,e,t,s,r){let i={};return s&&$t(s,(o,a)=>{i[a]=Array.isArray(o)?o.map(c=>`${c}`):`${o}`}),new Mi(t.root===n?e:XT(t.root,n,e),i,r)}function XT(n,e,t){const s={};return $t(n.children,(r,i)=>{s[i]=r===e?t:XT(r,e,t)}),new xe(n.segments,s)}class JT{constructor(e,t,s){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=s,e&&s.length>0&&Rh(s[0]))throw new Error("Root segment cannot have matrix parameters");const r=s.find(Qc);if(r&&r!==FT(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sm{constructor(e,t,s){this.segmentGroup=e,this.processChildren=t,this.index=s}}function ex(n,e,t){if(n||(n=new xe([],{})),0===n.segments.length&&n.hasChildren())return Nh(n,e,t);const s=function(n,e,t){let s=0,r=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(s>=t.length)return i;const o=n.segments[r],a=t[s];if(Qc(a))break;const c=`${a}`,u=s<t.length-1?t[s+1]:null;if(r>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!nx(c,u,o))return i;s+=2}else{if(!nx(c,{},o))return i;s++}r++}return{match:!0,pathIndex:r,commandIndex:s}}(n,e,t),r=t.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const i=new xe(n.segments.slice(0,s.pathIndex),{});return i.children[De]=new xe(n.segments.slice(s.pathIndex),n.children),Nh(i,0,r)}return s.match&&0===r.length?new xe(n.segments,{}):s.match&&!n.hasChildren()?Am(n,e,t):s.match?Nh(n,0,r):Am(n,e,t)}function Nh(n,e,t){if(0===t.length)return new xe(n.segments,{});{const s=function(n){return Qc(n[0])?n[0].outlets:{[De]:n}}(t),r={};return $t(s,(i,o)=>{"string"==typeof i&&(i=[i]),null!==i&&(r[o]=ex(n.children[o],e,i))}),$t(n.children,(i,o)=>{void 0===s[o]&&(r[o]=i)}),new xe(n.segments,r)}}function Am(n,e,t){const s=n.segments.slice(0,e);let r=0;for(;r<t.length;){const i=t[r];if(Qc(i)){const c=Uq(i.outlets);return new xe(s,c)}if(0===r&&Rh(t[0])){s.push(new Wc(n.segments[e].path,tx(t[0]))),r++;continue}const o=Qc(i)?i.outlets[De]:`${i}`,a=r<t.length-1?t[r+1]:null;o&&a&&Rh(a)?(s.push(new Wc(o,tx(a))),r+=2):(s.push(new Wc(o,{})),r++)}return new xe(s,{})}function Uq(n){const e={};return $t(n,(t,s)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[s]=Am(new xe([],{}),0,t))}),e}function tx(n){const e={};return $t(n,(t,s)=>e[s]=`${t}`),e}function nx(n,e,t){return n==t.path&&$s(e,t.parameters)}class $q{constructor(e,t,s,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=s,this.forwardEvent=r}activate(e){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,e),Em(this.futureState.root),this.activateChildRoutes(t,s,e)}deactivateChildRoutes(e,t,s){const r=Gc(t);e.children.forEach(i=>{const o=i.value.outlet;this.deactivateRoutes(i,r[o],s),delete r[o]}),$t(r,(i,o)=>{this.deactivateRouteAndItsChildren(i,s)})}deactivateRoutes(e,t,s){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const o=s.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,s);else i&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const s=t.getContext(e.value.outlet);if(s&&s.outlet){const r=s.outlet.detach(),i=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const s=t.getContext(e.value.outlet),r=s&&e.value.component?s.children:t,i=Gc(e);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(e,t,s){const r=Gc(t);e.children.forEach(i=>{this.activateRoutes(i,r[i.value.outlet],s),this.forwardEvent(new lq(i.value.snapshot))}),e.children.length&&this.forwardEvent(new cq(e.value.snapshot))}activateRoutes(e,t,s){const r=e.value,i=t?t.value:null;if(Em(r),r===i)if(r.component){const o=s.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,s);else if(r.component){const o=s.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sx(a.route)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),c=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=c,o.outlet&&o.outlet.activateWith(r,c),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,s)}}function sx(n){Em(n.value),n.children.forEach(sx)}class Im{constructor(e,t){this.routes=e,this.module=t}}function $r(n){return"function"==typeof n}function Ri(n){return n instanceof Mi}const Yc=Symbol("INITIAL_VALUE");function Zc(){return Ur(n=>function(...n){let e,t;return Xi(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&it(n[0])&&(n=n[0]),Pd(n,t).lift(new SB(e))}(n.map(e=>e.pipe(gm(1),function(...n){const e=n[n.length-1];return Xi(e)?(n.pop(),t=>fm(n,t,e)):t=>fm(n,t)}(Yc)))).pipe(TT((e,t)=>{let s=!1;return t.reduce((r,i,o)=>r!==Yc?r:(i===Yc&&(s=!0),s||!1!==i&&o!==t.length-1&&!Ri(i)?r:i),e)},Yc),ia(e=>e!==Yc),Q(e=>Ri(e)?e:!0===e),gm(1)))}let rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=La({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,s){1&t&&qo(0,"router-outlet")},directives:function(){return[Pm]},encapsulation:2}),n})();function ix(n,e=""){for(let t=0;t<n.length;t++){const s=n[t];Kq(s,Xq(e,s))}}function Kq(n,e){n.children&&ix(n.children,e)}function Xq(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Mm(n){const e=n.children&&n.children.map(Mm),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==De&&(t.component=rx),t}function Jn(n){return n.outlet||De}function ox(n,e){const t=n.filter(s=>Jn(s)===e);return t.push(...n.filter(s=>Jn(s)!==e)),t}const ax={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function kh(n,e,t){var s;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},ax):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||fq)(t,n,e);if(!i)return Object.assign({},ax);const o={};$t(i.posParams,(c,u)=>{o[u]=c.path});const a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(s=i.posParams)&&void 0!==s?s:{}}}function Fh(n,e,t,s,r="corrected"){if(t.length>0&&function(n,e,t){return t.some(s=>Ph(n,e,s)&&Jn(s)!==De)}(n,t,s)){const o=new xe(e,function(n,e,t,s){const r={};r[De]=s,s._sourceSegment=n,s._segmentIndexShift=e.length;for(const i of t)if(""===i.path&&Jn(i)!==De){const o=new xe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[Jn(i)]=o}return r}(n,e,s,new xe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(s=>Ph(n,e,s))}(n,t,s)){const o=new xe(n.segments,function(n,e,t,s,r,i){const o={};for(const a of s)if(Ph(n,t,a)&&!r[Jn(a)]){const c=new xe([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===i?n.segments.length:e.length,o[Jn(a)]=c}return Object.assign(Object.assign({},r),o)}(n,e,t,s,n.children,r));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new xe(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Ph(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function cx(n,e,t,s){return!!(Jn(n)===s||s!==De&&Ph(e,t,n))&&("**"===n.path||kh(e,n,t).matched)}function ux(n,e,t){return 0===e.length&&!n.children[t]}class Kc{constructor(e){this.segmentGroup=e||null}}class lx{constructor(e){this.urlTree=e}}function Lh(n){return new Je(e=>e.error(new Kc(n)))}function hx(n){return new Je(e=>e.error(new lx(n)))}function sU(n){return new Je(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class oU{constructor(e,t,s,r,i){this.configLoader=t,this.urlSerializer=s,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(Hs)}apply(){const e=Fh(this.urlTree.root,[],[],this.config).segmentGroup,t=new xe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,De).pipe(Q(i=>this.createUrlTree(Om(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ii(i=>{if(i instanceof lx)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Kc?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,De).pipe(Q(r=>this.createUrlTree(Om(r),e.queryParams,e.fragment))).pipe(Ii(r=>{throw r instanceof Kc?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,s){const r=e.segments.length>0?new xe([],{[De]:e}):e;return new Mi(r,t,s)}expandSegmentGroup(e,t,s,r){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(e,t,s).pipe(Q(i=>new xe([],i))):this.expandSegment(e,s,t,s.segments,r,!0)}expandChildren(e,t,s){const r=[];for(const i of Object.keys(s.children))"primary"===i?r.unshift(i):r.push(i);return Ct(r).pipe(Hc(i=>{const o=s.children[i],a=ox(t,i);return this.expandSegmentGroup(e,a,o,i).pipe(Q(c=>({segment:c,outlet:i})))}),TT((i,o)=>(i[o.outlet]=o.segment,i),{}),function(n,e){const t=arguments.length>=2;return s=>s.pipe(n?ia((r,i)=>n(r,i,s)):En,mm(1),t?ST(e):xT(()=>new Eh))}())}expandSegment(e,t,s,r,i,o){return Ct(s).pipe(Hc(a=>this.expandSegmentAgainstRoute(e,t,s,a,r,i,o).pipe(Ii(u=>{if(u instanceof Kc)return me(null);throw u}))),oa(a=>!!a),Ii((a,c)=>{if(a instanceof Eh||"EmptyError"===a.name){if(ux(t,r,i))return me(new xe([],{}));throw new Kc(t)}throw a}))}expandSegmentAgainstRoute(e,t,s,r,i,o,a){return cx(r,t,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,s,r,i,o):Lh(t):Lh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,s,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,s,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,s,r){const i=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?hx(i):this.lineralizeSegments(s,i).pipe(Ut(o=>{const a=new xe(o,{});return this.expandSegment(e,a,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,r,i,o){const{matched:a,consumedSegments:c,lastChild:u,positionalParamSegments:l}=kh(t,r,i);if(!a)return Lh(t);const h=this.applyRedirectCommands(c,r.redirectTo,l);return r.redirectTo.startsWith("/")?hx(h):this.lineralizeSegments(r,h).pipe(Ut(d=>this.expandSegment(e,t,s,d.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(e,t,s,r,i){if("**"===s.path)return s.loadChildren?(s._loadedConfig?me(s._loadedConfig):this.configLoader.load(e.injector,s)).pipe(Q(d=>(s._loadedConfig=d,new xe(r,{})))):me(new xe(r,{}));const{matched:o,consumedSegments:a,lastChild:c}=kh(t,s,r);if(!o)return Lh(t);const u=r.slice(c);return this.getChildConfig(e,s,r).pipe(Ut(h=>{const d=h.module,f=h.routes,{segmentGroup:p,slicedSegments:g}=Fh(t,a,u,f),m=new xe(p.segments,p.children);if(0===g.length&&m.hasChildren())return this.expandChildren(d,f,m).pipe(Q(E=>new xe(a,E)));if(0===f.length&&0===g.length)return me(new xe(a,{}));const _=Jn(s)===i;return this.expandSegment(d,m,f,g,_?De:i,!0).pipe(Q(b=>new xe(a.concat(b.segments),b.children)))}))}getChildConfig(e,t,s){return t.children?me(new Im(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?me(t._loadedConfig):this.runCanLoadGuards(e.injector,t,s).pipe(Ut(r=>r?this.configLoader.load(e.injector,t).pipe(Q(i=>(t._loadedConfig=i,i))):function(n){return new Je(e=>e.error(ym(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):me(new Im([],e))}runCanLoadGuards(e,t,s){const r=t.canLoad;if(!r||0===r.length)return me(!0);const i=r.map(o=>{const a=e.get(o);let c;if(function(n){return n&&$r(n.canLoad)}(a))c=a.canLoad(t,s);else{if(!$r(a))throw new Error("Invalid CanLoad guard");c=a(t,s)}return Ws(c)});return me(i).pipe(Zc(),Pn(o=>{if(!Ri(o))return;const a=ym(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Q(o=>!0===o))}lineralizeSegments(e,t){let s=[],r=t.root;for(;;){if(s=s.concat(r.segments),0===r.numberOfChildren)return me(s);if(r.numberOfChildren>1||!r.children[De])return sU(e.redirectTo);r=r.children[De]}}applyRedirectCommands(e,t,s){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,s)}applyRedirectCreatreUrlTree(e,t,s,r){const i=this.createSegmentGroup(e,t.root,s,r);return new Mi(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const s={};return $t(e,(r,i)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);s[i]=t[a]}else s[i]=r}),s}createSegmentGroup(e,t,s,r){const i=this.createSegments(e,t.segments,s,r);let o={};return $t(t.children,(a,c)=>{o[c]=this.createSegmentGroup(e,a,s,r)}),new xe(i,o)}createSegments(e,t,s,r){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,r):this.findOrReturn(i,s))}findPosParam(e,t,s){const r=s[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let s=0;for(const r of t){if(r.path===e.path)return t.splice(s),r;s++}return e}}function Om(n){const e={};for(const s of Object.keys(n.children)){const i=Om(n.children[s]);(i.segments.length>0||i.hasChildren())&&(e[s]=i)}return function(n){if(1===n.numberOfChildren&&n.children[De]){const e=n.children[De];return new xe(n.segments.concat(e.segments),e.children)}return n}(new xe(n.segments,e))}class dx{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vh{constructor(e,t){this.component=e,this.route=t}}function uU(n,e,t){const s=n._root;return Xc(s,e?e._root:null,t,[s.value])}function jh(n,e,t){const s=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:t).get(n)}function Xc(n,e,t,s,r={canDeactivateChecks:[],canActivateChecks:[]}){const i=Gc(e);return n.children.forEach(o=>{(function(n,e,t,s,r={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){const c=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Oi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Oi(n.url,e.url)||!$s(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tm(n,e)||!$s(n.queryParams,e.queryParams);default:return!Tm(n,e)}}(o,i,i.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new dx(s)):(i.data=o.data,i._resolvedData=o._resolvedData),Xc(n,e,i.component?a?a.children:null:t,s,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Vh(a.outlet.component,o))}else o&&Jc(e,a,r),r.canActivateChecks.push(new dx(s)),Xc(n,null,i.component?a?a.children:null:t,s,r)})(o,i[o.value.outlet],t,s.concat([o.value]),r),delete i[o.value.outlet]}),$t(i,(o,a)=>Jc(o,t.getContext(a),r)),r}function Jc(n,e,t){const s=Gc(n),r=n.value;$t(s,(i,o)=>{Jc(i,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Vh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class CU{}function fx(n){return new Je(e=>e.error(n))}class EU{constructor(e,t,s,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=s,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const e=Fh(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,De);if(null===t)return null;const s=new Mh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},De,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new pr(s,t),i=new YT(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,s=QT(t,this.paramsInheritanceStrategy);t.params=Object.freeze(s.params),t.data=Object.freeze(s.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,s){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,s)}processChildren(e,t){const s=[];for(const i of Object.keys(t.children)){const o=t.children[i],a=ox(e,i),c=this.processSegmentGroup(a,o,i);if(null===c)return null;s.push(...c)}const r=px(s);return function(n){n.sort((e,t)=>e.value.outlet===De?-1:t.value.outlet===De?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,s,r){for(const i of e){const o=this.processSegmentAgainstRoute(i,t,s,r);if(null!==o)return o}return ux(t,s,r)?[]:null}processSegmentAgainstRoute(e,t,s,r){if(e.redirectTo||!cx(e,t,s,r))return null;let i,o=[],a=[];if("**"===e.path){const f=s.length>0?FT(s).parameters:{};i=new Mh(s,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_x(e),Jn(e),e.component,e,gx(t),mx(t)+s.length,yx(e))}else{const f=kh(t,e,s);if(!f.matched)return null;o=f.consumedSegments,a=s.slice(f.lastChild),i=new Mh(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_x(e),Jn(e),e.component,e,gx(t),mx(t)+o.length,yx(e))}const c=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:l}=Fh(t,o,a,c.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&u.hasChildren()){const f=this.processChildren(c,u);return null===f?null:[new pr(i,f)]}if(0===c.length&&0===l.length)return[new pr(i,[])];const h=Jn(e)===r,d=this.processSegment(c,u,l,h?De:r);return null===d?null:[new pr(i,d)]}}function SU(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function px(n){const e=[],t=new Set;for(const s of n){if(!SU(s)){e.push(s);continue}const r=e.find(i=>s.value.routeConfig===i.value.routeConfig);void 0!==r?(r.children.push(...s.children),t.add(r)):e.push(s)}for(const s of t){const r=px(s.children);e.push(new pr(s.value,r))}return e.filter(s=>!t.has(s))}function gx(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function mx(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function _x(n){return n.data||{}}function yx(n){return n.resolve||{}}function Rm(n){return Ur(e=>{const t=n(e);return t?Ct(t).pipe(Q(()=>e)):me(e)})}class FU extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Nm=new ke("ROUTES");class vx{constructor(e,t,s,r){this.loader=e,this.compiler=t,this.onLoadStartListener=s,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(Q(i=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=i.create(e);return new Im(kT(o.injector.get(Nm,void 0,Z.Self|Z.Optional)).map(Mm),o)}),Ii(i=>{throw t._loader$=void 0,i}));return t._loader$=new sv(r,()=>new os).pipe(Ld()),t._loader$}loadModuleFactory(e){return"string"==typeof e?Ct(this.loader.load(e)):Ws(e()).pipe(Ut(t=>t instanceof XC?me(t):Ct(this.compiler.compileModuleAsync(t))))}}class PU{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ua,this.attachRef=null}}class ua{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const s=this.getOrCreateContext(e);s.outlet=t,this.contexts.set(e,s)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new PU,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class VU{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function jU(n){throw n}function BU(n,e,t){return e.parse("/")}function bx(n,e){return me(null)}const qU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yn=(()=>{class n{constructor(t,s,r,i,o,a,c,u){this.rootComponentType=t,this.urlSerializer=s,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new os,this.errorHandler=jU,this.malformedUriErrorHandler=BU,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bx,afterPreactivation:bx},this.urlHandlingStrategy=new VU,this.routeReuseStrategy=new FU,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Hs),this.console=o.get(Zl);const d=o.get(Et);this.isNgZoneEnabled=d instanceof Et&&Et.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Mi(new xe([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vx(a,c,f=>this.triggerEvent(new IT(f)),f=>this.triggerEvent(new MT(f))),this.routerState=GT(this.currentUrlTree,this.rootComponentType),this.transitions=new Es({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const s=this.events;return t.pipe(ia(r=>0!==r.id),Q(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ur(r=>{let i=!1,o=!1;return me(r).pipe(Pn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ur(a=>{const c=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Bh(a.source)&&(this.browserUrlTree=a.extractedUrl),me(a).pipe(Ur(h=>{const d=this.transitions.getValue();return s.next(new _m(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),d!==this.transitions.getValue()?ra:Promise.resolve(h)}),function(n,e,t,s){return Ur(r=>function(n,e,t,s,r){return new oU(n,e,t,s,r).apply()}(n,e,t,r.extractedUrl,s).pipe(Q(i=>Object.assign(Object.assign({},r),{urlAfterRedirects:i}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Pn(h=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:h.urlAfterRedirects})}),function(n,e,t,s,r){return Ut(i=>function(n,e,t,s,r="emptyOnly",i="legacy"){try{const o=new EU(n,e,t,s,r,i).recognize();return null===o?fx(new CU):me(o)}catch(o){return fx(o)}}(n,e,i.urlAfterRedirects,t(i.urlAfterRedirects),s,r).pipe(Q(o=>Object.assign(Object.assign({},i),{targetSnapshot:o}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),Pn(h=>{"eager"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(h.urlAfterRedirects,h),this.browserUrlTree=h.urlAfterRedirects);const d=new nq(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);s.next(d)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:d,extractedUrl:f,source:p,restoredState:g,extras:m}=a,_=new _m(d,this.serializeUrl(f),p,g);s.next(_);const y=GT(f,this.rootComponentType).snapshot;return me(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},m),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),ra}),Rm(a=>{const{targetSnapshot:c,id:u,extractedUrl:l,rawUrl:h,extras:{skipLocationChange:d,replaceUrl:f}}=a;return this.hooks.beforePreactivation(c,{navigationId:u,appliedUrlTree:l,rawUrlTree:h,skipLocationChange:!!d,replaceUrl:!!f})}),Pn(a=>{const c=new sq(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),Q(a=>Object.assign(Object.assign({},a),{guards:uU(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return Ut(t=>{const{targetSnapshot:s,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=t;return 0===o.length&&0===i.length?me(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,s){return Ct(n).pipe(Ut(r=>function(n,e,t,s,r){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?me(i.map(a=>{const c=jh(a,e,r);let u;if(function(n){return n&&$r(n.canDeactivate)}(c))u=Ws(c.canDeactivate(n,e,t,s));else{if(!$r(c))throw new Error("Invalid CanDeactivate guard");u=Ws(c(n,e,t,s))}return u.pipe(oa())})).pipe(Zc()):me(!0)}(r.component,r.route,t,e,s)),oa(r=>!0!==r,!0))}(o,s,r,n).pipe(Ut(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,s){return Ct(e).pipe(Hc(r=>fm(function(n,e){return null!==n&&e&&e(new aq(n)),me(!0)}(r.route.parent,s),function(n,e){return null!==n&&e&&e(new uq(n)),me(!0)}(r.route,s),function(n,e,t){const s=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>DT(()=>me(o.guards.map(c=>{const u=jh(c,o.node,t);let l;if(function(n){return n&&$r(n.canActivateChild)}(u))l=Ws(u.canActivateChild(s,n));else{if(!$r(u))throw new Error("Invalid CanActivateChild guard");l=Ws(u(s,n))}return l.pipe(oa())})).pipe(Zc())));return me(i).pipe(Zc())}(n,r.path,t),function(n,e,t){const s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||0===s.length)return me(!0);const r=s.map(i=>DT(()=>{const o=jh(i,e,t);let a;if(function(n){return n&&$r(n.canActivate)}(o))a=Ws(o.canActivate(e,n));else{if(!$r(o))throw new Error("Invalid CanActivate guard");a=Ws(o(e,n))}return a.pipe(oa())}));return me(r).pipe(Zc())}(n,r.route,t))),oa(r=>!0!==r,!0))}(s,i,n,e):me(a)),Q(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Pn(a=>{if(Ri(a.guardsResult)){const u=ym(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const c=new rq(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),ia(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Rm(a=>{if(a.guards.canActivateChecks.length)return me(a).pipe(Pn(c=>{const u=new iq(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}),Ur(c=>{let u=!1;return me(c).pipe(function(n,e){return Ut(t=>{const{targetSnapshot:s,guards:{canActivateChecks:r}}=t;if(!r.length)return me(t);let i=0;return Ct(r).pipe(Hc(o=>function(n,e,t,s){return function(n,e,t,s){const r=Object.keys(n);if(0===r.length)return me({});const i={};return Ct(r).pipe(Ut(o=>function(n,e,t,s){const r=jh(n,e,s);return Ws(r.resolve?r.resolve(e,t):r(e,t))}(n[o],e,t,s).pipe(Pn(a=>{i[o]=a}))),mm(1),Ut(()=>Object.keys(i).length===r.length?me(i):ra))}(n._resolve,n,e,s).pipe(Q(i=>(n._resolvedData=i,n.data=Object.assign(Object.assign({},n.data),QT(n,t).resolve),null)))}(o.route,s,n,e)),Pn(()=>i++),mm(1),Ut(o=>i===r.length?me(t):ra))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Pn({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),Pn(c=>{const u=new oq(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}))}),Rm(a=>{const{targetSnapshot:c,id:u,extractedUrl:l,rawUrl:h,extras:{skipLocationChange:d,replaceUrl:f}}=a;return this.hooks.afterPreactivation(c,{navigationId:u,appliedUrlTree:l,rawUrlTree:h,skipLocationChange:!!d,replaceUrl:!!f})}),Q(a=>{const c=function(n,e,t){const s=Oh(n,e._root,t?t._root:void 0);return new zT(s,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:c})}),Pn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Q(s=>(new $q(e,s.targetRouterState,s.currentRouterState,t).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Pn({next(){i=!0},complete(){i=!0}}),function(n){return e=>e.lift(new JB(n))}(()=>{var a;if(!i&&!o){const c=`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(r),this.cancelNavigationTransition(r,c)):this.cancelNavigationTransition(r,c)}(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Ii(a=>{if(o=!0,function(n){return n&&n[RT]}(a)){const c=Ri(a.url);c||(this.navigated=!0,this.restoreHistory(r,!0));const u=new AT(r.id,this.serializeUrl(r.extractedUrl),a.message);s.next(u),c?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Bh(r.source)};this.scheduleNavigation(l,"imperative",null,h,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const c=new tq(r.id,this.serializeUrl(r.extractedUrl),a);s.next(c);try{r.resolve(this.errorHandler(a))}catch(u){r.reject(u)}}return ra}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const s=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:r,state:i,urlTree:o}=s,a={replaceUrl:!0};if(i){const c=Object.assign({},i);delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(a.state=c)}this.scheduleNavigation(o,r,i,a)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(t){var s;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,s){if(!t)return!0;const r=s.urlTree.toString()===t.urlTree.toString();return s.transitionId!==t.transitionId||!r||!("hashchange"===s.source&&"popstate"===t.source||"popstate"===s.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ix(t),this.config=t.map(Mm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,s={}){const{relativeTo:r,queryParams:i,fragment:o,queryParamsHandling:a,preserveFragment:c}=s,u=r||this.routerState.root,l=c?this.currentUrlTree.fragment:o;let h=null;switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}return null!==h&&(h=this.removeEmptyProps(h)),function(n,e,t,s,r){if(0===t.length)return xm(e.root,e.root,e,s,r);const i=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new JT(!0,0,n);let e=0,t=!1;const s=n.reduce((r,i,o)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return $t(i.outlets,(c,u)=>{a[u]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(i.segmentPath)return[...r,i.segmentPath]}return"string"!=typeof i?[...r,i]:0===o?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,i]},[]);return new JT(t,e,s)}(t);if(i.toRoot())return xm(e.root,new xe([],{}),e,s,r);const o=function(n,e,t){if(n.isAbsolute)return new Sm(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const i=t.snapshot._urlSegment;return new Sm(i,i===e.root,0)}const s=Rh(n.commands[0])?0:1;return function(n,e,t){let s=n,r=e,i=t;for(;i>r;){if(i-=r,s=s.parent,!s)throw new Error("Invalid number of '../'");r=s.segments.length}return new Sm(s,!1,r-i)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(i,e,n),a=o.processChildren?Nh(o.segmentGroup,o.index,i.commands):ex(o.segmentGroup,o.index,i.commands);return xm(o.segmentGroup,a,e,s,r)}(u,this.currentUrlTree,t,h,null!=l?l:null)}navigateByUrl(t,s={skipLocationChange:!1}){const r=Ri(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,s)}navigate(t,s={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let s;try{s=this.urlSerializer.parse(t)}catch(r){s=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return s}isActive(t,s){let r;if(r=!0===s?Object.assign({},qU):!1===s?Object.assign({},UU):s,Ri(t))return LT(this.currentUrlTree,t,r);const i=this.parseUrl(t);return LT(this.currentUrlTree,i,r)}removeEmptyProps(t){return Object.keys(t).reduce((s,r)=>{const i=t[r];return null!=i&&(s[r]=i),s},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new $c(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,s,r,i,o){var a,c;if(this.disposed)return Promise.resolve(!1);const u=this.getTransition(),l=Bh(s)&&u&&!Bh(u.source),f=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(l&&f)return Promise.resolve(!0);let p,g,m;o?(p=o.resolve,g=o.reject,m=o.promise):m=new Promise((b,E)=>{p=b,g=E});const _=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),y=r&&r.\u0275routerPageId?r.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):y=0,this.setTransition({id:_,targetPageId:y,source:s,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:p,reject:g,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(b=>Promise.reject(b))}setBrowserUrl(t,s){const r=this.urlSerializer.serialize(t),i=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(r)||s.extras.replaceUrl?this.location.replaceState(r,"",i):this.location.go(r,"",i)}restoreHistory(t,s=!1){var r,i;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,s){const r=new AT(t.id,this.serializeUrl(t.extractedUrl),s);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(j(il),j(vm),j(ua),j(uh),j(He),j(Xl),j(Ti),j(void 0))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();function Bh(n){return"imperative"!==n}let Pm=(()=>{class n{constructor(t,s,r,i,o){this.parentContexts=t,this.location=s,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Zn,this.deactivateEvents=new Zn,this.name=i||De,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(s=s||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,c=new zU(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,c),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(Y(ua),Y(ms),Y(Ci),function(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const s=t.length;let r=0;for(;r<s;){const i=t[r];if(Fv(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<s&&"string"==typeof t[r];)r++;else{if(i===e)return t[r+1];r+=2}}}return null}(It(),n)}("name"),Y(Hp))},n.\u0275dir=Gt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class zU{constructor(e,t,s){this.route=e,this.childContexts=t,this.parent=s}get(e,t){return e===ca?this.route:e===ua?this.childContexts:this.parent.get(e,t)}}class wx{}class Cx{preload(e,t){return me(null)}}let Dx=(()=>{class n{constructor(t,s,r,i,o){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new vx(s,r,u=>t.triggerEvent(new IT(u)),u=>t.triggerEvent(new MT(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(ia(t=>t instanceof $c),Hc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Hs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const r=[];for(const i of s)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const o=i._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else i.loadChildren&&!i.canLoad?r.push(this.preloadConfig(t,i)):i.children&&r.push(this.processRoutes(t,i.children));return Ct(r).pipe(Fa(),Q(i=>{}))}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?me(s._loadedConfig):this.loader.load(t.injector,s)).pipe(Ut(i=>(s._loadedConfig=i,this.processRoutes(i.module,i.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(j(yn),j(Xl),j(Ti),j(He),j(wx))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})(),Lm=(()=>{class n{constructor(t,s,r={}){this.router=t,this.viewportScroller=s,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _m?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $c&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof OT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.router.triggerEvent(new OT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(j(yn),j(cT),j(void 0))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();const Ni=new ke("ROUTER_CONFIGURATION"),Ex=new ke("ROUTER_FORROOT_GUARD"),QU=[uh,{provide:vm,useClass:qT},{provide:yn,useFactory:function(n,e,t,s,r,i,o,a={},c,u){const l=new yn(null,n,e,t,s,r,i,kT(o));return c&&(l.urlHandlingStrategy=c),u&&(l.routeReuseStrategy=u),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(h=>{var d,f;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${h.constructor.name}`),console.log(h.toString()),console.log(h),null===(f=console.groupEnd)||void 0===f||f.call(console)}),l},deps:[vm,ua,uh,He,Xl,Ti,Nm,Ni,[class{},new mn],[class{},new mn]]},ua,{provide:ca,useFactory:function(n){return n.routerState.root},deps:[yn]},{provide:Xl,useClass:jL},Dx,Cx,class{preload(e,t){return t().pipe(Ii(()=>me(null)))}},{provide:Ni,useValue:{enableTracing:!1}}];function YU(){return new xg("Router",yn)}let Tx=(()=>{class n{constructor(t,s){}static forRoot(t,s){return{ngModule:n,providers:[QU,xx(t),{provide:Ex,useFactory:XU,deps:[[yn,new mn,new kr]]},{provide:Ni,useValue:s||{}},{provide:sa,useFactory:KU,deps:[Ai,[new bo(Hg),new mn],Ni]},{provide:Lm,useFactory:ZU,deps:[yn,cT,Ni]},{provide:wx,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Cx},{provide:xg,multi:!0,useFactory:YU},[Vm,{provide:Rc,multi:!0,useFactory:n3,deps:[Vm]},{provide:Sx,useFactory:s3,deps:[Vm]},{provide:tE,multi:!0,useExisting:Sx}]]}}static forChild(t){return{ngModule:n,providers:[xx(t)]}}}return n.\u0275fac=function(t){return new(t||n)(j(Ex,8),j(yn,8))},n.\u0275mod=oi({type:n}),n.\u0275inj=tr({}),n})();function ZU(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Lm(n,e,t)}function KU(n,e,t={}){return t.useHash?new i2(n,e):new WE(n,e)}function XU(n){return"guarded"}function xx(n){return[{provide:s1,multi:!0,useValue:n},{provide:Nm,multi:!0,useValue:n}]}let Vm=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new os}appInitializer(){return this.injector.get(n2,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const r=new Promise(a=>s=a),i=this.injector.get(yn),o=this.injector.get(Ni);return"disabled"===o.initialNavigation?(i.setUpLocationChangeListener(),s(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(i.hooks.afterPreactivation=()=>this.initNavigation?me(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),i.initialNavigation()):s(!0),r})}bootstrapListener(t){const s=this.injector.get(Ni),r=this.injector.get(Dx),i=this.injector.get(Lm),o=this.injector.get(yn),a=this.injector.get(ea);t===a.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(j(He))},n.\u0275prov=we({token:n,factory:n.\u0275fac}),n})();function n3(n){return n.appInitializer.bind(n)}function s3(n){return n.bootstrapListener.bind(n)}const Sx=new ke("Router Initializer"),i3=[];let o3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=oi({type:n}),n.\u0275inj=tr({imports:[[Tx.forRoot(i3)],Tx]}),n})();function Ax(n,e,t,s,r,i,o){try{var a=n[i](o),c=a.value}catch(u){return void t(u)}a.done?e(c):Promise.resolve(c).then(s,r)}function se(n){return function(){var e=this,t=arguments;return new Promise(function(s,r){var i=n.apply(e,t);function o(c){Ax(i,s,r,o,a,"next",c)}function a(c){Ax(i,s,r,o,a,"throw",c)}o(void 0)})}}const jm="14.7.77";var Wr=W(837);const ha=new WeakSet,Ix=new WeakMap,Bm=new WeakMap,Mx=new WeakMap,qm=new WeakMap,qh=new WeakMap,Ox=new WeakMap,Um=new WeakMap,Hm=new WeakMap,$m=new WeakMap,Rx={construct:()=>Rx},Nx=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,kx=(n,e)=>{const t=[];let s=n.replace(/^[\s]+/,""),r=s.match(Nx);for(;null!==r;){const i=r[1].slice(1,-1),o=r[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());t.push(o),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(Nx)}return[t.join(";"),s]},Fx=n=>{if(void 0!==n&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Px=n=>{if(!(n=>{try{new new Proxy(n,Rx)}catch(e){return!1}return!0})(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===n.prototype||"object"!=typeof n.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},Ts=(n,e)=>{const t=n.get(e);if(void 0===t)throw new Error("A value with the given key could not be found.");return t},Uh=(n,e)=>{const t=Array.from(n).filter(e);if(t.length>1)throw Error("More than one element was found.");if(0===t.length)throw Error("No element was found.");const[s]=t;return n.delete(s),s},Lx=(n,e,t,s)=>{const r=Ts(n,e),i=Uh(r,o=>o[0]===t&&o[1]===s);return 0===r.size&&n.delete(e),i},eu=n=>Ts(Ox,n),da=n=>{if(ha.has(n))throw new Error("The AudioNode is already stored.");ha.add(n),eu(n).forEach(e=>e(!0))},Vx=n=>"port"in n,tu=n=>{if(!ha.has(n))throw new Error("The AudioNode is not stored.");ha.delete(n),eu(n).forEach(e=>e(!1))},Wm=(n,e)=>{!Vx(n)&&e.every(t=>0===t.size)&&tu(n)},_3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},en=(n,e)=>n.context===e,Hh=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch(e){return!1}return!0},zs=()=>new DOMException("","IndexSizeError"),zm=n=>{var e;n.getChannelData=(e=n.getChannelData,t=>{try{return e.call(n,t)}catch(s){throw 12===s.code?zs():s}})},b3={numberOfChannels:1},vn=-34028234663852886e22,hn=-vn,gr=n=>ha.has(n),C3={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},dn=n=>Ts(Ix,n),nu=n=>Ts(Mx,n),Gm=(n,e)=>{const{activeInputs:t}=dn(n);t.forEach(r=>r.forEach(([i])=>{e.includes(n)||Gm(i,[...e,n])}));const s=(n=>"playbackRate"in n)(n)?[n.playbackRate]:Vx(n)?Array.from(n.parameters.values()):(n=>"frequency"in n&&"gain"in n)(n)?[n.Q,n.detune,n.frequency,n.gain]:(n=>"offset"in n)(n)?[n.offset]:(n=>!("frequency"in n)&&"gain"in n)(n)?[n.gain]:(n=>"detune"in n&&"frequency"in n)(n)?[n.detune,n.frequency]:(n=>"pan"in n)(n)?[n.pan]:[];for(const r of s){const i=nu(r);void 0!==i&&i.activeInputs.forEach(([o])=>Gm(o,e))}gr(n)&&tu(n)},$h=n=>{Gm(n.destination,[])},Wh=n=>"context"in n,su=n=>Wh(n[0]),ki=(n,e,t,s)=>{for(const r of n)if(t(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return n.add(e),!0},Bx=(n,e,[t,s],r)=>{ki(n,[e,t,s],i=>i[0]===e&&i[1]===t,r)},qx=(n,[e,t,s],r)=>{const i=n.get(e);void 0===i?n.set(e,new Set([[t,s]])):ki(i,[t,s],o=>o[0]===t,r)},fa=n=>"inputs"in n,zh=(n,e,t,s)=>{if(fa(e)){const r=e.inputs[s];return n.connect(r,t,0),[r,t,0]}return n.connect(e,t,s),[e,t,s]},Ux=(n,e,t)=>{for(const s of n)if(s[0]===e&&s[1]===t)return n.delete(s),s;return null},Hx=(n,e)=>{if(!eu(n).delete(e))throw new Error("Missing the expected event listener.")},$x=(n,e,t)=>{const s=Ts(n,e),r=Uh(s,i=>i[0]===t);return 0===s.size&&n.delete(e),r},Gh=(n,e,t,s)=>{fa(e)?n.disconnect(e.inputs[s],t,0):n.disconnect(e,t,s)},et=n=>Ts(Bm,n),ru=n=>Ts(qm,n),Fi=n=>Um.has(n),Qh=n=>!ha.has(n),Wx=(n,e)=>new Promise(t=>{if(null!==e)t(!0);else{const s=n.createScriptProcessor(256,1,1),r=n.createGain(),i=n.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=n.createBufferSource();a.buffer=i,a.loop=!0,a.connect(s).connect(n.destination),a.connect(r),a.disconnect(r),s.onaudioprocess=c=>{const u=c.inputBuffer.getChannelData(0);Array.prototype.some.call(u,l=>1===l)?t(!0):t(!1),a.stop(),s.onaudioprocess=null,a.disconnect(s),s.disconnect(n.destination)},a.start()}}),Qm=(n,e)=>{const t=new Map;for(const s of n)for(const r of s){const i=t.get(r);t.set(r,void 0===i?1:i+1)}t.forEach((s,r)=>e(r,s))},Yh=n=>"context"in n,Ym=(n,e,t,s,r)=>{const[i,o]=((n,e,t,s)=>{const{activeInputs:r,passiveInputs:i}=dn(e),o=Ux(r[s],n,t);return null===o?[Lx(i,n,t,s)[2],!1]:[o[2],!0]})(n,t,s,r);if(null!==i&&(Hx(n,i),o&&!e&&!Fi(n)&&Gh(et(n),et(t),s,r)),gr(t)){const{activeInputs:a}=dn(t);Wm(t,a)}},Zm=(n,e,t,s)=>{const[r,i]=((n,e,t)=>{const{activeInputs:s,passiveInputs:r}=nu(e),i=Ux(s,n,t);return null===i?[$x(r,n,t)[1],!1]:[i[2],!0]})(n,t,s);null!==r&&(Hx(n,r),i&&!e&&!Fi(n)&&et(n).disconnect(ru(t),s))};class zx{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((s,r)=>e.call(t,s,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const z3={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Zh(n,e,t,s,r){if("function"==typeof n.copyFromChannel)0===e[t].byteLength&&(e[t]=new Float32Array(128)),n.copyFromChannel(e[t],s,r);else{const i=n.getChannelData(s);if(0===e[t].byteLength)e[t]=i.slice(r,r+128);else{const o=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(o)}}}const Gx=(n,e,t,s,r)=>{"function"==typeof n.copyToChannel?0!==e[t].byteLength&&n.copyToChannel(e[t],s,r):0!==e[t].byteLength&&n.getChannelData(s).set(e[t],r)},Kh=(n,e)=>{const t=[];for(let s=0;s<n;s+=1){const r=[],i="number"==typeof e?e:e[s];for(let o=0;o<i;o+=1)r.push(new Float32Array(128));t.push(r)}return t},Y3=function(){var n=se(function*(e,t,s,r,i,o,a){const c=null===t?128*Math.ceil(e.context.length/128):t.length,u=r.channelCount*r.numberOfInputs,l=i.reduce((_,y)=>_+y,0),h=0===l?null:s.createBuffer(l,c,s.sampleRate);if(void 0===o)throw new Error("Missing the processor constructor.");const d=dn(e),f=yield((n,e)=>{const t=Ts($m,n),s=et(e);return Ts(t,s)})(s,e),p=Kh(r.numberOfInputs,r.channelCount),g=Kh(r.numberOfOutputs,i),m=Array.from(e.parameters.keys()).reduce((_,y)=>te(I({},_),{[y]:new Float32Array(128)}),{});for(let _=0;_<c;_+=128){if(r.numberOfInputs>0&&null!==t)for(let y=0;y<r.numberOfInputs;y+=1)for(let b=0;b<r.channelCount;b+=1)Zh(t,p[y],b,b,_);void 0!==o.parameterDescriptors&&null!==t&&o.parameterDescriptors.forEach(({name:y},b)=>{Zh(t,m,y,u+b,_)});for(let y=0;y<r.numberOfInputs;y+=1)for(let b=0;b<i[y];b+=1)0===g[y][b].byteLength&&(g[y][b]=new Float32Array(128));try{const y=p.map((E,C)=>0===d.activeInputs[C].size?[]:E),b=a(_/s.sampleRate,s.sampleRate,()=>f.process(y,g,m));if(null!==h)for(let E=0,C=0;E<r.numberOfOutputs;E+=1){for(let D=0;D<i[E];D+=1)Gx(h,g[E],D,C+D,_);C+=i[E]}if(!b)break}catch(y){e.dispatchEvent(new ErrorEvent("processorerror",{colno:y.colno,filename:y.filename,lineno:y.lineno,message:y.message}));break}}return h});return function(t,s,r,i,o,a,c){return n.apply(this,arguments)}}(),X3={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},nH={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},iH={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},hH={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},gH={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Qx=n=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(s=>{const r=()=>{t.onmessage=null,e.close(),t.close(),s()};t.onmessage=()=>r();try{e.postMessage(n,[n])}catch(i){}finally{r()}})},CH={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Xh=(n,e,t)=>{const s=e[t];if(void 0===s)throw n();return s},MH={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},VH={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},St=()=>new DOMException("","InvalidStateError"),Jh=()=>new DOMException("","InvalidAccessError"),ZH={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Yx=(n,e,t,s,r,i,o,a,c,u,l)=>{const h=u.length;let d=a;for(let f=0;f<h;f+=1){let p=t[0]*u[f];for(let g=1;g<r;g+=1){const m=d-g&c-1;p+=t[g]*i[m],p-=n[g]*o[m]}for(let g=r;g<s;g+=1)p+=t[g]*i[d-g&c-1];for(let g=r;g<e;g+=1)p-=n[g]*o[d-g&c-1];i[d]=u[f],o[d]=p,d=d+1&c-1,l[f]=p}return d},d$={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Pi=n=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=n.decodeAudioData(e.buffer,()=>{});return void 0!==t&&(t.catch(()=>{}),!0)}catch(t){}return!1},nt=(n,e,t)=>{const s=e[t];void 0!==s&&s!==n[t]&&(n[t]=s)},Ft=(n,e)=>{nt(n,e,"channelCount"),nt(n,e,"channelCountMode"),nt(n,e,"channelInterpretation")},Zx=n=>"function"==typeof n.getFloatTimeDomainData,ft=(n,e,t)=>{const s=e[t];void 0!==s&&s!==n[t].value&&(n[t].value=s)},Km=n=>{var e;n.start=(e=n.start,(t=0,s=0,r)=>{if("number"==typeof r&&r<0||s<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(n,t,s,r)})},Xm=n=>{var e;n.stop=(e=n.stop,(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(n,t)})},Kx=(n,e)=>null===n?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*e))))),R$=function(){var n=se(function*(e,t){const s=yield(n=>new Promise((e,t)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:i})=>{s.close(),r.close(),e(i)},s.onmessageerror=({data:i})=>{s.close(),r.close(),t(i)},r.postMessage(n)}))(t);return new e(s)});return function(t,s){return n.apply(this,arguments)}}(),Xx=(n,e)=>{const t=n.createBiquadFilter();return Ft(t,e),ft(t,e,"Q"),ft(t,e,"detune"),ft(t,e,"frequency"),ft(t,e,"gain"),nt(t,e,"type"),t},iu=(n,e)=>{const t=n.createChannelSplitter(e.numberOfOutputs);return Ft(t,e),(n=>{const e=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw St()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw St()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw St()}})})(t),t},pa=(n,e)=>(n.connect=e.connect.bind(e),n.disconnect=e.disconnect.bind(e),n),Jx=(n,e)=>{const t=n.createDelay(e.maxDelayTime);return Ft(t,e),ft(t,e,"delayTime"),t},bn=(n,e)=>{const t=n.createGain();return Ft(t,e),ft(t,e,"gain"),t};function U$(n,e){const t=e[0]*e[0]+e[1]*e[1];return[(n[0]*e[0]+n[1]*e[1])/t,(n[1]*e[0]-n[0]*e[1])/t]}function H$(n,e){return[n[0]*e[0]-n[1]*e[1],n[0]*e[1]+n[1]*e[0]]}function eS(n,e){let t=[0,0];for(let s=n.length-1;s>=0;s-=1)t=H$(t,e),t[0]+=n[s];return t}const ou=(n,e,t,s)=>n.createScriptProcessor(e,t,s),tn=()=>new DOMException("","NotSupportedError"),r8={numberOfChannels:1},o8={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},u8={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},d8={disableNormalization:!1},w8={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},tS=()=>new DOMException("","UnknownError"),S8={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},nS=(n,e,t)=>void 0===n.copyFromChannel?n.getChannelData(t)[0]:(n.copyFromChannel(e,t),e[0]),sS=n=>{if(null===n)return!1;const e=n.length;return e%2!=0?0!==n[Math.floor(e/2)]:n[e/2-1]+n[e/2]!==0},au=(n,e,t,s)=>{let r=n;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(n,e,{get:t(i),set:s(o)})},rS=(n,e,t)=>{try{n.setValueAtTime(e,t)}catch(s){if(9!==s.code)throw s;rS(n,e,t+1e-7)}},Jm=n=>{const e=n.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},iS=n=>{const e=n.createBuffer(1,1,44100),t=n.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch(s){return!1}},e_=n=>{const e=n.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},oS=(n,e)=>{const t=e.createGain();n.connect(t);const s=(r=n.disconnect,()=>{r.call(n,t),n.removeEventListener("ended",s)});var r;n.addEventListener("ended",s),pa(n,t),n.stop=(r=>{let i=!1;return(o=0)=>{if(i)try{r.call(n,o)}catch(a){t.gain.setValueAtTime(0,o)}else r.call(n,o),i=!0}})(n.stop)},ga=(n,e)=>t=>{const s={value:n};return Object.defineProperties(t,{currentTarget:s,target:s}),"function"==typeof e?e.call(n,t):e.handleEvent.call(n,t)},H8=(n=>(e,t,[s,r,i],o)=>{n(e[r],[t,s,i],a=>a[0]===t&&a[1]===s,o)})(ki),$8=(n=>(e,t,[s,r,i],o)=>{const a=e.get(s);void 0===a?e.set(s,new Set([[r,t,i]])):n(a,[r,t,i],c=>c[0]===r&&c[1]===t,o)})(ki),W8=(n=>(e,t,s,r)=>n(e[r],i=>i[0]===t&&i[1]===s))(Uh),aS=new WeakMap,z8=(n=>e=>{var t;return null!==(t=n.get(e))&&void 0!==t?t:0})(aS),Ln=((n,e)=>(t,s)=>{const r=e.get(t);if(void 0!==r)return r;const i=n.get(t);if(void 0!==i)return i;try{const o=s();return o instanceof Promise?(n.set(t,o),o.catch(()=>!1).then(a=>(n.delete(t),e.set(t,a),a))):(e.set(t,o),o)}catch(o){return e.set(t,!1),!1}})(new Map,new WeakMap),xs="undefined"==typeof window?null:window,cS=((n,e)=>(t,s)=>{const r=t.createAnalyser();if(Ft(r,s),!(s.maxDecibels>s.minDecibels))throw e();return nt(r,s,"fftSize"),nt(r,s,"maxDecibels"),nt(r,s,"minDecibels"),nt(r,s,"smoothingTimeConstant"),n(Zx,()=>Zx(r))||(n=>{n.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);n.getByteTimeDomainData(t);const s=Math.max(t.length,n.fftSize);for(let r=0;r<s;r+=1)e[r]=.0078125*(t[r]-128);return e}})(r),r})(Ln,zs),t_=(n=>e=>{const t=n(e);if(null===t.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer})(dn),Wt=((n,e,t)=>function(){var s=se(function*(r,i,o){const a=n(r);yield Promise.all(a.activeInputs.map((c,u)=>Array.from(c).map(function(){var l=se(function*([h,d]){const p=yield e(h).render(h,i),g=r.context.destination;!t(h)&&(r!==g||!t(r))&&p.connect(o,d,u)});return function(h){return l.apply(this,arguments)}}())).reduce((c,u)=>[...c,...u],[]))});return function(r,i,o){return s.apply(this,arguments)}}())(dn,t_,Fi),G8=((n,e,t)=>()=>{const s=new WeakMap,r=function(){var i=se(function*(o,a){let c=e(o);return en(c,a)||(c=n(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant})),s.set(a,c),yield t(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=s.get(o);return void 0!==a?Promise.resolve(a):r(i,o)}}})(cS,et,Wt),Xe=(n=>e=>{const t=n.get(e);if(void 0===t)throw St();return t})(qh),qt=(n=>null===n?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null)(xs),$e=(n=>e=>null!==n&&e instanceof n)(qt),uS=new WeakMap,lS=(n=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,s,r){if(null!==s){let i=this._listeners.get(s);void 0===i&&(i=n(this,s),"function"==typeof s&&this._listeners.set(s,i)),this._nativeEventTarget.addEventListener(t,i,r)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,s,r){const i=null===s?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(t,void 0===i?null:i,r)}})(ga),mr=(n=>null===n?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null)(xs),n_=(n=>e=>null!==n&&e instanceof n)(mr),s_=(n=>e=>null!==n&&"function"==typeof n.AudioNode&&e instanceof n.AudioNode)(xs),hS=(n=>e=>null!==n&&"function"==typeof n.AudioParam&&e instanceof n.AudioParam)(xs),ma=(n=>null===n?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null)(xs),vt=((n,e,t,s,r,i,o,a,c,u,l,h,d,f,p,g)=>class extends u{constructor(_,y,b,E){super(b),this._context=_,this._nativeAudioNode=b;const C=l(_);h(C)&&!0!==t(Wx,()=>Wx(C,g))&&(n=>{const e=new Map;var t;n.connect=(t=n.connect.bind(n),(s,r=0,i=0)=>{const o=Yh(s)?t(s,r,i):t(s,r),a=e.get(s);return void 0===a?e.set(s,[{input:i,output:r}]):a.every(c=>c.input!==i||c.output!==r)&&a.push({input:i,output:r}),o}),n.disconnect=(t=>(s,r,i)=>{if(t.apply(n),void 0===s)e.clear();else if("number"==typeof s)for(const[o,a]of e){const c=a.filter(u=>u.output!==s);0===c.length?e.delete(o):e.set(o,c)}else if(e.has(s))if(void 0===r)e.delete(s);else{const o=e.get(s);if(void 0!==o){const a=o.filter(c=>c.output!==r&&(c.input!==i||void 0===i));0===a.length?e.delete(s):e.set(s,a)}}for(const[o,a]of e)a.forEach(c=>{Yh(o)?n.connect(o,c.output,c.input):n.connect(o,c.output)})})(n.disconnect)})(b),Bm.set(this,b),Ox.set(this,new Set),"closed"!==_.state&&y&&da(this),n(this,E,b)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(_){this._nativeAudioNode.channelCount=_}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(_){this._nativeAudioNode.channelCountMode=_}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(_){this._nativeAudioNode.channelInterpretation=_}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(_,y=0,b=0){if(y<0||y>=this._nativeAudioNode.numberOfOutputs)throw r();const E=l(this._context),C=p(E);if(d(_)||f(_))throw i();if(Wh(_)){const w=et(_);try{const L=zh(this._nativeAudioNode,w,y,b),O=Qh(this);(C||O)&&this._nativeAudioNode.disconnect(...L),"closed"!==this.context.state&&!O&&Qh(_)&&da(_)}catch(L){throw 12===L.code?i():L}if(e(this,_,y,b,C)){const L=c([this],_);Qm(L,s(C))}return _}const D=ru(_);if("playbackRate"===D.name&&1024===D.maxValue)throw o();try{this._nativeAudioNode.connect(D,y),(C||Qh(this))&&this._nativeAudioNode.disconnect(D,y)}catch(w){throw 12===w.code?i():w}if(((n,e,t,s)=>{const{activeInputs:r,passiveInputs:i}=nu(e),{outputs:o}=dn(n),a=eu(n),c=u=>{const l=et(n),h=ru(e);if(u){const d=$x(i,n,t);Bx(r,n,d,!1),!s&&!Fi(n)&&l.connect(h,t)}else{const d=((n,e,t)=>Uh(n,s=>s[0]===e&&s[1]===t))(r,n,t);qx(i,d,!1),!s&&!Fi(n)&&l.disconnect(h,t)}};return!!ki(o,[e,t],u=>u[0]===e&&u[1]===t,!0)&&(a.add(c),gr(n)?Bx(r,n,[t,c],!0):qx(i,[n,t,c],!0),!0)})(this,_,y,C)){const w=c([this],_);Qm(w,s(C))}}disconnect(_,y,b){let E;const C=l(this._context),D=p(C);if(void 0===_)E=((n,e)=>{const t=dn(n),s=[];for(const r of t.outputs)su(r)?Ym(n,e,...r):Zm(n,e,...r),s.push(r[0]);return t.outputs.clear(),s})(this,D);else if("number"==typeof _){if(_<0||_>=this.numberOfOutputs)throw r();E=((n,e,t)=>{const s=dn(n),r=[];for(const i of s.outputs)i[1]===t&&(su(i)?Ym(n,e,...i):Zm(n,e,...i),r.push(i[0]),s.outputs.delete(i));return r})(this,D,_)}else{if(void 0!==y&&(y<0||y>=this.numberOfOutputs)||Wh(_)&&void 0!==b&&(b<0||b>=_.numberOfInputs))throw r();if(E=((n,e,t,s,r)=>{const i=dn(n);return Array.from(i.outputs).filter(o=>!(o[0]!==t||void 0!==s&&o[1]!==s||void 0!==r&&o[2]!==r)).map(o=>(su(o)?Ym(n,e,...o):Zm(n,e,...o),i.outputs.delete(o),o[0]))})(this,D,_,y,b),0===E.length)throw i()}for(const v of E){const w=c([this],v);Qm(w,a)}}})((n=>(e,t,s)=>{const r=[];for(let i=0;i<s.numberOfInputs;i+=1)r.push(new Set);n.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:t})})(Ix),((n,e,t,s,r,i,o,a,c,u,l,h,d)=>{const f=new WeakMap;return(p,g,m,_,y)=>{const{activeInputs:b,passiveInputs:E}=i(g),{outputs:C}=i(p),D=a(p),v=w=>{const S=c(g),L=c(p);if(w){const O=Lx(E,p,m,_);n(b,p,O,!1),!y&&!h(p)&&t(L,S,m,_),d(g)&&da(g)}else{const O=s(b,p,m,_);e(E,_,O,!1),!y&&!h(p)&&r(L,S,m,_);const T=o(g);if(0===T)l(g)&&Wm(g,b);else{const q=f.get(g);void 0!==q&&clearTimeout(q),f.set(g,setTimeout(()=>{l(g)&&Wm(g,b)},1e3*T))}}};return!!u(C,[g,m,_],w=>w[0]===g&&w[1]===m&&w[2]===_,!0)&&(D.add(v),l(p)?n(b,p,[m,_,v],!0):e(E,_,[p,m,v],!0),!0)}})(H8,$8,zh,W8,Gh,dn,z8,eu,et,ki,gr,Fi,Qh),Ln,((n,e,t,s,r,i)=>o=>(a,c)=>{const u=n.get(a);if(void 0===u){if(!o&&i(a)){const l=s(a),{outputs:h}=t(a);for(const d of h)if(su(d)){const f=s(d[0]);e(l,f,d[1],d[2])}else{const f=r(d[0]);l.disconnect(f,d[1])}}n.set(a,c)}else n.set(a,u+c)})(Um,Gh,dn,et,ru,gr),zs,Jh,tn,((n,e,t,s,r,i,o,a)=>(c,u)=>{const l=e.get(c);if(void 0===l)throw new Error("Missing the expected cycle count.");const h=i(c.context),d=a(h);if(l===u){if(e.delete(c),!d&&o(c)){const f=s(c),{outputs:p}=t(c);for(const g of p)if(su(g)){const m=s(g[0]);n(f,m,g[1],g[2])}else{const m=r(g[0]);f.connect(m,g[1])}}}else e.set(c,l-u)})(zh,Um,dn,et,ru,Xe,gr,$e),((n,e,t)=>function s(r,i){const o=Wh(i)?i:t(n,i);if((n=>"delayTime"in n)(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(c=>s([...r,o],c[0])).reduce((c,u)=>c.concat(u),[])})(uS,dn,Ts),lS,Xe,n_,s_,hS,$e,ma),Q8=((n,e,t,s,r,i)=>class extends n{constructor(a,c){const u=r(a),l=I(I({},_3),c),h=s(u,l);super(a,!1,h,i(u)?e():null),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=c,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}})(vt,G8,zs,cS,Xe,$e),r_=new WeakSet,dS=(n=>null===n?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null)(xs),fS=(n=>e=>(n[0]=e,n[0]))(new Uint32Array(1)),i_=((n,e)=>t=>{t.copyFromChannel=(s,r,i=0)=>{const o=n(i),a=n(r);if(a>=t.numberOfChannels)throw e();const c=t.length,u=t.getChannelData(a),l=s.length;for(let h=o<0?-o:0;h+o<c&&h<l;h+=1)s[h]=u[h+o]},t.copyToChannel=(s,r,i=0)=>{const o=n(i),a=n(r);if(a>=t.numberOfChannels)throw e();const c=t.length,u=t.getChannelData(a),l=s.length;for(let h=o<0?-o:0;h+o<c&&h<l;h+=1)u[h+o]=s[h]}})(fS,zs),o_=(n=>e=>{var t;e.copyFromChannel=(t=e.copyFromChannel,(s,r,i=0)=>{const o=n(i),a=n(r);if(o<e.length)return t.call(e,s,a,o)}),e.copyToChannel=(t=>(s,r,i=0)=>{const o=n(i),a=n(r);if(o<e.length)return t.call(e,s,a,o)})(e.copyToChannel)})(fS),Y8=((n,e,t,s,r,i,o,a)=>{let c=null;return class RA{constructor(l){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:f}=I(I({},b3),l);null===c&&(c=new r(1,1,44100));const p=null!==s&&e(i,i)?new s({length:h,numberOfChannels:d,sampleRate:f}):c.createBuffer(d,h,f);if(0===p.numberOfChannels)throw t();return"function"!=typeof p.copyFromChannel?(o(p),zm(p)):e(Hh,()=>Hh(p))||a(p),n.add(p),p}static[Symbol.hasInstance](l){return null!==l&&"object"==typeof l&&Object.getPrototypeOf(l)===RA.prototype||n.has(l)}}})(r_,Ln,tn,dS,qt,(n=>()=>{if(null===n)return!1;try{new n({length:1,sampleRate:44100})}catch(e){return!1}return!0})(dS),i_,o_),ed=(n=>(e,t)=>{const s=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(s).connect(e.destination);const r=()=>{t.removeEventListener("ended",r),t.disconnect(s),s.disconnect()};t.addEventListener("ended",r)})(bn),pS=((n,e,t)=>function(){var s=se(function*(r,i,o){const a=e(r);yield Promise.all(Array.from(a.activeInputs).map(function(){var c=se(function*([u,l]){const d=yield n(u).render(u,i);t(u)||d.connect(o,l)});return function(u){return c.apply(this,arguments)}}()))});return function(r,i,o){return s.apply(this,arguments)}}())(t_,nu,Fi),Gs=(n=>(e,t,s)=>n(t,e,s))(pS),_a=((n,e,t,s,r,i,o,a,c,u,l)=>(h,d)=>{const f=h.createBufferSource();return Ft(f,d),ft(f,d,"playbackRate"),nt(f,d,"buffer"),nt(f,d,"loop"),nt(f,d,"loopEnd"),nt(f,d,"loopStart"),e(t,()=>t(h))||(n=>{n.start=(e=>{let t=!1;return(s=0,r=0,i)=>{if(t)throw St();e.call(n,s,r,i),t=!0}})(n.start)})(f),e(s,()=>s(h))||(n=>{var e;n.start=(e=n.start,(t=0,s=0,r)=>{const i=n.buffer,o=null===i?s:Math.min(i.duration,s);null!==i&&o>i.duration-.5/n.context.sampleRate?e.call(n,t,0,0):e.call(n,t,o,r)})})(f),e(r,()=>r(h))||u(f,h),e(i,()=>i(h))||Km(f),e(o,()=>o(h))||l(f,h),e(a,()=>a(h))||Xm(f),n(h,f),f})(ed,Ln,n=>{const e=n.createBufferSource();e.start();try{e.start()}catch(t){return!0}return!1},n=>{const e=n.createBufferSource(),t=n.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch(s){return!1}return!0},n=>{const e=n.createBufferSource();e.start();try{e.stop()}catch(t){return!1}return!0},Jm,iS,e_,0,(n=>(e,t)=>{const s=t.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=s),n(e,"buffer",r=>()=>{const i=r.call(e);return i===s?null:i},r=>i=>r.call(e,null===i?s:i))})(au),oS),Qs=((n,e)=>(t,s,r)=>(n(s).replay(r),e(s,t,r)))((n=>e=>{const t=n(e);if(null===t.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer})(nu),pS),Z8=((n,e,t,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const c=function(){var u=se(function*(l,h){let d=t(l);const f=en(d,h);return f||(d=e(h,{buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value}),null!==o&&d.start(...o),null!==a&&d.stop(a)),i.set(h,d),f?yield n(h,l.playbackRate,d.playbackRate):yield s(h,l.playbackRate,d.playbackRate),yield r(l,h,d),d});return function(h,d){return u.apply(this,arguments)}}();return{set start(u){o=u},set stop(u){a=u},render(u,l){const h=i.get(l);return void 0!==h?Promise.resolve(h):c(u,l)}}})(Gs,_a,et,Qs,Wt),Ss=((n,e,t,s,r,i,o,a,c,u,l,h,d)=>(f,p,g,m=null,_=null)=>{const y=g.value,b=new Wr.AutomationEventList(y),E=p?(n=>({replay(e){for(const t of n)if("exponentialRampToValue"===t.type){const{endTime:s,value:r}=t;e.exponentialRampToValueAtTime(r,s)}else if("linearRampToValue"===t.type){const{endTime:s,value:r}=t;e.linearRampToValueAtTime(r,s)}else if("setTarget"===t.type){const{startTime:s,target:r,timeConstant:i}=t;e.setTargetAtTime(r,s,i)}else if("setValue"===t.type){const{startTime:s,value:r}=t;e.setValueAtTime(r,s)}else{if("setValueCurve"!==t.type)throw new Error("Can't apply an unknown automation.");{const{duration:s,startTime:r,values:i}=t;e.setValueCurveAtTime(i,r,s)}}}}))(b):null,C={get defaultValue(){return y},get maxValue(){return null===m?g.maxValue:m},get minValue(){return null===_?g.minValue:_},get value(){return g.value},set value(D){g.value=D,C.setValueAtTime(D,f.context.currentTime)},cancelAndHoldAtTime(D){if("function"==typeof g.cancelAndHoldAtTime)null===E&&b.flush(f.context.currentTime),b.add(r(D)),g.cancelAndHoldAtTime(D);else{const v=Array.from(b).pop();null===E&&b.flush(f.context.currentTime),b.add(r(D));const w=Array.from(b).pop();g.cancelScheduledValues(D),v!==w&&void 0!==w&&("exponentialRampToValue"===w.type?g.exponentialRampToValueAtTime(w.value,w.endTime):"linearRampToValue"===w.type?g.linearRampToValueAtTime(w.value,w.endTime):"setValue"===w.type?g.setValueAtTime(w.value,w.startTime):"setValueCurve"===w.type&&g.setValueCurveAtTime(w.values,w.startTime,w.duration))}return C},cancelScheduledValues:D=>(null===E&&b.flush(f.context.currentTime),b.add(i(D)),g.cancelScheduledValues(D),C),exponentialRampToValueAtTime(D,v){if(0===D)throw new RangeError;if(!Number.isFinite(v)||v<0)throw new RangeError;const w=f.context.currentTime;return null===E&&b.flush(w),0===Array.from(b).length&&(b.add(u(y,w)),g.setValueAtTime(y,w)),b.add(o(D,v)),g.exponentialRampToValueAtTime(D,v),C},linearRampToValueAtTime(D,v){const w=f.context.currentTime;return null===E&&b.flush(w),0===Array.from(b).length&&(b.add(u(y,w)),g.setValueAtTime(y,w)),b.add(a(D,v)),g.linearRampToValueAtTime(D,v),C},setTargetAtTime:(D,v,w)=>(null===E&&b.flush(f.context.currentTime),b.add(c(D,v,w)),g.setTargetAtTime(D,v,w),C),setValueAtTime:(D,v)=>(null===E&&b.flush(f.context.currentTime),b.add(u(D,v)),g.setValueAtTime(D,v),C),setValueCurveAtTime(D,v,w){const S=D instanceof Float32Array?D:new Float32Array(D);if(null!==h&&"webkitAudioContext"===h.name){const L=v+w,O=f.context.sampleRate,T=Math.ceil(v*O),q=Math.floor(L*O),A=q-T,R=new Float32Array(A);for(let $=0;$<A;$+=1){const re=(S.length-1)/w*((T+$)/O-v),X=Math.floor(re),pe=Math.ceil(re);R[$]=X===pe?S[X]:(1-(re-X))*S[X]+(1-(pe-re))*S[pe]}null===E&&b.flush(f.context.currentTime),b.add(l(R,v,w)),g.setValueCurveAtTime(R,v,w);const V=q/O;V<L&&d(C,R[R.length-1],V),d(C,S[S.length-1],L)}else null===E&&b.flush(f.context.currentTime),b.add(l(S,v,w)),g.setValueCurveAtTime(S,v,w);return C}};return t.set(C,g),e.set(C,f),n(C,E),C})((n=>(e,t)=>{n.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})})(Mx),uS,qm,0,Wr.createCancelAndHoldAutomationEvent,Wr.createCancelScheduledValuesAutomationEvent,Wr.createExponentialRampToValueAutomationEvent,Wr.createLinearRampToValueAutomationEvent,Wr.createSetTargetAutomationEvent,Wr.createSetValueAutomationEvent,Wr.createSetValueCurveAutomationEvent,mr,rS),K8=((n,e,t,s,r,i,o,a)=>class extends n{constructor(u,l){const h=i(u),d=I(I({},C3),l),f=r(h,d),p=o(h),g=p?e():null;super(u,!1,f,g),this._audioBufferSourceNodeRenderer=g,this._isBufferNullified=!1,this._isBufferSet=null!==d.buffer,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=t(this,p,f.playbackRate,hn,vn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,null!==u){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const l="function"==typeof u?a(this,u):null;this._nativeAudioBufferSourceNode.onended=l;const h=this._nativeAudioBufferSourceNode.onended;this._onended=null!==h&&h===l?u:h}get playbackRate(){return this._playbackRate}start(u=0,l=0,h){if(this._nativeAudioBufferSourceNode.start(u,l,h),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===h?[u,l]:[u,l,h]),"closed"!==this.context.state){da(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),gr(this)&&tu(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=u)}})(vt,Z8,Ss,St,_a,Xe,$e,ga),X8=((n,e,t,s,r,i,o,a)=>class extends n{constructor(u,l){const h=i(u),d=o(h),f=r(h,l,d);super(u,!1,f,d?e(a):null),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(vt,n=>{const e=new WeakMap,t=function(){var s=se(function*(r,i){const o=i.destination;return e.set(i,o),yield n(r,i,o),o});return function(i,o){return s.apply(this,arguments)}}();return{render(s,r){const i=e.get(r);return void 0!==i?Promise.resolve(i):t(s,r)}}},zs,St,((n,e)=>(t,s,r)=>{const i=t.destination;if(i.channelCount!==s)try{i.channelCount=s}catch(a){}r&&"explicit"!==i.channelCountMode&&(i.channelCountMode="explicit"),0===i.maxChannelCount&&Object.defineProperty(i,"maxChannelCount",{value:s});const o=n(t,{channelCount:s,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>c=>{a.call(o,c);try{i.channelCount=c}catch(u){if(c>i.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>c=>{a.call(o,c),i.channelCountMode=c}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>c=>{a.call(o,c),i.channelInterpretation=c}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o})(bn,au),Xe,$e,Wt),J8=((n,e,t,s,r)=>()=>{const i=new WeakMap,o=function(){var a=se(function*(c,u){let l=t(c);const h=en(l,u);return h||(l=e(u,{Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type})),i.set(u,l),h?(yield n(u,c.Q,l.Q),yield n(u,c.detune,l.detune),yield n(u,c.frequency,l.frequency),yield n(u,c.gain,l.gain)):(yield s(u,c.Q,l.Q),yield s(u,c.detune,l.detune),yield s(u,c.frequency,l.frequency),yield s(u,c.gain,l.gain)),yield r(c,u,l),l});return function(u,l){return a.apply(this,arguments)}}();return{render(a,c){const u=i.get(c);return void 0!==u?Promise.resolve(u):o(a,c)}}})(Gs,Xx,et,Qs,Wt),Li=(n=>(e,t)=>n.set(e,t))(aS),e4=((n,e,t,s,r,i,o,a)=>class extends n{constructor(u,l){const h=i(u),d=I(I({},X3),l),f=r(h,d),p=o(h);super(u,!1,f,p?t():null),this._Q=e(this,p,f.Q,hn,vn),this._detune=e(this,p,f.detune,1200*Math.log2(hn),-1200*Math.log2(hn)),this._frequency=e(this,p,f.frequency,u.sampleRate/2,0),this._gain=e(this,p,f.gain,40*Math.log10(hn),vn),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,l,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,l,h)}catch(d){throw 11===d.code?s():d}if(u.length!==l.length||l.length!==h.length)throw s()}})(vt,Ss,J8,Jh,Xx,Xe,$e,Li),zr=((n,e)=>(t,s,r)=>{const i=new Set;return t.connect=(o=t.connect,(a,c=0,u=0)=>{const l=0===i.size;if(e(a))return o.call(t,a,c,u),n(i,[a,c,u],h=>h[0]===a&&h[1]===c&&h[2]===u,!0),l&&s(),a;o.call(t,a,c),n(i,[a,c],h=>h[0]===a&&h[1]===c,!0),l&&s()}),t.disconnect=(o=>(a,c,u)=>{const l=i.size>0;if(void 0===a)o.apply(t),i.clear();else if("number"==typeof a){o.call(t,a);for(const d of i)d[1]===a&&i.delete(d)}else{e(a)?o.call(t,a,c,u):o.call(t,a,c);for(const d of i)d[0]===a&&(void 0===c||d[1]===c)&&(void 0===u||d[2]===u)&&i.delete(d)}l&&0===i.size&&r()})(t.disconnect),t;var o})(ki,s_),t4=((n,e)=>(t,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const r=t.createBufferSource();e(s,()=>{const a=s.numberOfInputs;for(let c=0;c<a;c+=1)r.connect(s,0,c)},()=>r.disconnect(s))})(St,zr),Gr=((n,e)=>(t,s)=>{const r=t.createChannelMerger(s.numberOfInputs);return null!==n&&"webkitAudioContext"===n.name&&e(t,r),Ft(r,s),r})(mr,t4),n4=((n,e,t)=>()=>{const s=new WeakMap,r=function(){var i=se(function*(o,a){let c=e(o);return en(c,a)||(c=n(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs})),s.set(a,c),yield t(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=s.get(o);return void 0!==a?Promise.resolve(a):r(i,o)}}})(Gr,et,Wt),s4=((n,e,t,s,r)=>class extends n{constructor(o,a){const c=s(o),u=I(I({},nH),a);super(o,!1,t(c,u),r(c)?e():null)}})(vt,n4,Gr,Xe,$e),r4=((n,e,t)=>()=>{const s=new WeakMap,r=function(){var i=se(function*(o,a){let c=e(o);return en(c,a)||(c=n(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs})),s.set(a,c),yield t(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=s.get(o);return void 0!==a?Promise.resolve(a):r(i,o)}}})(iu,et,Wt),i4=((n,e,t,s,r,i)=>class extends n{constructor(a,c){const u=s(a),l=(n=>te(I({},n),{channelCount:n.numberOfOutputs}))(I(I({},iH),c));super(a,!1,t(u,l),r(u)?e():null)}})(vt,r4,iu,Xe,$e),o4=((n,e,t,s)=>(r,a)=>{var c=a,{offset:i}=c,o=Mu(c,["offset"]);const u=r.createBuffer(1,2,44100),l=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=t(r,te(I({},o),{gain:i})),d=u.getChannelData(0);d[0]=1,d[1]=1,l.buffer=u,l.loop=!0;const f={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(m){h.channelCount=m},get channelCountMode(){return h.channelCountMode},set channelCountMode(m){h.channelCountMode=m},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(m){h.channelInterpretation=m},get context(){return h.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get offset(){return h.gain},get onended(){return l.onended},set onended(m){l.onended=m},addEventListener:(...m)=>l.addEventListener(m[0],m[1],m[2]),dispatchEvent:(...m)=>l.dispatchEvent(m[0]),removeEventListener:(...m)=>l.removeEventListener(m[0],m[1],m[2]),start(m=0){l.start.call(l,m)},stop(m=0){l.stop.call(l,m)}};return n(r,l),s(pa(f,h),()=>l.connect(h),()=>l.disconnect(h))})(ed,_a,bn,zr),ya=((n,e,t,s,r)=>(i,o)=>{if(void 0===i.createConstantSource)return t(i,o);const a=i.createConstantSource();return Ft(a,o),ft(a,o,"offset"),e(s,()=>s(i))||Km(a),e(r,()=>r(i))||Xm(a),n(i,a),a})(ed,Ln,o4,Jm,e_),a4=((n,e,t,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const c=function(){var u=se(function*(l,h){let d=t(l);const f=en(d,h);return f||(d=e(h,{channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value}),null!==o&&d.start(o),null!==a&&d.stop(a)),i.set(h,d),f?yield n(h,l.offset,d.offset):yield s(h,l.offset,d.offset),yield r(l,h,d),d});return function(h,d){return u.apply(this,arguments)}}();return{set start(u){o=u},set stop(u){a=u},render(u,l){const h=i.get(l);return void 0!==h?Promise.resolve(h):c(u,l)}}})(Gs,ya,et,Qs,Wt),c4=((n,e,t,s,r,i,o)=>class extends n{constructor(c,u){const l=r(c),h=I(I({},hH),u),d=s(l,h),f=i(l),p=f?t():null;super(c,!1,d,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=d,this._offset=e(this,f,d.offset,hn,vn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){const u="function"==typeof c?o(this,c):null;this._nativeConstantSourceNode.onended=u;const l=this._nativeConstantSourceNode.onended;this._onended=null!==l&&l===u?c:l}start(c=0){if(this._nativeConstantSourceNode.start(c),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=c),"closed"!==this.context.state){da(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),gr(this)&&tu(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(c=0){this._nativeConstantSourceNode.stop(c),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=c)}})(vt,Ss,a4,ya,Xe,$e,ga),gS=((n,e)=>(t,s)=>{const r=t.createConvolver();if(Ft(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),nt(r,s,"buffer"),s.channelCount>2||(e(r,"channelCount",i=>()=>i.call(r),i=>o=>{if(o>2)throw n();return i.call(r,o)}),"max"===s.channelCountMode))throw n();return e(r,"channelCountMode",i=>()=>i.call(r),i=>o=>{if("max"===o)throw n();return i.call(r,o)}),r})(tn,au),u4=((n,e,t)=>()=>{const s=new WeakMap,r=function(){var i=se(function*(o,a){let c=e(o);return en(c,a)||(c=n(a,{buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize})),s.set(a,c),fa(c)?yield t(o,a,c.inputs[0]):yield t(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=s.get(o);return void 0!==a?Promise.resolve(a):r(i,o)}}})(gS,et,Wt),l4=((n,e,t,s,r,i)=>class extends n{constructor(a,c){const u=s(a),l=I(I({},gH),c),h=t(u,l);super(a,!1,h,r(u)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=h,null!==l.buffer&&i(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,null===a&&null!==this._nativeConvolverNode.buffer){const c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}})(vt,u4,gS,Xe,$e,Li),h4=((n,e,t,s,r)=>i=>{const o=new WeakMap,a=function(){var c=se(function*(u,l){let h=t(u);const d=en(h,l);return d||(h=e(l,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:i})),o.set(l,h),d?yield n(l,u.delayTime,h.delayTime):yield s(l,u.delayTime,h.delayTime),yield r(u,l,h),h});return function(l,h){return c.apply(this,arguments)}}();return{render(c,u){const l=o.get(u);return void 0!==l?Promise.resolve(l):a(c,u)}}})(Gs,Jx,et,Qs,Wt),d4=((n,e,t,s,r,i,o)=>class extends n{constructor(c,u){const l=r(c),h=I(I({},CH),u),d=s(l,h),f=i(l);super(c,!1,d,f?t(h.maxDelayTime):null),this._delayTime=e(this,f,d.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}})(vt,Ss,h4,Jx,Xe,$e,Li),mS=(n=>(e,t)=>{const s=e.createDynamicsCompressor();if(Ft(s,t),t.channelCount>2||"max"===t.channelCountMode)throw n();return ft(s,t,"attack"),ft(s,t,"knee"),ft(s,t,"ratio"),ft(s,t,"release"),ft(s,t,"threshold"),s})(tn),f4=((n,e,t,s,r)=>()=>{const i=new WeakMap,o=function(){var a=se(function*(c,u){let l=t(c);const h=en(l,u);return h||(l=e(u,{attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value})),i.set(u,l),h?(yield n(u,c.attack,l.attack),yield n(u,c.knee,l.knee),yield n(u,c.ratio,l.ratio),yield n(u,c.release,l.release),yield n(u,c.threshold,l.threshold)):(yield s(u,c.attack,l.attack),yield s(u,c.knee,l.knee),yield s(u,c.ratio,l.ratio),yield s(u,c.release,l.release),yield s(u,c.threshold,l.threshold)),yield r(c,u,l),l});return function(u,l){return a.apply(this,arguments)}}();return{render(a,c){const u=i.get(c);return void 0!==u?Promise.resolve(u):o(a,c)}}})(Gs,mS,et,Qs,Wt),p4=((n,e,t,s,r,i,o,a)=>class extends n{constructor(u,l){const h=i(u),d=I(I({},MH),l),f=s(h,d),p=o(h);super(u,!1,f,p?t():null),this._attack=e(this,p,f.attack),this._knee=e(this,p,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,p,f.ratio),this._release=e(this,p,f.release),this._threshold=e(this,p,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const l=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=l,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const l=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,"max"===u)throw this._nativeDynamicsCompressorNode.channelCountMode=l,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(vt,Ss,f4,mS,tn,Xe,$e,Li),g4=((n,e,t,s,r)=>()=>{const i=new WeakMap,o=function(){var a=se(function*(c,u){let l=t(c);const h=en(l,u);return h||(l=e(u,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value})),i.set(u,l),h?yield n(u,c.gain,l.gain):yield s(u,c.gain,l.gain),yield r(c,u,l),l});return function(u,l){return a.apply(this,arguments)}}();return{render(a,c){const u=i.get(c);return void 0!==u?Promise.resolve(u):o(a,c)}}})(Gs,bn,et,Qs,Wt),m4=((n,e,t,s,r,i)=>class extends n{constructor(a,c){const u=r(a),l=I(I({},VH),c),h=s(u,l),d=i(u);super(a,!1,h,d?t():null),this._gain=e(this,d,h.gain,hn,vn)}get gain(){return this._gain}})(vt,Ss,g4,bn,Xe,$e),_4=((n,e,t,s)=>(r,i,{channelCount:o,channelCountMode:a,channelInterpretation:c,feedback:u,feedforward:l})=>{const h=Kx(i,r.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),f=l instanceof Float64Array?l:new Float64Array(l),p=d.length,g=f.length,m=Math.min(p,g);if(0===p||p>20)throw s();if(0===d[0])throw e();if(0===g||g>20)throw s();if(0===f[0])throw e();if(1!==d[0]){for(let w=0;w<g;w+=1)f[w]/=d[0];for(let w=1;w<p;w+=1)d[w]/=d[0]}const _=t(r,h,o,o);_.channelCount=o,_.channelCountMode=a,_.channelInterpretation=c;const b=[],E=[],C=[];for(let w=0;w<o;w+=1){b.push(0);const S=new Float32Array(32),L=new Float32Array(32);S.fill(0),L.fill(0),E.push(S),C.push(L)}_.onaudioprocess=w=>{const S=w.inputBuffer,L=w.outputBuffer,O=S.numberOfChannels;for(let T=0;T<O;T+=1){const q=S.getChannelData(T),A=L.getChannelData(T);b[T]=Yx(d,p,f,g,m,E[T],C[T],b[T],32,q,A)}};const D=r.sampleRate/2;return pa({get bufferSize(){return h},get channelCount(){return _.channelCount},set channelCount(w){_.channelCount=w},get channelCountMode(){return _.channelCountMode},set channelCountMode(w){_.channelCountMode=w},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(w){_.channelInterpretation=w},get context(){return _.context},get inputs(){return[_]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},addEventListener:(...w)=>_.addEventListener(w[0],w[1],w[2]),dispatchEvent:(...w)=>_.dispatchEvent(w[0]),getFrequencyResponse(w,S,L){if(w.length!==S.length||S.length!==L.length)throw n();const O=w.length;for(let T=0;T<O;T+=1){const q=-Math.PI*(w[T]/D),A=[Math.cos(q),Math.sin(q)],$=U$(eS(f,A),eS(d,A));S[T]=Math.sqrt($[0]*$[0]+$[1]*$[1]),L[T]=Math.atan2($[1],$[0])}},removeEventListener:(...w)=>_.removeEventListener(w[0],w[1],w[2])},_)})(Jh,St,ou,tn),td=((n,e,t,s)=>r=>n(Pi,()=>Pi(r))?Promise.resolve(n(s,s)).then(i=>{if(!i){const o=t(r,512,0,1);r.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>r.currentTime,o.connect(r.destination)}return r.startRendering()}):new Promise(i=>{const o=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(r.destination),r.startRendering()}))(Ln,bn,ou,((n,e)=>()=>{if(null===e)return Promise.resolve(!1);const t=new e(1,1,44100),s=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{t.oncomplete=()=>{s.disconnect(),r(0!==t.currentTime)},t.startRendering()})})(bn,qt)),y4=((n,e,t,s,r)=>(i,o)=>{const a=new WeakMap;let c=null;const u=function(){var l=se(function*(h,d){let f=null,p=e(h);const g=en(p,d);if(void 0===d.createIIRFilter?f=n(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):g||(p=d.createIIRFilter(o,i)),a.set(d,null===f?p:f),null!==f){if(null===c){if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");const _=new t(h.context.destination.channelCount,h.context.length,d.sampleRate);c=se(function*(){return yield s(h,_,_.destination),((n,e,t,s)=>{const r=t instanceof Float64Array?t:new Float64Array(t),i=s instanceof Float64Array?s:new Float64Array(s),o=r.length,a=i.length,c=Math.min(o,a);if(1!==r[0]){for(let p=0;p<o;p+=1)i[p]/=r[0];for(let p=1;p<a;p+=1)r[p]/=r[0]}const l=new Float32Array(32),h=new Float32Array(32),d=e.createBuffer(n.numberOfChannels,n.length,n.sampleRate),f=n.numberOfChannels;for(let p=0;p<f;p+=1){const g=n.getChannelData(p),m=d.getChannelData(p);l.fill(0),h.fill(0),Yx(r,o,i,a,c,l,h,0,32,g,m)}return d})(yield r(_),d,i,o)})()}const m=yield c;return f.buffer=m,f.start(0),f}return yield s(h,d,p),p});return function(d,f){return l.apply(this,arguments)}}();return{render(l,h){const d=a.get(h);return void 0!==d?Promise.resolve(d):u(l,h)}}})(_a,et,qt,Wt,td),v4=(n=>(e,t,s)=>{if(void 0===e.createIIRFilter)return n(e,t,s);const r=e.createIIRFilter(s.feedforward,s.feedback);return Ft(r,s),r})(_4),b4=((n,e,t,s,r,i)=>class extends n{constructor(a,c){const u=s(a),l=r(u),h=I(I({},ZH),c),d=e(u,l?null:a.baseLatency,h);super(a,!1,d,l?t(h.feedback,h.feedforward):null),(n=>{var e;n.getFrequencyResponse=(e=n.getFrequencyResponse,(t,s,r)=>{if(t.length!==s.length||s.length!==r.length)throw Jh();return e.call(n,t,s,r)})})(d),this._nativeIIRFilterNode=d,i(this,1)}getFrequencyResponse(a,c,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,c,u)}})(vt,v4,y4,Xe,$e,Li),w4=((n,e,t,s,r,i,o,a)=>(c,u)=>{const l=u.listener,{forwardX:d,forwardY:f,forwardZ:p,positionX:g,positionY:m,positionZ:_,upX:y,upY:b,upZ:E}=void 0===l.forwardX?(()=>{const C=new Float32Array(1),D=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),v=o(u);let w=!1,S=[0,0,-1,0,1,0],L=[0,0,0];const O=()=>{if(w)return;w=!0;const R=s(u,256,9,0);R.onaudioprocess=({inputBuffer:V})=>{const $=[i(V,C,0),i(V,C,1),i(V,C,2),i(V,C,3),i(V,C,4),i(V,C,5)];$.some((X,pe)=>X!==S[pe])&&(l.setOrientation(...$),S=$);const re=[i(V,C,6),i(V,C,7),i(V,C,8)];re.some((X,pe)=>X!==L[pe])&&(l.setPosition(...re),L=re)},D.connect(R)},T=R=>V=>{V!==S[R]&&(S[R]=V,l.setOrientation(...S))},q=R=>V=>{V!==L[R]&&(L[R]=V,l.setPosition(...L))},A=(R,V,$)=>{const re=t(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:V});re.connect(D,0,R),re.start(),Object.defineProperty(re.offset,"defaultValue",{get:()=>V});const X=n({context:c},v,re.offset,hn,vn);return a(X,"value",pe=>()=>pe.call(X),pe=>Fe=>{try{pe.call(X,Fe)}catch(rt){if(9!==rt.code)throw rt}O(),v&&$(Fe)}),X.cancelAndHoldAtTime=(pe=X.cancelAndHoldAtTime,v?()=>{throw r()}:(...Fe)=>{const rt=pe.apply(X,Fe);return O(),rt}),X.cancelScheduledValues=(pe=>v?()=>{throw r()}:(...Fe)=>{const rt=pe.apply(X,Fe);return O(),rt})(X.cancelScheduledValues),X.exponentialRampToValueAtTime=(pe=>v?()=>{throw r()}:(...Fe)=>{const rt=pe.apply(X,Fe);return O(),rt})(X.exponentialRampToValueAtTime),X.linearRampToValueAtTime=(pe=>v?()=>{throw r()}:(...Fe)=>{const rt=pe.apply(X,Fe);return O(),rt})(X.linearRampToValueAtTime),X.setTargetAtTime=(pe=>v?()=>{throw r()}:(...Fe)=>{const rt=pe.apply(X,Fe);return O(),rt})(X.setTargetAtTime),X.setValueAtTime=(pe=>v?()=>{throw r()}:(...Fe)=>{const rt=pe.apply(X,Fe);return O(),rt})(X.setValueAtTime),X.setValueCurveAtTime=(pe=>v?()=>{throw r()}:(...Fe)=>{const rt=pe.apply(X,Fe);return O(),rt})(X.setValueCurveAtTime),X;var pe};return{forwardX:A(0,0,T(0)),forwardY:A(1,0,T(1)),forwardZ:A(2,-1,T(2)),positionX:A(6,0,q(0)),positionY:A(7,0,q(1)),positionZ:A(8,0,q(2)),upX:A(3,0,T(3)),upY:A(4,1,T(4)),upZ:A(5,0,T(5))}})():l;return{get forwardX(){return d},get forwardY(){return f},get forwardZ(){return p},get positionX(){return g},get positionY(){return m},get positionZ(){return _},get upX(){return y},get upY(){return b},get upZ(){return E}}})(Ss,Gr,ya,ou,tn,nS,$e,au),_S=new WeakMap,a_=((n,e,t,s,r,i)=>class extends t{constructor(a,c){super(a),this._nativeContext=a,qh.set(this,a),s(a)&&r.set(a,new Set),this._destination=new n(this,c),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const c="function"==typeof a?i(this,a):null;this._nativeContext.onstatechange=c;const u=this._nativeContext.onstatechange;this._onstatechange=null!==u&&u===c?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(X8,w4,lS,$e,_S,ga),yS=((n,e,t,s,r,i)=>(o,a)=>{const c=o.createOscillator();return Ft(c,a),ft(c,a,"detune"),ft(c,a,"frequency"),void 0!==a.periodicWave?c.setPeriodicWave(a.periodicWave):nt(c,a,"type"),e(t,()=>t(o))||Km(c),e(s,()=>s(o))||i(c,o),e(r,()=>r(o))||Xm(c),n(o,c),c})(ed,Ln,Jm,iS,e_,oS),C4=((n,e,t,s,r)=>()=>{const i=new WeakMap;let o=null,a=null,c=null;const u=function(){var l=se(function*(h,d){let f=t(h);const p=en(f,d);return p||(f=e(d,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:null===o?void 0:o,type:f.type}),null!==a&&f.start(a),null!==c&&f.stop(c)),i.set(d,f),p?(yield n(d,h.detune,f.detune),yield n(d,h.frequency,f.frequency)):(yield s(d,h.detune,f.detune),yield s(d,h.frequency,f.frequency)),yield r(h,d,f),f});return function(d,f){return l.apply(this,arguments)}}();return{set periodicWave(l){o=l},set start(l){a=l},set stop(l){c=l},render(l,h){const d=i.get(h);return void 0!==d?Promise.resolve(d):u(l,h)}}})(Gs,yS,et,Qs,Wt),D4=((n,e,t,s,r,i,o)=>class extends n{constructor(c,u){const l=r(c),h=I(I({},o8),u),d=t(l,h),f=i(l),p=f?s():null,g=c.sampleRate/2;super(c,!1,d,p),this._detune=e(this,f,d.detune,153600,-153600),this._frequency=e(this,f,d.frequency,g,-g),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=p,null!==this._oscillatorNodeRenderer&&void 0!==h.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){const u="function"==typeof c?o(this,c):null;this._nativeOscillatorNode.onended=u;const l=this._nativeOscillatorNode.onended;this._onended=null!==l&&l===u?c:l}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=c),"closed"!==this.context.state){da(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),gr(this)&&tu(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(c=0){this._nativeOscillatorNode.stop(c),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=c)}})(vt,Ss,yS,C4,Xe,$e,ga),vS=(n=>(e,t)=>{const s=n(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(t),s.start(),()=>{s.stop(),s.disconnect(t)}})(_a),E4=((n,e,t,s,r)=>(i,u)=>{var l=u,{curve:o,oversample:a}=l,c=Mu(l,["curve","oversample"]);const h=i.createWaveShaper(),d=i.createWaveShaper();Ft(h,c),Ft(d,c);const f=t(i,te(I({},c),{gain:1})),p=t(i,te(I({},c),{gain:-1})),g=t(i,te(I({},c),{gain:1})),m=t(i,te(I({},c),{gain:-1}));let _=null,y=!1,b=null;const E={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(v){f.channelCount=v,p.channelCount=v,h.channelCount=v,g.channelCount=v,d.channelCount=v,m.channelCount=v},get channelCountMode(){return h.channelCountMode},set channelCountMode(v){f.channelCountMode=v,p.channelCountMode=v,h.channelCountMode=v,g.channelCountMode=v,d.channelCountMode=v,m.channelCountMode=v},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(v){f.channelInterpretation=v,p.channelInterpretation=v,h.channelInterpretation=v,g.channelInterpretation=v,d.channelInterpretation=v,m.channelInterpretation=v},get context(){return h.context},get curve(){return b},set curve(v){if(null!==v&&v.length<2)throw e();if(null===v)h.curve=v,d.curve=v;else{const w=v.length,S=new Float32Array(w+2-w%2),L=new Float32Array(w+2-w%2);S[0]=v[0],L[0]=-v[w-1];const O=Math.ceil((w+1)/2),T=(w+1)/2-1;for(let q=1;q<O;q+=1){const A=q/O*T,R=Math.floor(A),V=Math.ceil(A);S[q]=R===V?v[R]:(1-(A-R))*v[R]+(1-(V-A))*v[V],L[q]=R===V?-v[w-1-R]:-(1-(A-R))*v[w-1-R]-(1-(V-A))*v[w-1-V]}S[O]=w%2==1?v[O-1]:(v[O-2]+v[O-1])/2,h.curve=S,d.curve=L}b=v,y&&(s(b)&&null===_?_=n(i,f):null!==_&&(_(),_=null))},get inputs(){return[f]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(v){h.oversample=v,d.oversample=v},addEventListener:(...v)=>f.addEventListener(v[0],v[1],v[2]),dispatchEvent:(...v)=>f.dispatchEvent(v[0]),removeEventListener:(...v)=>f.removeEventListener(v[0],v[1],v[2])};return null!==o&&(E.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==E.oversample&&(E.oversample=a),r(pa(E,g),()=>{f.connect(h).connect(g),f.connect(p).connect(d).connect(m).connect(g),y=!0,s(b)&&(_=n(i,f))},()=>{f.disconnect(h),h.disconnect(g),f.disconnect(p),p.disconnect(d),d.disconnect(m),m.disconnect(g),y=!1,null!==_&&(_(),_=null)})})(vS,St,bn,sS,zr),nd=((n,e,t,s,r,i,o)=>(a,c)=>{const u=a.createWaveShaper();if(null!==i&&"webkitAudioContext"===i.name&&void 0===a.createGain().gain.automationRate)return t(a,c);Ft(u,c);const l=null===c.curve||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(null!==l&&l.length<2)throw e();nt(u,{curve:l},"curve"),nt(u,c,"oversample");let h=null,d=!1;return o(u,"curve",g=>()=>g.call(u),g=>m=>(g.call(u,m),d&&(s(m)&&null===h?h=n(a,u):!s(m)&&null!==h&&(h(),h=null)),m)),r(u,()=>{d=!0,s(u.curve)&&(h=n(a,u))},()=>{d=!1,null!==h&&(h(),h=null)})})(vS,St,E4,sS,zr,mr,au),T4=((n,e,t,s,r,i,o,a,c,u)=>(l,L)=>{var O=L,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:f,distanceModel:p,maxDistance:g,orientationX:m,orientationY:_,orientationZ:y,panningModel:b,positionX:E,positionY:C,positionZ:D,refDistance:v,rolloffFactor:w}=O,S=Mu(O,["coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","orientationX","orientationY","orientationZ","panningModel","positionX","positionY","positionZ","refDistance","rolloffFactor"]);const T=l.createPanner();if(S.channelCount>2||"max"===S.channelCountMode)throw o();Ft(T,S);const q={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=t(l,te(I({},q),{channelInterpretation:"speakers",numberOfInputs:6})),R=s(l,te(I({},S),{gain:1})),V=s(l,te(I({},q),{gain:1})),$=s(l,te(I({},q),{gain:0})),re=s(l,te(I({},q),{gain:0})),X=s(l,te(I({},q),{gain:0})),pe=s(l,te(I({},q),{gain:0})),Fe=s(l,te(I({},q),{gain:0})),rt=r(l,256,6,1),Ye=i(l,te(I({},q),{curve:new Float32Array([1,1]),oversample:"none"}));let pn=[m,_,y],Bn=[E,C,D];const Cn=new Float32Array(1);rt.onaudioprocess=({inputBuffer:G})=>{const Ma=[c(G,Cn,0),c(G,Cn,1),c(G,Cn,2)];Ma.some((Su,Au)=>Su!==pn[Au])&&(T.setOrientation(...Ma),pn=Ma);const Oa=[c(G,Cn,3),c(G,Cn,4),c(G,Cn,5)];Oa.some((Su,Au)=>Su!==Bn[Au])&&(T.setPosition(...Oa),Bn=Oa)},Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(re.gain,"defaultValue",{get:()=>0}),Object.defineProperty(X.gain,"defaultValue",{get:()=>0}),Object.defineProperty(pe.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Fe.gain,"defaultValue",{get:()=>0});const Ae={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(G){if(G>2)throw o();R.channelCount=G,T.channelCount=G},get channelCountMode(){return T.channelCountMode},set channelCountMode(G){if("max"===G)throw o();R.channelCountMode=G,T.channelCountMode=G},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(G){R.channelInterpretation=G,T.channelInterpretation=G},get coneInnerAngle(){return T.coneInnerAngle},set coneInnerAngle(G){T.coneInnerAngle=G},get coneOuterAngle(){return T.coneOuterAngle},set coneOuterAngle(G){T.coneOuterAngle=G},get coneOuterGain(){return T.coneOuterGain},set coneOuterGain(G){if(G<0||G>1)throw e();T.coneOuterGain=G},get context(){return T.context},get distanceModel(){return T.distanceModel},set distanceModel(G){T.distanceModel=G},get inputs(){return[R]},get maxDistance(){return T.maxDistance},set maxDistance(G){if(G<0)throw new RangeError;T.maxDistance=G},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get orientationX(){return V.gain},get orientationY(){return $.gain},get orientationZ(){return re.gain},get panningModel(){return T.panningModel},set panningModel(G){T.panningModel=G},get positionX(){return X.gain},get positionY(){return pe.gain},get positionZ(){return Fe.gain},get refDistance(){return T.refDistance},set refDistance(G){if(G<0)throw new RangeError;T.refDistance=G},get rolloffFactor(){return T.rolloffFactor},set rolloffFactor(G){if(G<0)throw new RangeError;T.rolloffFactor=G},addEventListener:(...G)=>R.addEventListener(G[0],G[1],G[2]),dispatchEvent:(...G)=>R.dispatchEvent(G[0]),removeEventListener:(...G)=>R.removeEventListener(G[0],G[1],G[2])};return h!==Ae.coneInnerAngle&&(Ae.coneInnerAngle=h),d!==Ae.coneOuterAngle&&(Ae.coneOuterAngle=d),f!==Ae.coneOuterGain&&(Ae.coneOuterGain=f),p!==Ae.distanceModel&&(Ae.distanceModel=p),g!==Ae.maxDistance&&(Ae.maxDistance=g),m!==Ae.orientationX.value&&(Ae.orientationX.value=m),_!==Ae.orientationY.value&&(Ae.orientationY.value=_),y!==Ae.orientationZ.value&&(Ae.orientationZ.value=y),b!==Ae.panningModel&&(Ae.panningModel=b),E!==Ae.positionX.value&&(Ae.positionX.value=E),C!==Ae.positionY.value&&(Ae.positionY.value=C),D!==Ae.positionZ.value&&(Ae.positionZ.value=D),v!==Ae.refDistance&&(Ae.refDistance=v),w!==Ae.rolloffFactor&&(Ae.rolloffFactor=w),(1!==pn[0]||0!==pn[1]||0!==pn[2])&&T.setOrientation(...pn),(0!==Bn[0]||0!==Bn[1]||0!==Bn[2])&&T.setPosition(...Bn),u(pa(Ae,T),()=>{R.connect(T),n(R,Ye,0,0),Ye.connect(V).connect(A,0,0),Ye.connect($).connect(A,0,1),Ye.connect(re).connect(A,0,2),Ye.connect(X).connect(A,0,3),Ye.connect(pe).connect(A,0,4),Ye.connect(Fe).connect(A,0,5),A.connect(rt).connect(l.destination)},()=>{R.disconnect(T),a(R,Ye,0,0),Ye.disconnect(V),V.disconnect(A),Ye.disconnect($),$.disconnect(A),Ye.disconnect(re),re.disconnect(A),Ye.disconnect(X),X.disconnect(A),Ye.disconnect(pe),pe.disconnect(A),Ye.disconnect(Fe),Fe.disconnect(A),A.disconnect(rt),rt.disconnect(l.destination)})})(zh,St,Gr,bn,ou,nd,tn,Gh,nS,zr),bS=(n=>(e,t)=>{const s=e.createPanner();return void 0===s.orientationX?n(e,t):(Ft(s,t),ft(s,t,"orientationX"),ft(s,t,"orientationY"),ft(s,t,"orientationZ"),ft(s,t,"positionX"),ft(s,t,"positionY"),ft(s,t,"positionZ"),nt(s,t,"coneInnerAngle"),nt(s,t,"coneOuterAngle"),nt(s,t,"coneOuterGain"),nt(s,t,"distanceModel"),nt(s,t,"maxDistance"),nt(s,t,"panningModel"),nt(s,t,"refDistance"),nt(s,t,"rolloffFactor"),s)})(T4),x4=((n,e,t,s,r,i,o,a,c,u)=>()=>{const l=new WeakMap;let h=null;const d=function(){var f=se(function*(p,g){let m=null,_=i(p);const y={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation},b=te(I({},y),{coneInnerAngle:_.coneInnerAngle,coneOuterAngle:_.coneOuterAngle,coneOuterGain:_.coneOuterGain,distanceModel:_.distanceModel,maxDistance:_.maxDistance,panningModel:_.panningModel,refDistance:_.refDistance,rolloffFactor:_.rolloffFactor}),E=en(_,g);if("bufferSize"in _)m=s(g,te(I({},y),{gain:1}));else if(!E){const C=te(I({},b),{orientationX:_.orientationX.value,orientationY:_.orientationY.value,orientationZ:_.orientationZ.value,positionX:_.positionX.value,positionY:_.positionY.value,positionZ:_.positionZ.value});_=r(g,C)}if(l.set(g,null===m?_:m),null!==m){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const T=new o(6,p.context.length,g.sampleRate),q=e(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});q.connect(T.destination),h=se(function*(){const A=yield Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(function(){var R=se(function*(V,$){const re=t(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===$?1:0});return yield a(T,V,re.offset),re});return function(V,$){return R.apply(this,arguments)}}()));for(let R=0;R<6;R+=1)A[R].connect(q,0,R),A[R].start(0);return u(T)})()}const C=yield h,D=s(g,te(I({},y),{gain:1}));yield c(p,g,D);const v=[];for(let T=0;T<C.numberOfChannels;T+=1)v.push(C.getChannelData(T));let w=[v[0][0],v[1][0],v[2][0]],S=[v[3][0],v[4][0],v[5][0]],L=s(g,te(I({},y),{gain:1})),O=r(g,te(I({},b),{orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:S[0],positionY:S[1],positionZ:S[2]}));D.connect(L).connect(O.inputs[0]),O.connect(m);for(let T=128;T<C.length;T+=128){const q=[v[0][T],v[1][T],v[2][T]],A=[v[3][T],v[4][T],v[5][T]];if(q.some((R,V)=>R!==w[V])||A.some((R,V)=>R!==S[V])){w=q,S=A;const R=T/g.sampleRate;L.gain.setValueAtTime(0,R),L=s(g,te(I({},y),{gain:0})),O=r(g,te(I({},b),{orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:S[0],positionY:S[1],positionZ:S[2]})),L.gain.setValueAtTime(1,R),D.connect(L).connect(O.inputs[0]),O.connect(m)}}return m}return E?(yield n(g,p.orientationX,_.orientationX),yield n(g,p.orientationY,_.orientationY),yield n(g,p.orientationZ,_.orientationZ),yield n(g,p.positionX,_.positionX),yield n(g,p.positionY,_.positionY),yield n(g,p.positionZ,_.positionZ)):(yield a(g,p.orientationX,_.orientationX),yield a(g,p.orientationY,_.orientationY),yield a(g,p.orientationZ,_.orientationZ),yield a(g,p.positionX,_.positionX),yield a(g,p.positionY,_.positionY),yield a(g,p.positionZ,_.positionZ)),fa(_)?yield c(p,g,_.inputs[0]):yield c(p,g,_),_});return function(g,m){return f.apply(this,arguments)}}();return{render(f,p){const g=l.get(p);return void 0!==g?Promise.resolve(g):d(f,p)}}})(Gs,Gr,ya,bn,bS,et,qt,Qs,Wt,td),S4=((n,e,t,s,r,i,o)=>class extends n{constructor(c,u){const l=r(c),h=I(I({},u8),u),d=t(l,h),f=i(l);super(c,!1,d,f?s():null),this._nativePannerNode=d,this._orientationX=e(this,f,d.orientationX,hn,vn),this._orientationY=e(this,f,d.orientationY,hn,vn),this._orientationZ=e(this,f,d.orientationZ,hn,vn),this._positionX=e(this,f,d.positionX,hn,vn),this._positionY=e(this,f,d.positionY,hn,vn),this._positionZ=e(this,f,d.positionZ,hn,vn),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}})(vt,Ss,bS,x4,Xe,$e,Li),A4=(n=>(e,{disableNormalization:t,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:t});if(Array.from(s).length<2)throw n();return a})(zs),I4=((n,e,t,s)=>class NA{constructor(i,o){const a=e(i),c=(n=>{const{imag:e,real:t}=n;return te(I({},n),void 0===e?void 0===t?{imag:[0,0],real:[0,0]}:{imag:Array.from(t,()=>0),real:t}:void 0===t?{imag:e,real:Array.from(e,()=>0)}:{imag:e,real:t})})(I(I({},d8),o)),u=n(a,c);return t.add(u),u}static[Symbol.hasInstance](i){return null!==i&&"object"==typeof i&&Object.getPrototypeOf(i)===NA.prototype||t.has(i)}})(A4,Xe,new WeakSet),M4=((n,e,t,s,r,i)=>{const o=16385,a=new Float32Array([1,1]),c=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l=te(I({},u),{oversample:"none"}),f=(p,g,m,_,y)=>{if(1===g)return((p,g,m,_)=>{const y=new Float32Array(o),b=new Float32Array(o);for(let S=0;S<o;S+=1){const L=S/(o-1)*c;y[S]=Math.cos(L),b[S]=Math.sin(L)}const E=t(p,te(I({},u),{gain:0})),C=s(p,te(I({},l),{curve:y})),D=s(p,te(I({},l),{curve:a})),v=t(p,te(I({},u),{gain:0})),w=s(p,te(I({},l),{curve:b}));return{connectGraph(){g.connect(E),g.connect(void 0===D.inputs?D:D.inputs[0]),g.connect(v),D.connect(m),m.connect(void 0===C.inputs?C:C.inputs[0]),m.connect(void 0===w.inputs?w:w.inputs[0]),C.connect(E.gain),w.connect(v.gain),E.connect(_,0,0),v.connect(_,0,1)},disconnectGraph(){g.disconnect(E),g.disconnect(void 0===D.inputs?D:D.inputs[0]),g.disconnect(v),D.disconnect(m),m.disconnect(void 0===C.inputs?C:C.inputs[0]),m.disconnect(void 0===w.inputs?w:w.inputs[0]),C.disconnect(E.gain),w.disconnect(v.gain),E.disconnect(_,0,0),v.disconnect(_,0,1)}}})(p,m,_,y);if(2===g)return((p,g,m,_)=>{const y=new Float32Array(o),b=new Float32Array(o),E=new Float32Array(o),C=new Float32Array(o),D=Math.floor(o/2);for(let $=0;$<o;$+=1)if($>D){const re=($-D)/(o-1-D)*c;y[$]=Math.cos(re),b[$]=Math.sin(re),E[$]=0,C[$]=1}else{const re=$/(o-1-D)*c;y[$]=1,b[$]=0,E[$]=Math.cos(re),C[$]=Math.sin(re)}const v=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),w=t(p,te(I({},u),{gain:0})),S=s(p,te(I({},l),{curve:y})),L=t(p,te(I({},u),{gain:0})),O=s(p,te(I({},l),{curve:b})),T=s(p,te(I({},l),{curve:a})),q=t(p,te(I({},u),{gain:0})),A=s(p,te(I({},l),{curve:E})),R=t(p,te(I({},u),{gain:0})),V=s(p,te(I({},l),{curve:C}));return{connectGraph(){g.connect(v),g.connect(void 0===T.inputs?T:T.inputs[0]),v.connect(w,0),v.connect(L,0),v.connect(q,1),v.connect(R,1),T.connect(m),m.connect(void 0===S.inputs?S:S.inputs[0]),m.connect(void 0===O.inputs?O:O.inputs[0]),m.connect(void 0===A.inputs?A:A.inputs[0]),m.connect(void 0===V.inputs?V:V.inputs[0]),S.connect(w.gain),O.connect(L.gain),A.connect(q.gain),V.connect(R.gain),w.connect(_,0,0),q.connect(_,0,0),L.connect(_,0,1),R.connect(_,0,1)},disconnectGraph(){g.disconnect(v),g.disconnect(void 0===T.inputs?T:T.inputs[0]),v.disconnect(w,0),v.disconnect(L,0),v.disconnect(q,1),v.disconnect(R,1),T.disconnect(m),m.disconnect(void 0===S.inputs?S:S.inputs[0]),m.disconnect(void 0===O.inputs?O:O.inputs[0]),m.disconnect(void 0===A.inputs?A:A.inputs[0]),m.disconnect(void 0===V.inputs?V:V.inputs[0]),S.disconnect(w.gain),O.disconnect(L.gain),A.disconnect(q.gain),V.disconnect(R.gain),w.disconnect(_,0,0),q.disconnect(_,0,0),L.disconnect(_,0,1),R.disconnect(_,0,1)}}})(p,m,_,y);throw r()};return(p,b)=>{var E=b,{channelCount:g,channelCountMode:m,pan:_}=E,y=Mu(E,["channelCount","channelCountMode","pan"]);if("max"===m)throw r();const C=n(p,te(I({},y),{channelCount:1,channelCountMode:m,numberOfInputs:2})),D=t(p,te(I({},y),{channelCount:g,channelCountMode:m,gain:1})),v=t(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:_});let{connectGraph:w,disconnectGraph:S}=f(p,g,D,v,C);Object.defineProperty(v.gain,"defaultValue",{get:()=>0}),Object.defineProperty(v.gain,"maxValue",{get:()=>1}),Object.defineProperty(v.gain,"minValue",{get:()=>-1});const L={get bufferSize(){},get channelCount(){return D.channelCount},set channelCount(A){D.channelCount!==A&&(O&&S(),({connectGraph:w,disconnectGraph:S}=f(p,A,D,v,C)),O&&w()),D.channelCount=A},get channelCountMode(){return D.channelCountMode},set channelCountMode(A){if("clamped-max"===A||"max"===A)throw r();D.channelCountMode=A},get channelInterpretation(){return D.channelInterpretation},set channelInterpretation(A){D.channelInterpretation=A},get context(){return D.context},get inputs(){return[D]},get numberOfInputs(){return D.numberOfInputs},get numberOfOutputs(){return D.numberOfOutputs},get pan(){return v.gain},addEventListener:(...A)=>D.addEventListener(A[0],A[1],A[2]),dispatchEvent:(...A)=>D.dispatchEvent(A[0]),removeEventListener:(...A)=>D.removeEventListener(A[0],A[1],A[2])};let O=!1;return i(pa(L,C),()=>{w(),O=!0},()=>{S(),O=!1})}})(Gr,iu,bn,nd,tn,zr),wS=((n,e)=>(t,s)=>{const r=s.channelCountMode;if("clamped-max"===r)throw e();if(void 0===t.createStereoPanner)return n(t,s);const i=t.createStereoPanner();return Ft(i,s),ft(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:o=>{if(o!==r)throw e()}}),i})(M4,tn),O4=((n,e,t,s,r)=>()=>{const i=new WeakMap,o=function(){var a=se(function*(c,u){let l=t(c);const h=en(l,u);return h||(l=e(u,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value})),i.set(u,l),h?yield n(u,c.pan,l.pan):yield s(u,c.pan,l.pan),fa(l)?yield r(c,u,l.inputs[0]):yield r(c,u,l),l});return function(u,l){return a.apply(this,arguments)}}();return{render(a,c){const u=i.get(c);return void 0!==u?Promise.resolve(u):o(a,c)}}})(Gs,wS,et,Qs,Wt),R4=((n,e,t,s,r,i)=>class extends n{constructor(a,c){const u=r(a),l=I(I({},w8),c),h=t(u,l),d=i(u);super(a,!1,h,d?s():null),this._pan=e(this,d,h.pan)}get pan(){return this._pan}})(vt,Ss,wS,O4,Xe,$e),N4=((n,e,t)=>()=>{const s=new WeakMap,r=function(){var i=se(function*(o,a){let c=e(o);return en(c,a)||(c=n(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample})),s.set(a,c),fa(c)?yield t(o,a,c.inputs[0]):yield t(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=s.get(o);return void 0!==a?Promise.resolve(a):r(i,o)}}})(nd,et,Wt),k4=((n,e,t,s,r,i,o)=>class extends n{constructor(c,u){const l=r(c),h=I(I({},S8),u),d=t(l,h);super(c,!0,d,i(l)?s():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(null===c)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}})(vt,St,nd,N4,Xe,$e,Li),CS=(n=>null!==n&&n.isSecureContext)(xs),c_=(n=>(e,t,s)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get:()=>Math.round(e*t)},currentTime:{configurable:!0,get:()=>e}});try{return s()}finally{null!==n&&(delete n.currentFrame,delete n.currentTime)}})(xs),DS=new WeakMap,F4=((n,e)=>t=>{let s=n.get(t);if(void 0!==s)return s;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),n.set(t,s),s})(DS,qt),P4=CS?((n,e,t,s,r,i,o,a,c,u,l,h,d)=>{let f=0;return(p,g,m={credentials:"omit"})=>{const _=l.get(p);if(void 0!==_&&_.has(g))return Promise.resolve();const y=u.get(p);if(void 0!==y){const C=y.get(g);if(void 0!==C)return C}const b=i(p),E=void 0===b.audioWorklet?r(g).then(([C,D])=>{const[v,w]=kx(C,D);return t(`${v};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${w}\n})})(window,'_AWGS')`)}).then(()=>{const C=d._AWGS.pop();if(void 0===C)throw new SyntaxError;s(b.currentTime,b.sampleRate,()=>C(class{},void 0,(D,v)=>{if(""===D.trim())throw e();const w=Hm.get(b);if(void 0!==w){if(w.has(D))throw e();Px(v),Fx(v.parameterDescriptors),w.set(D,v)}else Px(v),Fx(v.parameterDescriptors),Hm.set(b,new Map([[D,v]]))},b.sampleRate,void 0,void 0))}):Promise.all([r(g),Promise.resolve(n(h,h))]).then(([[C,D],v])=>{const w=f+1;f=w;const[S,L]=kx(C,D),R=new Blob([`${S};((AudioWorkletProcessor,registerProcessor)=>{${L}\n})(${v?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${v?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${v?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${w}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),V=URL.createObjectURL(R);return b.audioWorklet.addModule(V,m).then(()=>{if(a(b))return b;const $=o(b);return $.audioWorklet.addModule(V,m).then(()=>$)}).then($=>{if(null===c)throw new SyntaxError;try{new c($,`__sac${w}`)}catch(re){throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(V))});return void 0===y?u.set(p,new Map([[g,E]])):y.set(g,E),E.then(()=>{const C=l.get(p);void 0===C?l.set(p,new Set([g])):C.add(g)}).finally(()=>{const C=u.get(p);void 0!==C&&C.delete(g)}),E}})(Ln,tn,(n=>e=>new Promise((t,s)=>{if(null===n)return void s(new SyntaxError);const r=n.document.head;if(null===r)s(new SyntaxError);else{const i=n.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),c=n.onerror,u=()=>{n.onerror=c,URL.revokeObjectURL(a)};n.onerror=(l,h,d,f,p)=>h===a||h===n.location.href&&1===d&&1===f?(u(),s(p),!1):null!==c?c(l,h,d,f,p):void 0,i.onerror=()=>{u(),s(new SyntaxError)},i.onload=()=>{u(),t()},i.src=a,i.type="module",r.appendChild(i)}}))(xs),c_,function(){var e=se(function*(t){try{const s=yield fetch(t);if(s.ok)return[yield s.text(),s.url]}catch(s){}throw new DOMException("","AbortError")});return function(t){return e.apply(this,arguments)}}(),Xe,F4,$e,ma,new WeakMap,new WeakMap,((n,e)=>se(function*(){if(null===n)return!0;if(null===e)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),r=URL.createObjectURL(t);let i=!1,o=!1;try{yield s.audioWorklet.addModule(r);const a=new n(s,"a",{numberOfOutputs:0}),c=s.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,c.connect(a),c.start(0),yield s.startRendering(),yield new Promise(u=>setTimeout(u))}catch(a){}finally{URL.revokeObjectURL(r)}return i&&!o}))(ma,qt),xs):void 0,L4=((n,e)=>t=>n(t)||e(t))(n_,$e),V4=((n,e,t,s,r,i,o,a,c,u,l)=>(h,d)=>{const f=o(h)?h:i(h);if(r.has(d)){const p=new DOMException("","DataCloneError");return Promise.reject(p)}try{r.add(d)}catch(p){}return e(c,()=>c(f))?f.decodeAudioData(d).then(p=>(Qx(d).catch(()=>{}),e(a,()=>a(p))||l(p),n.add(p),p)):new Promise((p,g)=>{const m=function(){var y=se(function*(){try{yield Qx(d)}catch(b){}});return function(){return y.apply(this,arguments)}}(),_=y=>{g(y),m()};try{f.decodeAudioData(d,y=>{"function"!=typeof y.copyFromChannel&&(u(y),zm(y)),n.add(y),m().then(()=>p(y))},y=>{_(null===y?new DOMException("","EncodingError"):y)})}catch(y){_(y)}})})(r_,Ln,0,0,new WeakSet,Xe,L4,Hh,Pi,i_,o_),ES=((n,e,t,s,r,i,o,a,c,u,l,h,d,f,p,g,m,_,y,b)=>class extends p{constructor(C,D){super(C,D),this._nativeContext=C,this._audioWorklet=void 0===n?void 0:{addModule:(v,w)=>n(this,v,w)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(C,D,v){return new t({length:D,numberOfChannels:C,sampleRate:v})}createBufferSource(){return new s(this)}createChannelMerger(C=6){return new i(this,{numberOfInputs:C})}createChannelSplitter(C=6){return new o(this,{numberOfOutputs:C})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(C=1){return new l(this,{maxDelayTime:C})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(C,D){return new f(this,{feedback:D,feedforward:C})}createOscillator(){return new g(this)}createPanner(){return new m(this)}createPeriodicWave(C,D,v={disableNormalization:!1}){return new _(this,te(I({},v),{imag:D,real:C}))}createStereoPanner(){return new y(this)}createWaveShaper(){return new b(this)}decodeAudioData(C,D,v){return u(this._nativeContext,C).then(w=>("function"==typeof D&&D(w),w),w=>{throw"function"==typeof v&&v(w),w})}})(P4,Q8,Y8,K8,e4,s4,i4,c4,l4,V4,d4,p4,m4,b4,a_,D4,S4,I4,R4,k4),j4=((n,e,t,s)=>class extends n{constructor(i,o){const a=t(i),c=((n,e)=>n.createMediaElementSource(e.mediaElement))(a,o);if(s(a))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(vt,0,Xe,$e),B4=((n,e,t,s)=>class extends n{constructor(i,o){const a=t(i);if(s(a))throw new TypeError;const u=((n,e)=>{const t=n.createMediaStreamDestination();return Ft(t,e),1===t.numberOfOutputs&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t})(a,I(I({},d$),o));super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(vt,0,Xe,$e),q4=((n,e,t,s)=>class extends n{constructor(i,o){const a=t(i),c=((n,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const s=t.slice(0,1),r=n.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r})(a,o);if(s(a))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(vt,0,Xe,$e),U4=((n,e)=>(t,{mediaStreamTrack:s})=>{if("function"==typeof t.createMediaStreamTrackSource)return t.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=t.createMediaStreamSource(r);if("audio"!==s.kind)throw n();if(e(t))throw new TypeError;return i})(St,$e),H4=((n,e,t)=>class extends n{constructor(r,i){const o=t(r);super(r,!0,e(o,i),null)}})(vt,U4,Xe),$4=((n,e,t,s,r,i,o,a,c)=>class extends n{constructor(l={}){if(null===c)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new c(l)}catch(p){throw 12===p.code&&"sampleRate is not in range"===p.message?t():p}if(null===h)throw s();if(!(n=>void 0===n||"number"==typeof n||"string"==typeof n&&("balanced"===n||"interactive"===n||"playback"===n))(l.latencyHint))throw new TypeError(`The provided value '${l.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==l.sampleRate&&h.sampleRate!==l.sampleRate)throw t();super(h,2);const{latencyHint:d}=l,{sampleRate:f}=h;if(this._baseLatency="number"==typeof h.baseLatency?h.baseLatency:"balanced"===d?512/f:"interactive"===d||void 0===d?256/f:"playback"===d?1024/f:128*Math.max(2,Math.min(128,Math.round(d*f/128)))/f,this._nativeAudioContext=h,"webkitAudioContext"===c.name?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===h.state){this._state="suspended";const p=()=>{"suspended"===this._state&&(this._state=null),h.removeEventListener("statechange",p)};h.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw e()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),$h(this)}))}createMediaElementSource(l){return new r(this,{mediaElement:l})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(l){return new o(this,{mediaStream:l})}createMediaStreamTrackSource(l){return new a(this,{mediaStreamTrack:l})}resume(){return"suspended"===this._state?new Promise((l,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),"running"===this._nativeAudioContext.state?l():this.resume().then(l,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(l=>{throw void 0===l||15===l.code?e():l})}suspend(){return this._nativeAudioContext.suspend().catch(l=>{throw void 0===l?e():l})}})(ES,St,tn,tS,j4,B4,q4,H4,mr),u_=(n=>e=>{const t=n.get(e);if(void 0===t)throw new Error("The context has no set of AudioWorkletNodes.");return t})(_S),W4=(n=>(e,t)=>{n(e).add(t)})(u_),TS=(n=>(e,t,s=0,r=0)=>{const i=e[s];if(void 0===i)throw n();return Yh(t)?i.connect(t,0,r):i.connect(t,0)})(zs),z4=(n=>(e,t)=>{n(e).delete(t)})(u_),xS=(n=>(e,t,s,r=0)=>void 0===t?e.forEach(i=>i.disconnect()):"number"==typeof t?Xh(n,e,t).disconnect():Yh(t)?void 0===s?e.forEach(i=>i.disconnect(t)):void 0===r?Xh(n,e,s).disconnect(t,0):Xh(n,e,s).disconnect(t,0,r):void 0===s?e.forEach(i=>i.disconnect(t)):Xh(n,e,s).disconnect(t,0))(zs),SS=new WeakMap,G4=((n,e)=>t=>e(n,t))(SS,Ts),Q4=((n,e,t,s,r,i,o,a,c,u,l,h,d)=>(f,p,g,m)=>{if(0===m.numberOfInputs&&0===m.numberOfOutputs)throw c();const _=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(_.some(B=>B<1))throw c();if(_.length!==m.numberOfOutputs)throw e();if("explicit"!==m.channelCountMode)throw c();const y=m.channelCount*m.numberOfInputs,b=_.reduce((B,ie)=>B+ie,0),E=void 0===g.parameterDescriptors?0:g.parameterDescriptors.length;if(y+E>6||b>6)throw c();const C=new MessageChannel,D=[],v=[];for(let B=0;B<m.numberOfInputs;B+=1)D.push(o(f,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),v.push(r(f,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));const w=[];if(void 0!==g.parameterDescriptors)for(const{defaultValue:B,maxValue:ie,minValue:Lt,name:ut}of g.parameterDescriptors){const Ve=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==m.parameterData[ut]?m.parameterData[ut]:void 0===B?0:B});Object.defineProperties(Ve.offset,{defaultValue:{get:()=>void 0===B?0:B},maxValue:{get:()=>void 0===ie?hn:ie},minValue:{get:()=>void 0===Lt?vn:Lt}}),w.push(Ve)}const S=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+E)}),L=Kx(p,f.sampleRate),O=a(f,L,y+E,Math.max(1,b)),T=r(f,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),q=[];for(let B=0;B<m.numberOfOutputs;B+=1)q.push(s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:_[B]}));for(let B=0;B<m.numberOfInputs;B+=1){D[B].connect(v[B]);for(let ie=0;ie<m.channelCount;ie+=1)v[B].connect(S,ie,B*m.channelCount+ie)}const A=new zx(void 0===g.parameterDescriptors?[]:g.parameterDescriptors.map(({name:B},ie)=>{const Lt=w[ie];return Lt.connect(S,0,y+ie),Lt.start(0),[B,Lt.offset]}));S.connect(O);let R=m.channelInterpretation,V=null;const $=0===m.numberOfOutputs?[O]:q,re={get bufferSize(){return L},get channelCount(){return m.channelCount},set channelCount(B){throw t()},get channelCountMode(){return m.channelCountMode},set channelCountMode(B){throw t()},get channelInterpretation(){return R},set channelInterpretation(B){for(const ie of D)ie.channelInterpretation=B;R=B},get context(){return O.context},get inputs(){return D},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get onprocessorerror(){return V},set onprocessorerror(B){"function"==typeof V&&re.removeEventListener("processorerror",V),V="function"==typeof B?B:null,"function"==typeof V&&re.addEventListener("processorerror",V)},get parameters(){return A},get port(){return C.port2},addEventListener:(...B)=>O.addEventListener(B[0],B[1],B[2]),connect:n.bind(null,$),disconnect:u.bind(null,$),dispatchEvent:(...B)=>O.dispatchEvent(B[0]),removeEventListener:(...B)=>O.removeEventListener(B[0],B[1],B[2])},X=new Map;var B;C.port1.addEventListener=(B=C.port1.addEventListener,(...ie)=>{if("message"===ie[0]){const Lt="function"==typeof ie[1]?ie[1]:"object"==typeof ie[1]&&null!==ie[1]&&"function"==typeof ie[1].handleEvent?ie[1].handleEvent:null;if(null!==Lt){const ut=X.get(ie[1]);void 0!==ut?ie[1]=ut:(ie[1]=Ve=>{l(f.currentTime,f.sampleRate,()=>Lt(Ve))},X.set(Lt,ie[1]))}}return B.call(C.port1,ie[0],ie[1],ie[2])}),C.port1.removeEventListener=(B=>(...ie)=>{if("message"===ie[0]){const Lt=X.get(ie[1]);void 0!==Lt&&(X.delete(ie[1]),ie[1]=Lt)}return B.call(C.port1,ie[0],ie[1],ie[2])})(C.port1.removeEventListener);let pe=null;Object.defineProperty(C.port1,"onmessage",{get:()=>pe,set:B=>{"function"==typeof pe&&C.port1.removeEventListener("message",pe),pe="function"==typeof B?B:null,"function"==typeof pe&&(C.port1.addEventListener("message",pe),C.port1.start())}}),g.prototype.port=C.port1;let Fe=null;((n,e,t,s)=>{let r=$m.get(n);void 0===r&&(r=new WeakMap,$m.set(n,r));const i=R$(t,s);return r.set(e,i),i})(f,re,g,m).then(B=>Fe=B);const Ye=Kh(m.numberOfInputs,m.channelCount),pn=Kh(m.numberOfOutputs,_),Bn=void 0===g.parameterDescriptors?[]:g.parameterDescriptors.reduce((B,{name:ie})=>te(I({},B),{[ie]:new Float32Array(128)}),{});let Cn=!0;const Ae=()=>{m.numberOfOutputs>0&&O.disconnect(T);for(let B=0,ie=0;B<m.numberOfOutputs;B+=1){const Lt=q[B];for(let ut=0;ut<_[B];ut+=1)T.disconnect(Lt,ie+ut,ut);ie+=_[B]}},gt=new Map;O.onaudioprocess=({inputBuffer:B,outputBuffer:ie})=>{if(null!==Fe){const Lt=h(re);for(let ut=0;ut<L;ut+=128){for(let Ve=0;Ve<m.numberOfInputs;Ve+=1)for(let mt=0;mt<m.channelCount;mt+=1)Zh(B,Ye[Ve],mt,mt,ut);void 0!==g.parameterDescriptors&&g.parameterDescriptors.forEach(({name:Ve},mt)=>{Zh(B,Bn,Ve,y+mt,ut)});for(let Ve=0;Ve<m.numberOfInputs;Ve+=1)for(let mt=0;mt<_[Ve];mt+=1)0===pn[Ve][mt].byteLength&&(pn[Ve][mt]=new Float32Array(128));try{const Ve=Ye.map((is,Xr)=>{if(Lt[Xr].size>0)return gt.set(Xr,L/128),is;const nv=gt.get(Xr);return void 0===nv?[]:(is.every(Yz=>Yz.every(Zz=>0===Zz))&&(1===nv?gt.delete(Xr):gt.set(Xr,nv-1)),is)});Cn=l(f.currentTime+ut/f.sampleRate,f.sampleRate,()=>Fe.process(Ve,pn,Bn));for(let is=0,Xr=0;is<m.numberOfOutputs;is+=1){for(let Iu=0;Iu<_[is];Iu+=1)Gx(ie,pn[is],Iu,Xr+Iu,ut);Xr+=_[is]}}catch(Ve){Cn=!1,re.dispatchEvent(new ErrorEvent("processorerror",{colno:Ve.colno,filename:Ve.filename,lineno:Ve.lineno,message:Ve.message}))}if(!Cn){for(let Ve=0;Ve<m.numberOfInputs;Ve+=1){D[Ve].disconnect(v[Ve]);for(let mt=0;mt<m.channelCount;mt+=1)v[ut].disconnect(S,mt,Ve*m.channelCount+mt)}if(void 0!==g.parameterDescriptors){const Ve=g.parameterDescriptors.length;for(let mt=0;mt<Ve;mt+=1){const is=w[mt];is.disconnect(S,0,y+mt),is.stop()}}S.disconnect(O),O.onaudioprocess=null,zt?Ae():Oa();break}}}};let zt=!1;const G=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ma=()=>O.connect(G).connect(f.destination),Oa=()=>{O.disconnect(G),G.disconnect()};return Ma(),d(re,()=>{if(Cn){Oa(),m.numberOfOutputs>0&&O.connect(T);for(let B=0,ie=0;B<m.numberOfOutputs;B+=1){const Lt=q[B];for(let ut=0;ut<_[B];ut+=1)T.connect(Lt,ie+ut,ut);ie+=_[B]}}zt=!0},()=>{Cn&&(Ma(),Ae()),zt=!1})})(TS,zs,St,Gr,iu,ya,bn,ou,tn,xS,c_,G4,zr),Y4=((n,e,t,s,r)=>(i,o,a,c,u,l)=>{if(null!==a)try{const h=new a(i,c,l),d=new Map;let f=null;if(Object.defineProperties(h,{channelCount:{get:()=>l.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>f,set:p=>{"function"==typeof f&&h.removeEventListener("processorerror",f),f="function"==typeof p?p:null,"function"==typeof f&&h.addEventListener("processorerror",f)}}}),h.addEventListener=(p=h.addEventListener,(...g)=>{if("processorerror"===g[0]){const m="function"==typeof g[1]?g[1]:"object"==typeof g[1]&&null!==g[1]&&"function"==typeof g[1].handleEvent?g[1].handleEvent:null;if(null!==m){const _=d.get(g[1]);void 0!==_?g[1]=_:(g[1]=y=>{"error"===y.type?(Object.defineProperties(y,{type:{value:"processorerror"}}),m(y)):m(new ErrorEvent(g[0],I({},y)))},d.set(m,g[1]))}}return p.call(h,"error",g[1],g[2]),p.call(h,...g)}),h.removeEventListener=(p=>(...g)=>{if("processorerror"===g[0]){const m=d.get(g[1]);void 0!==m&&(d.delete(g[1]),g[1]=m)}return p.call(h,"error",g[1],g[2]),p.call(h,g[0],g[1],g[2])})(h.removeEventListener),0!==l.numberOfOutputs){const p=t(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(p).connect(i.destination),r(h,()=>p.disconnect(),()=>p.connect(i.destination))}return h}catch(h){throw 11===h.code?s():h}var p;if(void 0===u)throw s();return(n=>{const{port1:e}=new MessageChannel;try{e.postMessage(n)}finally{e.close()}})(l),e(i,o,u,l)})(St,Q4,bn,tn,zr),Z4=((n,e,t,s,r,i,o,a,c,u,l,h,d,f,p,g)=>(m,_,y)=>{const b=new WeakMap;let E=null;const C=function(){var D=se(function*(v,w){let S=l(v),L=null;const O=en(S,w),T=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(null===h){const q=T.reduce(($,re)=>$+re,0),A=r(w,{channelCount:Math.max(1,q),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,q)}),R=[];for(let $=0;$<v.numberOfOutputs;$+=1)R.push(s(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[$]}));const V=o(w,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1});V.connect=e.bind(null,R),V.disconnect=c.bind(null,R),L=[A,R,V]}else O||(S=new h(w,m));if(b.set(w,null===L?S:L[2]),null!==L){if(null===E){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const re=v.channelCount*v.numberOfInputs,X=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,pe=re+X;E=Y3(v,0===pe?null:yield function(){var rt=se(function*(){const Ye=new d(pe,128*Math.ceil(v.context.length/128),w.sampleRate),pn=[],Bn=[];for(let gt=0;gt<_.numberOfInputs;gt+=1)pn.push(o(Ye,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),Bn.push(r(Ye,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const Cn=yield Promise.all(Array.from(v.parameters.values()).map(function(){var gt=se(function*(zt){const G=i(Ye,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:zt.value});return yield f(Ye,zt,G.offset),G});return function(zt){return gt.apply(this,arguments)}}())),Ae=s(Ye,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,re+X)});for(let gt=0;gt<_.numberOfInputs;gt+=1){pn[gt].connect(Bn[gt]);for(let zt=0;zt<_.channelCount;zt+=1)Bn[gt].connect(Ae,zt,gt*_.channelCount+zt)}for(const[gt,zt]of Cn.entries())zt.connect(Ae,0,re+gt),zt.start(0);return Ae.connect(Ye.destination),yield Promise.all(pn.map(gt=>p(v,Ye,gt))),g(Ye)});return function(){return rt.apply(this,arguments)}}()(),w,_,T,y,u)}const q=yield E,A=t(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[R,V,$]=L;null!==q&&(A.buffer=q,A.start(0)),A.connect(R);for(let re=0,X=0;re<v.numberOfOutputs;re+=1){const pe=V[re];for(let Fe=0;Fe<T[re];Fe+=1)R.connect(pe,X+Fe,Fe);X+=T[re]}return $}if(O)for(const[q,A]of v.parameters.entries())yield n(w,A,S.parameters.get(q));else for(const[q,A]of v.parameters.entries())yield f(w,A,S.parameters.get(q));return yield p(v,w,S),S});return function(w,S){return D.apply(this,arguments)}}();return{render(D,v){a(v,D);const w=b.get(v);return void 0!==w?Promise.resolve(w):C(D,v)}}})(Gs,TS,_a,Gr,iu,ya,bn,z4,xS,c_,et,ma,qt,Qs,Wt,td),K4=(n=>e=>n.get(e))(DS),X4=(n=>(e,t)=>{n.set(e,t)})(SS),AS=CS?((n,e,t,s,r,i,o,a,c,u,l,h,d,f)=>class extends e{constructor(g,m,_){var y;const b=a(g),E=c(b),C=(n=>te(I({},n),{outputChannelCount:void 0!==n.outputChannelCount?n.outputChannelCount:1===n.numberOfInputs&&1===n.numberOfOutputs?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}))(I(I({},z3),_));(n=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(n)}finally{e.close(),t.close()}})(C);const D=Hm.get(b),v=null==D?void 0:D.get(m),w=E||"closed"!==b.state?b:null!==(y=o(b))&&void 0!==y?y:b,S=r(w,E?null:g.baseLatency,u,m,v,C);super(g,!0,S,E?s(m,C,v):null);const O=[];S.parameters.forEach((q,A)=>{const R=t(this,E,q);O.push([A,R])}),this._nativeAudioWorkletNode=S,this._onprocessorerror=null,this._parameters=new zx(O),E&&n(b,this);const{activeInputs:T}=i(this);h(S,T)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(g){const m="function"==typeof g?f(this,g):null;this._nativeAudioWorkletNode.onprocessorerror=m;const _=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==_&&_===m?g:_}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(W4,vt,Ss,Z4,Y4,dn,K4,Xe,$e,ma,0,X4,0,ga):void 0,IS=((n,e)=>(t,s,r)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,s,r)}catch(i){throw"SyntaxError"===i.name?n():i}})(tn,qt),MS=((n,e,t,s,r,i,o,a)=>(c,u)=>t(c).render(c,u).then(()=>Promise.all(Array.from(s(u)).map(l=>t(l).render(l,u)))).then(()=>r(u)).then(l=>("function"!=typeof l.copyFromChannel?(o(l),zm(l)):e(i,()=>i(l))||a(l),n.add(l),l)))(r_,Ln,t_,u_,td,Hh,i_,o_),J4=((n,e,t,s,r)=>class extends n{constructor(o,a,c){let u;if("number"==typeof o&&void 0!==a&&void 0!==c)u={length:a,numberOfChannels:o,sampleRate:c};else{if("object"!=typeof o)throw new Error("The given parameters are not valid.");u=o}const{length:l,numberOfChannels:h,sampleRate:d}=I(I({},r8),u),f=s(h,l,d);e(Pi,()=>Pi(f))||f.addEventListener("statechange",(()=>{let p=0;const g=m=>{"running"===this._state&&(p>0?(f.removeEventListener("statechange",g),m.stopImmediatePropagation(),this._waitForThePromiseToSettle(m)):p+=1)};return g})()),super(f,h),this._length=l,this._nativeOfflineAudioContext=f,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(t()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,$h(this)}))}_waitForThePromiseToSettle(o){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}})(ES,Ln,St,IS,MS),eW=((n,e)=>t=>{const s=n.get(t);return e(s)||e(t)})(qh,n_),tW=((n,e)=>t=>n.has(t)||e(t))(Bm,s_),nW=((n,e)=>t=>n.has(t)||e(t))(qm,hS),sW=((n,e)=>t=>{const s=n.get(t);return e(s)||e(t)})(qh,$e);function be(n,e){if(!n)throw new Error(e)}function Qr(n,e,t=1/0){if(!(e<=n&&n<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${n}`)}function OS(n){!n.isOffline&&"running"!==n.state&&RS('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let l_=console;function RS(...n){l_.warn(...n)}function es(n){return void 0===n}function Se(n){return!es(n)}function Vi(n){return"number"==typeof n}function ji(n){return"[object Object]"===Object.prototype.toString.call(n)&&n.constructor===Object}function As(n){return Array.isArray(n)}function Ys(n){return"string"==typeof n}function sd(n){return Ys(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function cW(n,e,t){return new J4(n,e,t)}const Bi="object"==typeof self?self:null,uW=Bi&&(Bi.hasOwnProperty("AudioContext")||Bi.hasOwnProperty("webkitAudioContext"));function ts(n,e,t,s){var o,r=arguments.length,i=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,s);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(r<3?o(i):r>3?o(e,t,i):o(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i}function bt(n,e,t,s){return new(t||(t=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(h){o(h)}}function c(l){try{u(s.throw(l))}catch(h){o(h)}}function u(l){l.done?i(l.value):function(i){return i instanceof t?i:new t(function(o){o(i)})}(l.value).then(a,c)}u((s=s.apply(n,e||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;class NW{constructor(e,t,s){this._callback=e,this._type=t,this._updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),t=URL.createObjectURL(e),s=new Worker(t);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(e){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*e,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function qi(n){return nW(n)}function Yr(n){return tW(n)}function rd(n){return sW(n)}function va(n){return eW(n)}function kS(n){return n instanceof AudioBuffer}function kW(n,e){return"value"===n||qi(e)||Yr(e)||kS(e)}function ba(n,...e){if(!e.length)return n;const t=e.shift();if(ji(n)&&ji(t))for(const s in t)kW(s,t[s])?n[s]=t[s]:ji(t[s])?(n[s]||Object.assign(n,{[s]:{}}),ba(n[s],t[s])):Object.assign(n,{[s]:t[s]});return ba(n,...e)}function k(n,e,t=[],s){const r={},i=Array.from(e);if(ji(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some(a=>Reflect.has(n,a))||(ba(r,{[s]:i[0]}),t.splice(t.indexOf(s),1),i.shift())),1===i.length&&ji(i[0]))ba(r,i[0]);else for(let o=0;o<t.length;o++)Se(i[o])&&(r[t[o]]=i[o]);return ba(n,r)}function wa(n,e){return es(n)?e:n}function FS(n,e){return e.forEach(t=>{Reflect.has(n,t)&&delete n[t]}),n}let Zr=(()=>{class n{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Bi&&this.toString()===Bi.TONE_DEBUG_CLASS)&&function(...n){l_.log(...n)}(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}return n.version=jm,n})();const g_=1e-6;function id(n,e){return n>e+g_}function m_(n,e){return id(n,e)||Is(n,e)}function PS(n,e){return n+g_<e}function Is(n,e){return Math.abs(n-e)<g_}class Zs extends Zr{constructor(){super(),this.name="Timeline",this._timeline=[];const e=k(Zs.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(be(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length)be(m_(e.time,this._timeline[this.length-1].time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e);else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}return this.length>this.memory&&this._timeline.splice(0,this.length-this.memory),this}remove(e){const t=this._timeline.indexOf(e);return-1!==t&&this._timeline.splice(t,1),this}get(e,t="time"){const s=this._search(e,t);return-1!==s?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const s=this._search(e,t);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Is(this._timeline[t].time,e)){for(let s=t;s>=0&&Is(this._timeline[s].time,e);s--)t=s;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else 1===this._timeline.length&&m_(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(0===this._timeline.length)return-1;let s=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][t]<=e)return r-1;for(;s<i;){let o=Math.floor(s+(i-s)/2);const a=this._timeline[o],c=this._timeline[o+1];if(Is(a[t],e)){for(let u=o;u<this._timeline.length&&Is(this._timeline[u][t],e);u++)o=u;return o}if(PS(a[t],e)&&id(c[t],e))return o;id(a[t],e)?i=o:s=o+1}return-1}_iterate(e,t=0,s=this._timeline.length-1){this._timeline.slice(t,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const s=this._search(e);return-1!==s&&this._iterate(t,0,s),this}forEachAfter(e,t){const s=this._search(e);return this._iterate(t,s+1),this}forEachBetween(e,t,s){let r=this._search(e),i=this._search(t);return-1!==r&&-1!==i?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===t&&(i-=1),this._iterate(s,r,i)):-1===r&&this._iterate(s,0,i),this}forEachFrom(e,t){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(t,s+1),this}forEachAtTime(e,t){const s=this._search(e);if(-1!==s&&Is(this._timeline[s].time,e)){let r=s;for(let i=s;i>=0&&Is(this._timeline[i].time,e);i--)r=i;this._iterate(i=>{t(i)},r,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const LS=[];function od(n){LS.push(n)}const VS=[];function ad(n){VS.push(n)}class uu extends Zr{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(r=>{es(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(t)}),this}once(e,t){const s=(...r)=>{t(...r),this.off(e,s)};return this.on(e,s),this}off(e,t){return e.split(/\W+/).forEach(r=>{if(es(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(es(t))this._events[e]=[];else{const i=this._events[e];for(let o=i.length-1;o>=0;o--)i[o]===t&&i.splice(o,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let r=0,i=s.length;r<i;r++)s[r].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const s=Object.getOwnPropertyDescriptor(uu.prototype,t);Object.defineProperty(e.prototype,t,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class jS extends uu{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class lu extends jS{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Zs,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=k(lu.getDefaults(),arguments,["context"]);this._context=e.context?e.context:function(n){return new $4(n)}({latencyHint:e.latencyHint}),this._ticker=new NW(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(function(n){LS.forEach(e=>e(n))}(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,s){return this._context.createBuffer(e,t,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,s){return this._context.createPeriodicWave(e,t,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return be(va(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return be(va(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return be(va(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){be(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){be(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){be(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){be(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return function(n,e,t){return be(Se(AS),"This node only works in a secure context (https or localhost)"),new AS(n,e,t)}(this.rawContext,e,t)}addAudioWorkletModule(e,t){return bt(this,void 0,void 0,function*(){be(Se(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(t)||this._workletModules.set(t,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(t)})}workletsAreReady(){return bt(this,void 0,void 0,function*(){const e=[];this._workletModules.forEach(t=>e.push(t)),yield Promise.all(e)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let t=0;if(this._latencyHint=e,Ys(e))switch(e){case"interactive":t=.1;break;case"playback":t=.5;break;case"balanced":t=.25}this.lookAhead=t,this.updateInterval=t/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return va(this._context)?this._context.resume():Promise.resolve()}close(){return bt(this,void 0,void 0,function*(){va(this._context)&&(yield this._context.close()),this._initialized&&function(n){VS.forEach(e=>e(n))}(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),s=t.getChannelData(0);for(let i=0;i<s.length;i++)s[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=t,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const s=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:s,time:i+t})};return r(),s}}function pt(n,e){As(e)?e.forEach(t=>pt(n,t)):Object.defineProperty(n,e,{enumerable:!0,writable:!1})}function BS(n,e){As(e)?e.forEach(t=>BS(n,t)):Object.defineProperty(n,e,{writable:!0})}const Ge=()=>{};let _r=(()=>{class n extends Zr{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ge;const t=k(n.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&kS(t.url)||t.url instanceof n?this.set(t.url):Ys(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:Ge,onload:Ge,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:ns().sampleRate}set(t){return t instanceof n?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return bt(this,void 0,void 0,function*(){const s=n.load(t).then(r=>{this.set(r),this.onload(this)});n.downloads.push(s);try{yield s}finally{const r=n.downloads.indexOf(s);n.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const s=As(t)&&t[0].length>0,r=s?t.length:1,i=s?t[0].length:t.length,o=ns(),a=o.createBuffer(r,i,o.sampleRate),c=s||1!==r?t:[t];for(let u=0;u<r;u++)a.copyToChannel(c[u],u);return this._buffer=a,this}toMono(t){if(Vi(t))this.fromArray(this.toArray(t));else{let s=new Float32Array(this.length);const r=this.numberOfChannels;for(let i=0;i<r;i++){const o=this.toArray(i);for(let a=0;a<o.length;a++)s[a]+=o[a]}s=s.map(i=>i/r),this.fromArray(s)}return this}toArray(t){if(Vi(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const s=[];for(let r=0;r<this.numberOfChannels;r++)s[r]=this.getChannelData(r);return s}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,s=this.duration){const r=Math.floor(t*this.sampleRate),i=Math.floor(s*this.sampleRate);be(r<i,"The start time must be less than the end time");const o=i-r,a=ns().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)a.copyToChannel(this.getChannelData(c).subarray(r,i),c);return new n(a)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new n).fromArray(t)}static fromUrl(t){return bt(this,void 0,void 0,function*(){return yield(new n).load(t)})}static load(t){return bt(this,void 0,void 0,function*(){const s=t.match(/\[([^\]\[]+\|.+)\]$/);if(s){const c=s[1].split("|");let u=c[0];for(const l of c)if(n.supportsType(l)){u=l;break}t=t.replace(s[0],u)}const r=""===n.baseUrl||n.baseUrl.endsWith("/")?n.baseUrl:n.baseUrl+"/",i=yield fetch(r+t);if(!i.ok)throw new Error(`could not load url: ${t}`);const o=yield i.arrayBuffer();return yield ns().decodeAudioData(o)})}static supportsType(t){const s=t.split("."),r=s[s.length-1];return""!==document.createElement("audio").canPlayType("audio/"+r)}static loaded(){return bt(this,void 0,void 0,function*(){for(yield Promise.resolve();n.downloads.length;)yield n.downloads[0]})}}return n.baseUrl="",n.downloads=[],n})();class __ extends lu{constructor(){super({clockSource:"offline",context:rd(arguments[0])?arguments[0]:cW(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:rd(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=rd(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return bt(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const s=Math.floor(this.sampleRate/128);e&&t%s==0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(e=!0){return bt(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new _r(t)})}close(){return Promise.resolve()}}const qS=new class extends jS{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e,t){return bt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};let Ca=qS;function ns(){return Ca===qS&&uW&&function(n){Ca=va(n)?new lu(n):rd(n)?new __(n):n}(new lu),Ca}if(Bi&&!Bi.TONE_SILENCE_LOGGING){console.log(`%c * Tone.js ${"v"}${jm} * `,"background: #000; color: #fff")}function US(n){return Math.pow(2,n/12)}let cd=440;function y_(n){return Math.round(HS(n))}function HS(n){return 69+12*Math.log2(n/cd)}class v_ extends Zr{constructor(e,t,s){super(),this.defaultUnits="s",this._val=t,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const s=parseInt(e,10),r="."===t?1.5:1;return 1===s?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/s)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(3*Math.floor(t)))},regexp:/^(\d+)t$/i},tr:{method:(e,t,s)=>{let r=0;return e&&"0"!==e&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(r+=this._beatsToUnits(parseFloat(t))),s&&"0"!==s&&(r+=this._beatsToUnits(parseFloat(s)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof v_&&this.fromType(this._val),es(this._val))return this._noArg();if(Ys(this._val)&&es(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(ji(this._val)){let e=0;for(const t in this._val)if(Se(this._val[t])){const s=this._val[t];e+=new this.constructor(this.context,t).valueOf()*s}return e}if(Se(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}return Ys(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class ss extends v_{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new ss(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const s=new this.constructor(this.context,e).valueOf(),r=this.valueOf();return r+(Math.round(r/s)*s-r)*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);t.push(o+"n."),t.push(o+"n"),t.push(o+"t")}t.push("0");let s=t[0],r=new ss(this.context,t[0]).toSeconds();return t.forEach(i=>{const o=new ss(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(r-e)&&(s=i,r=o)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const s=Math.floor(t/this._getTimeSignature());let r=t%1*4;t=Math.floor(t)%this._getTimeSignature();const i=r.toString();return i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3))),[s,t,r].join(":")}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.round(t*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return y_(this.toFrequency())}_now(){return this.context.now()}}class Vn extends ss{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return cd}static set A4(e){!function(n){cd=n}(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return"midi"===this.defaultUnits?e:Vn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,t){const r=GW[e.toLowerCase()]+12*(parseInt(t,10)+1);return"midi"===this.defaultUnits?r:Vn.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,s){let r=1;return e&&"0"!==e&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(r*=this._beatsToUnits(parseFloat(t))),s&&"0"!==s&&(r*=this._beatsToUnits(parseFloat(s)/4)),r}}})}transpose(e){return new Vn(this.context,this.valueOf()*US(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return y_(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Vn.A4);let s=Math.round(12*t)+57;const r=Math.floor(s/12);return r<0&&(s+=-12*r),QW[s%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(60*e/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return function(n){return cd*Math.pow(2,(n-69)/12)}(e)}static ftom(e){return y_(e)}}const GW={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},QW=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Da extends ss{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class wn extends Zr{constructor(){super();const e=k(wn.getDefaults(),arguments,["context"]);this.context=this.defaultContext?this.defaultContext:e.context}static getDefaults(){return{context:ns()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new ss(this.context,e).toSeconds()}toFrequency(e){return new Vn(this.context,e).toFrequency()}toTicks(e){return new Da(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(s=>{es(e[s])&&delete t[s]}),t}get(){const e=function(n){return n.constructor.getDefaults()}(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const s=this[t];Se(s)&&Se(s.value)&&Se(s.setValueAtTime)?e[t]=s.value:s instanceof wn?e[t]=s._getPartialProperties(e[t]):As(s)||Vi(s)||Ys(s)||function(n){return"boolean"==typeof n}(s)?e[t]=s:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&Se(this[t])&&(this[t]&&Se(this[t].value)&&Se(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof wn?this[t].set(e[t]):this[t]=e[t])}),this}}class b_ extends Zs{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return null!==t?t.state:this._initial}setStateAtTime(e,t,s){return Qr(t,0),this.add(Object.assign({},s,{state:e,time:t})),this}getLastState(e,t){for(let r=this._search(t);r>=0;r--){const i=this._timeline[r];if(i.state===e)return i}}getNextState(e,t){const s=this._search(t);if(-1!==s)for(let r=s;r<this._timeline.length;r++){const i=this._timeline[r];if(i.state===e)return i}}}class st extends wn{constructor(){super(k(st.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=k(st.getDefaults(),arguments,["param","units","convert"]);for(be(Se(e.param)&&(qi(e.param)||e.param instanceof st),"param must be an AudioParam");!qi(e.param);)e.param=e.param._param;this._swappable=!!Se(e.swappable)&&e.swappable,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Zs(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Se(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(wn.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Se(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return Se(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return Se(this.maxValue)&&Se(this.minValue)&&Qr(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?function(n){return Math.pow(10,n/20)}(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&"decibels"===this.units?function(n){return Math.log(n)/Math.LN10*20}(e):e}setValueAtTime(e,t){const s=this.toSeconds(t),r=this._fromType(e);return be(isFinite(r)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),s=this._events.getAfter(t),r=this._events.get(t);let i=this._initialValue;if(null===r)i=this._initialValue;else if("setTargetAtTime"!==r.type||null!==s&&"setValueAtTime"!==s.type)if(null===s)i=r.value;else if("linearRampToValueAtTime"===s.type||"exponentialRampToValueAtTime"===s.type){let o=r.value;if("setTargetAtTime"===r.type){const a=this._events.getBefore(r.time);o=null===a?this._initialValue:a.value}i="linearRampToValueAtTime"===s.type?this._linearInterpolate(r.time,o,s.time,s.value,t):this._exponentialInterpolate(r.time,o,s.time,s.value,t)}else i=r.value;else{const o=this._events.getBefore(r.time);let a;a=null===o?this._initialValue:o.value,"setTargetAtTime"===r.type&&(i=this._exponentialApproach(r.time,a,r.value,r.constant,t))}return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),0===this._fromType(t)&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const s=this._fromType(e),r=this.toSeconds(t);return be(isFinite(s)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this._events.add({time:r,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(s,r),this}exponentialRampToValueAtTime(e,t){let s=this._fromType(e);s=Is(s,0)?this._minOutput:s,this._assertRange(s);const r=this.toSeconds(t);return be(isFinite(s)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(s,r),this}exponentialRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(t)),this}linearRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(t)),this}targetRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,t),this}exponentialApproachValueAtTime(e,t,s){t=this.toSeconds(t),s=this.toSeconds(s);const r=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,t,r),this.cancelAndHoldAtTime(t+.9*s),this.linearRampToValueAtTime(e,t+s),this}setTargetAtTime(e,t,s){const r=this._fromType(e);be(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(t);return this._assertRange(r),be(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:s,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,s),this._param.setTargetAtTime(r,i,s),this}setValueCurveAtTime(e,t,s,r=1){s=this.toSeconds(s),t=this.toSeconds(t);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),t);const o=s/(e.length-1);for(let a=1;a<e.length;a++){const c=this._fromType(e[a])*r;this.linearRampToValueAtTime(this._toType(c),t+a*o)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return be(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),s=this._fromType(this.getValueAtTime(t));be(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+s);const r=this._events.get(t),i=this._events.getAfter(t);return r&&Is(r.time,t)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(s),t):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(s),t)),this._events.add({time:t,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,t),this}rampTo(e,t=.1,s){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(e,t,s):this.linearRampTo(e,t,s),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const s=this._events.get(t);if(s&&"setTargetAtTime"===s.type){const r=this._events.getAfter(s.time),i=r?r.time:t+2,o=(i-t)/10;for(let a=t;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,r=>{"cancelScheduledValues"===r.type?e.cancelScheduledValues(r.time):"setTargetAtTime"===r.type?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){be(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,s,r,i){return s+(t-s)*Math.exp(-(i-e)/r)}_linearInterpolate(e,t,s,r,i){return t+(i-e)/(s-e)*(r-t)}_exponentialInterpolate(e,t,s,r,i){return t*Math.pow(r/t,(i-e)/(s-e))}}class Te extends wn{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return Se(this.input)?qi(this.input)||this.input instanceof st?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Se(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Se(e)&&(e instanceof Te||Yr(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();be(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,s=0){return Ea(this,e,t,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return RS("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,s=0){return function(n,e,t=0,s=0){if(Se(e))for(;e instanceof Te;)e=e.input;for(;!Yr(n);)Se(n.output)&&(n=n.output);qi(e)?n.disconnect(e,t):Yr(e)?n.disconnect(e,t,s):n.disconnect()}(this,e,t,s),this}chain(...e){return w_(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),Se(this.input)&&(this.input instanceof Te?this.input.dispose():Yr(this.input)&&this.input.disconnect()),Se(this.output)&&(this.output instanceof Te?this.output.dispose():Yr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function w_(...n){const e=n.shift();n.reduce((t,s)=>(t instanceof Te?t.connect(s):Yr(t)&&Ea(t,s),s),e)}function Ea(n,e,t=0,s=0){for(be(Se(n),"Cannot connect from undefined node"),be(Se(e),"Cannot connect to undefined node"),(e instanceof Te||Yr(e))&&be(e.numberOfInputs>0,"Cannot connect to node with no inputs"),be(n.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Te||e instanceof st;)Se(e.input)&&(e=e.input);for(;n instanceof Te;)Se(n.output)&&(n=n.output);qi(e)?n.connect(e,t):n.connect(e,t,s)}class fn extends Te{constructor(){super(k(fn.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=k(fn.getDefaults(),arguments,["gain","units"]);this.gain=new st({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),pt(this,"gain")}static getDefaults(){return Object.assign(Te.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ta extends Te{constructor(e){super(e),this.onended=Ge,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new fn({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const s=this.toSeconds(t);return-1!==this._startTime&&s>=this._startTime&&(-1===this._stopTime||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Te.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Ge})}_startGain(e,t=1){be(-1===this._startTime,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(t,e+s):this._gainNode.gain.exponentialApproachValueAtTime(t,e,s)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){be(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.context.currentTime),t>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s="exponential"===this._curve?2*t:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Ge&&(this.onended(this),this.onended=Ge,!this.context.isOffline)){const e=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),be(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class ud extends Ta{constructor(){super(k(ud.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=k(ud.getDefaults(),arguments,["offset"]);Ea(this._source,this._gainNode),this.offset=new st({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Ta.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Pt extends Te{constructor(){super(k(Pt.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=k(Pt.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ud({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Te.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,s=0){return C_(this,e,t,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,s){return this._param.exponentialRampTo(e,t,s),this}linearRampTo(e,t,s){return this._param.linearRampTo(e,t,s),this}targetRampTo(e,t,s){return this._param.targetRampTo(e,t,s),this}exponentialApproachValueAtTime(e,t,s){return this._param.exponentialApproachValueAtTime(e,t,s),this}setTargetAtTime(e,t,s){return this._param.setTargetAtTime(e,t,s),this}setValueCurveAtTime(e,t,s,r){return this._param.setValueCurveAtTime(e,t,s,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,s){return this._param.rampTo(e,t,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function C_(n,e,t,s){(e instanceof st||qi(e)||e instanceof Pt&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Pt&&(e.overridden=!0)),Ea(n,e,t,s)}class ld extends st{constructor(){super(k(ld.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Zs(1/0),this._multiplier=1;const e=k(ld.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(st.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,s){t=this.toSeconds(t),this.setRampPoint(t);const r=this._fromType(e),i=this._events.get(t),o=Math.round(Math.max(1/s,1));for(let a=0;a<=o;a++){const c=s*a+t,u=this._exponentialApproach(i.time,i.value,r,s,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}setValueAtTime(e,t){const s=this.toSeconds(t);super.setValueAtTime(e,t);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,t){const s=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const s=this._fromType(e),r=this._events.get(t),i=Math.round(Math.max(10*(t-r.time),1)),o=(t-r.time)/i;for(let a=0;a<=i;a++){const c=o*a+r.time,u=this._exponentialInterpolate(r.time,r.value,t,s,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}_getTicksUntilEvent(e,t){if(null===e)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(es(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(t));const i=this._events.get(t);return i&&i.time===t&&"setValueAtTime"===i.type&&(r=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(s+r)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),s=this._events.get(t);return Math.max(this._getTicksUntilEvent(s,t),0)}getDurationOfTicks(e,t){const s=this.toSeconds(t),r=this.getTicksAtTime(t);return this.getTimeOfTick(r+e)-s}getTimeOfTick(e){const t=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&s&&"linearRampToValueAtTime"===s.type&&t.value!==s.value){const r=this._fromType(this.getValueAtTime(t.time)),o=(this._fromType(this.getValueAtTime(s.time))-r)/(s.time-t.time),a=Math.sqrt(Math.pow(r,2)-2*o*(t.ticks-e)),c=(-r+a)/o,u=(-r-a)/o;return(c>0?c:u)+t.time}return t?0===t.value?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const s=this.toSeconds(t),r=this.toSeconds(e),i=this.getTicksAtTime(s);return this.getTicksAtTime(s+r)-i}_fromType(e){return"bpm"===this.units&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return"bpm"===this.units&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class hd extends Pt{constructor(){super(k(hd.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=k(hd.getDefaults(),arguments,["value"]);this.input=this._param=new ld({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Pt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class dd extends wn{constructor(){super(k(dd.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new b_,this._tickOffset=new Zs;const e=k(dd.getDefaults(),arguments,["frequency"]);this.frequency=new hd({context:this.context,units:e.units,value:e.frequency}),pt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},wn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const s=this.toSeconds(e);return"started"!==this._state.getValueAtTime(s)&&(this._state.setStateAtTime("started",s),Se(t)&&this.setTicksAtTime(t,s)),this}stop(e){const t=this.toSeconds(e);if("stopped"===this._state.getValueAtTime(t)){const s=this._state.get(t);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&this._state.setStateAtTime("paused",t),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),s=this._state.getLastState("stopped",t),r={state:"paused",time:t};this._state.add(r);let i=s,o=0;return this._state.forEachBetween(s.time,t+this.sampleTime,a=>{let c=i.time;const u=this._tickOffset.get(a.time);u&&u.time>=i.time&&(o=u.ticks,c=u.time),"started"===i.state&&"started"!==a.state&&(o+=this.frequency.getTicksAtTime(a.time)-this.frequency.getTicksAtTime(c)),i=a}),this._state.remove(r),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),s=this.frequency.timeToTicks(e,t);this.setTicksAtTime(s,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);let r=t,i=0;return this._state.forEachBetween(t.time,e+this.sampleTime,o=>{let a=r.time;const c=this._tickOffset.get(o.time);c&&c.time>=r.time&&(i=c.seconds,a=c.time),"started"===r.state&&"started"!==o.state&&(i+=o.time-a),r=o}),this._state.remove(s),i}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const s=this._tickOffset.get(t),r=this._state.get(t),i=Math.max(s.time,r.time),o=this.frequency.getTicksAtTime(i)+e-s.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,t,s){let r=this._state.get(e);this._state.forEachBetween(e,t,o=>{r&&"started"===r.state&&"started"!==o.state&&this.forEachTickBetween(Math.max(r.time,e),o.time-this.sampleTime,s),r=o});let i=null;if(r&&"started"===r.state){const o=Math.max(r.time,e),a=this.frequency.getTicksAtTime(o),u=a-this.frequency.getTicksAtTime(r.time);let l=Math.ceil(u)-u;l=Is(l,1)?0:l;let h=this.frequency.getTimeOfTick(a+l);for(;h<t;){try{s(h,Math.round(this.getTicksAtTime(h)))}catch(d){i=d;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class hu extends wn{constructor(){super(k(hu.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Ge,this._lastUpdate=0,this._state=new b_("stopped"),this._boundLoop=this._loop.bind(this);const e=k(hu.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new dd({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,pt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(wn.getDefaults(),{callback:Ge,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){OS(this.context);const s=this.toSeconds(e);return this.log("start",s),"started"!==this._state.getValueAtTime(s)&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,t),s<this._lastUpdate&&this.emit("start",s,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const s=this.toSeconds(t),r=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(r+e,s)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,s=>{switch(s.state){case"started":const r=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,r);break;case"stopped":0!==s.time&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time)}}),this._tickSource.forEachTickBetween(e,t,(s,r)=>{this.callback(s,r)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}uu.mixin(hu);class E_ extends Zr{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=k(E_.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++,this.add(t,e.urls[t],this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Ge,onload:Ge,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return be(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,0===this._loadingCount&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,s=Ge,r=Ge){return Ys(t)?this._buffers.set(e.toString(),new _r(this.baseUrl+t,s,r)):this._buffers.set(e.toString(),new _r(t,s,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Ks extends Da{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class ZW extends wn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Zs,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}od(n=>{n.draw=new ZW({context:n})}),ad(n=>{n.draw.dispose()});class KW extends Zr{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){be(Se(e.time),"Events must have a time property"),be(Se(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new XW(e.time,e.time+e.duration,e);for(null===this._root?this._root=t:this._root.insert(t),this._length++;null!==t;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(null!==this._root){const t=[];this._root.search(e.time,t);for(const s of t)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(e,t){null!==e.parent?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(null===e.left&&null===e.right)this._replaceNodeInParent(e,null);else if(null===e.right)this._replaceNodeInParent(e,e.left);else if(null===e.left)this._replaceNodeInParent(e,e.right);else{let s,r=null;if(e.getBalance()>0)if(null===e.left.right)s=e.left,s.right=e.right,r=s;else{for(s=e.left.right;null!==s.right;)s=s.right;s.parent&&(s.parent.right=s.left,r=s.parent,s.left=e.left,s.right=e.right)}else if(null===e.right.left)s=e.right,s.left=e.left,r=s;else{for(s=e.right.left;null!==s.left;)s=s.left;s.parent&&(s.parent.left=s.right,r=s.parent,s.left=e.left,s.right=e.right)}null!==e.parent?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const t=e.parent,s=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),null!==t?s?t.left=r:t.right=r:this._setRoot(r)}_rotateRight(e){const t=e.parent,s=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),null!==t?s?t.left=r:t.right=r:this._setRoot(r)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(null!==this._root){const t=[];if(this._root.search(e,t),t.length>0){let s=t[0];for(let r=1;r<t.length;r++)t[r].low>s.low&&(s=t[r]);return s.event}}return null}forEach(e){if(null!==this._root){const t=[];this._root.traverse(s=>t.push(s)),t.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,t){if(null!==this._root){const s=[];this._root.search(e,s),s.forEach(r=>{r.event&&t(r.event)})}return this}forEachFrom(e,t){if(null!==this._root){const s=[];this._root.searchAfter(e,s),s.forEach(r=>{r.event&&t(r.event)})}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class XW{constructor(e,t,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?null===this.left?this.left=e:this.left.insert(e):null===this.right?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(null!==this.left&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&null!==this.right&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),null!==this.left&&this.left.searchAfter(e,t)),null!==this.right&&this.right.searchAfter(e,t)}traverse(e){e(this),null!==this.left&&this.left.traverse(e),null!==this.right&&this.right.traverse(e)}updateHeight(){this.height=null!==this.left&&null!==this.right?Math.max(this.left.height,this.right.height)+1:null!==this.right?this.right.height+1:null!==this.left?this.left.height+1:0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return null!==this.left&&null!==this.right?e=this.left.height-this.right.height:null!==this.left?e=this.left.height+1:null!==this.right&&(e=-(this.right.height+1)),e}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ui extends Te{constructor(){super(k(Ui.getDefaults(),arguments,["volume"])),this.name="Volume";const e=k(Ui.getDefaults(),arguments,["volume"]);this.input=this.output=new fn({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,pt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Te.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class fd extends Te{constructor(){super(k(fd.getDefaults(),arguments)),this.name="Destination",this.input=new Ui({context:this.context}),this.output=new fn({context:this.context}),this.volume=this.input.volume;const e=k(fd.getDefaults(),arguments);w_(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Te.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),w_(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}od(n=>{n.destination=new fd({context:n})}),ad(n=>{n.destination.dispose()});class JW extends Zr{constructor(e){super(),this.name="TimelineValue",this._timeline=new Zs({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}let pd=(()=>{class n{constructor(t,s){this.id=n._eventId++;const r=Object.assign(n.getDefaults(),s);this.transport=t,this.callback=r.callback,this._once=r.once,this.time=r.time}static getDefaults(){return{callback:Ge,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}return n._eventId=0,n})();class x_ extends pd{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(x_.getDefaults(),t);this.duration=new Ks(e.context,s.duration).valueOf(),this._interval=new Ks(e.context,s.interval).valueOf(),this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},pd.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const t=this.transport.getTicksAtTime(e);t>=this.time&&t>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ks(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const t=this.transport.getTicksAtTime(e);t>this.time&&(this._nextTick=this.time+Math.ceil((t-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new Ks(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ks(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class du extends wn{constructor(){super(k(du.getDefaults(),arguments)),this.name="Transport",this._loop=new JW(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Zs,this._repeatedEvents=new KW,this._syncedSignals=[],this._swingAmount=0;const e=k(du.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new hu({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),pt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(wn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!=0&&t%(2*this._swingTicks)!=0){const r=Math.sin(t%(2*this._swingTicks)/(2*this._swingTicks)*Math.PI)*this._swingAmount;e+=new Ks(this.context,2*this._swingTicks/3).toSeconds()*r}this._timeline.forEachAtTime(t,s=>s.invoke(e))}schedule(e,t){const s=new pd(this,{callback:e,time:new Da(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,t,s,r=1/0){const i=new x_(this,{callback:e,duration:new ss(this.context,r).toTicks(),interval:new ss(this.context,t).toTicks(),time:new Da(this.context,s).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,t){const s=new pd(this,{callback:e,once:!0,time:new Da(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(t,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new Ks(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){let s;return Se(t)&&(s=this.toTicks(t)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),"started"!==this._clock.getStateAtTime(e)?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){As(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new ss(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new ss(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Ks(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new Ks(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),s=this._clock.frequency.timeToTicks(e,t);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if("started"===this.state){const s=this._clock.getTicksAtTime(t),i=t+this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,t);this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),"started"!==this.state)return 0;{const t=this.now(),s=this.getTicksAtTime(t);return this._clock.nextTickTime(e-s%e,t)}}syncSignal(e,t){if(!t){const r=this.now();if(0!==e.getValueAtTime(r)){const o=1/(60/this.bpm.getValueAtTime(r)/this.PPQ);t=e.getValueAtTime(r)/o}else t=0}const s=new fn(t);return this.bpm.connect(s),s.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:s,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const s=this._syncedSignals[t];s.signal===e&&(s.ratio.dispose(),s.signal.value=s.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),BS(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}uu.mixin(du),od(n=>{n.transport=new du({context:n})}),ad(n=>{n.transport.dispose()});class jn extends Te{constructor(e){super(e),this.input=void 0,this._state=new b_("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Ge,this._syncedStop=Ge,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ui({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,pt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Te.getDefaults(),{mute:!1,onstop:Ge,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,s){let r=es(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),this._synced||"started"!==this._state.getValueAtTime(r))if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const i=this._state.get(r);i&&(i.offset=this.toSeconds(wa(t,0)),i.duration=s?this.toSeconds(s):void 0);const o=this.context.transport.schedule(a=>{this._start(a,t,s)},r);this._scheduled.push(o),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else OS(this.context),this._start(r,t,s);else be(id(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,t,s);return this}stop(e){let t=es(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),"started"===this._state.getValueAtTime(t)||Se(this._state.getNextState("started",t))){if(this.log("stop",t),this._synced){const s=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(s)}else this._stop(t);this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,s){return e=this.toSeconds(e),"started"===this._state.getValueAtTime(e)&&(this._state.cancel(e),this._restart(e,t,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(t>0){const s=this._state.get(t);if(s&&"started"===s.state&&s.time!==t){const r=t-this.toSeconds(s.time);let i;s.duration&&(i=this.toSeconds(s.duration)-r),this._start(e,this.toSeconds(s.offset)+r,i)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));"started"===this._state.getValueAtTime(t)&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Ge,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class fu extends Ta{constructor(){super(k(fu.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=k(fu.getDefaults(),arguments,["url","onload"]);Ea(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new st({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new _r(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ta.getDefaults(),{url:new _r,loop:!1,loopEnd:0,loopStart:0,onload:Ge,onerror:Ge,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,s,r=1){be(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),t=wa(t,this.loop?this.loopStart:0);let o=Math.max(this.toSeconds(t),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),u=a-c;m_(o,a)&&(o=(o-c)%u+c),Is(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,PS(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),Se(s)){let a=this.toSeconds(s);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Hi(n,e){return bt(this,void 0,void 0,function*(){const t=e/n.context.sampleRate,s=new __(1,t,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/t,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class gd extends Ta{constructor(){super(k(gd.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=k(gd.getDefaults(),arguments,["frequency","type"]);Ea(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new st({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new st({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),pt(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ta.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}let rs=(()=>{class n extends jn{constructor(){super(k(n.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=k(n.getDefaults(),arguments,["frequency","type"]);this.frequency=new Pt({context:this.context,units:"frequency",value:t.frequency}),pt(this,"frequency"),this.detune=new Pt({context:this.context,units:"cents",value:t.detune}),pt(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(jn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const s=this.toSeconds(t),r=new gd({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(t){const s=this.toSeconds(t);this._oscillator&&this._oscillator.stop(s)}_restart(t){const s=this.toSeconds(t);return this.log("restart",s),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return n._periodicWaveCache.find(s=>s.phase===this._phase&&function(n,e){return n.length===e.length&&n.every((t,s)=>e[s]===t)}(s.partials,this._partials));{const t=n._periodicWaveCache.find(s=>s.type===this._type&&s.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const s=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&s)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const r=this._getCachedPeriodicWave();if(Se(r)){const{partials:i,wave:o}=r;this._wave=o,this._partials=i,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[i,o]=this._getRealImaginary(t,this._phase),a=this.context.createPeriodicWave(i,o);this._wave=a,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),n._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:i,type:this._type,wave:this._wave}),n._periodicWaveCache.length>100&&n._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.type=this.partialCount&&"custom"!==this._type&&"custom"!==t?t+this.partialCount:t}get partialCount(){return this._partialCount}set partialCount(t){Qr(t,0);let s=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(s=r[1]),"custom"!==this._type)this.type=0===t?s:s+t.toString();else{const i=new Float32Array(t);this._partials.forEach((o,a)=>i[a]=o),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(t,s){let i=2048;const o=new Float32Array(i),a=new Float32Array(i);let c=1;if("custom"===t){if(c=this._partials.length+1,this._partialCount=this._partials.length,i=c,0===this._partials.length)return[o,a]}else{const u=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);u?(c=parseInt(u[2],10)+1,this._partialCount=parseInt(u[2],10),t=u[1],c=Math.max(c,2),i=c):this._partialCount=0,this._partials=[]}for(let u=1;u<i;++u){const l=2/(u*Math.PI);let h;switch(t){case"sine":h=u<=c?1:0,this._partials[u-1]=h;break;case"square":h=1&u?2*l:0,this._partials[u-1]=h;break;case"sawtooth":h=l*(1&u?1:-1),this._partials[u-1]=h;break;case"triangle":h=1&u?l*l*2*(u-1>>1&1?-1:1):0,this._partials[u-1]=h;break;case"custom":h=this._partials[u-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==h?(o[u]=-h*Math.sin(s*u),a[u]=h*Math.cos(s*u)):(o[u]=0,a[u]=0)}return[o,a]}_inverseFFT(t,s,r){let i=0;const o=t.length;for(let a=0;a<o;a++)i+=t[a]*Math.cos(a*r)+s[a]*Math.sin(a*r);return i}getInitialValue(){const[t,s]=this._getRealImaginary(this._type,0);let r=0;const i=2*Math.PI;for(let a=0;a<32;a++)r=Math.max(this._inverseFFT(t,s,a/32*i),r);return function(n,e,t){return Math.max(Math.min(n,1),-1)}(-this._inverseFFT(t,s,this._phase)/r)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return bt(this,void 0,void 0,function*(){return Hi(this,t)})}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}return n._periodicWaveCache=[],n})();class md extends Te{constructor(){super(Object.assign(k(md.getDefaults(),arguments,["context"])))}connect(e,t=0,s=0){return C_(this,e,t,s),this}}class gu extends md{constructor(){super(Object.assign(k(gu.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=k(gu.getDefaults(),arguments,["mapping","length"]);As(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):function(n){return"function"==typeof n}(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Pt.getDefaults(),{length:1024})}setMap(e,t=1024){const s=new Float32Array(t);for(let r=0,i=t;r<i;r++)s[r]=e(r/(i-1)*2-1,r);return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){be(["none","2x","4x"].some(s=>s.includes(e)),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class e6 extends md{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new gu({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class $i extends Pt{constructor(){super(Object.assign(k($i.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=k($i.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new fn({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Pt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class mu extends jn{constructor(){super(k(mu.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new e6({context:this.context}),this._modulationNode=new fn({context:this.context});const e=k(mu.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new rs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new rs({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new $i({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),pt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(rs.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return bt(this,void 0,void 0,function*(){return Hi(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class _u extends jn{constructor(){super(k(_u.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new fn({context:this.context,gain:0});const e=k(_u.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new rs({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Pt({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new rs({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new $i({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new $i({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),pt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(rs.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return bt(this,void 0,void 0,function*(){return Hi(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Sa extends jn{constructor(){super(k(Sa.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new fn({context:this.context,gain:0}),this._thresh=new gu({context:this.context,mapping:t=>t<=0?-1:1});const e=k(Sa.getDefaults(),arguments,["frequency","width"]);this.width=new Pt({context:this.context,units:"audioRange",value:e.width}),this._triangle=new rs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),pt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(jn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return bt(this,void 0,void 0,function*(){return Hi(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class yu extends jn{constructor(){super(k(yu.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=k(yu.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Pt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Pt({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,pt(this,["frequency","detune"])}static getDefaults(){return Object.assign(rs.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,s=e/(this._oscillators.length-1);this._forEach((r,i)=>r.detune.value=t+s*i)}}get count(){return this._oscillators.length}set count(e){if(Qr(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const s=new rs({context:this.context,volume:-6-1.1*e,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:0===t?()=>this.onstop(this):Ge});"custom"===this.type&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[t]=s}this.spread=this._spread,"started"===this.state&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,s)=>t.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return bt(this,void 0,void 0,function*(){return Hi(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class vu extends jn{constructor(){super(k(vu.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new $i({context:this.context,value:2});const e=k(vu.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Sa({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new rs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),pt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(jn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return bt(this,void 0,void 0,function*(){return Hi(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const WS={am:mu,fat:yu,fm:_u,oscillator:rs,pulse:Sa,pwm:vu};class bu extends jn{constructor(){super(k(bu.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=k(bu.getDefaults(),arguments,["frequency","type"]);this.frequency=new Pt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Pt({context:this.context,units:"cents",value:e.detune}),pt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(rs.getDefaults(),_u.getDefaults(),mu.getDefaults(),yu.getDefaults(),Sa.getDefaults(),vu.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){"fm"===e.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"am"===e.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"fat"===e.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):"pwm"===e?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===e?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=WS[e],s=this.now();if(this._oscillator){const r=this._oscillator;r.stop(s),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(t=this._oscillator.type),"fm"===e?this.type="fm"+t:"am"===e?this.type="am"+t:"fat"===e?this.type="fat"+t:"oscillator"===e?this.type=t:"pulse"===e?this.type="pulse":"pwm"===e&&(this.type="pwm")}_getOscType(e,t){return e instanceof WS[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&"pulse"!==e&&"pwm"!==e&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Vi(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Vi(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Ys(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return bt(this,void 0,void 0,function*(){return Hi(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function QS(n,e=1/0){const t=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(i){Qr(i,n,e),t.set(this,i)}})}}function vr(n,e=1/0){const t=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(i){Qr(this.toSeconds(i),n,e),t.set(this,i)}})}}class wu extends jn{constructor(){super(k(wu.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=k(wu.getDefaults(),arguments,["url","onload"]);this._buffer=new _r({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(jn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Ge,onerror:Ge,playbackRate:1,reverse:!1})}load(e){return bt(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Ge){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),0===this._activeSources.size&&!this._synced&&"started"===this._state.getValueAtTime(this.now())&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,s){return super.start(e,t,s),this}_start(e,t,s){t=wa(t,this._loop?this._loopStart:0);const r=this.toSeconds(t),i=s;s=wa(s,Math.max(this._buffer.duration-r,0));let o=this.toSeconds(s);o/=this._playbackRate,e=this.toSeconds(e);const a=new fu({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&es(i)?a.start(e,r):a.start(e,r,o-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(t))}restart(e,t,s){return super.restart(e,t,s),this}_restart(e,t,s){this._stop(e),this._start(e,t,s)}seek(e,t){const s=this.toSeconds(t);if("started"===this._state.getValueAtTime(s)){const r=this.toSeconds(e);this._stop(s),this._start(s,r)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Qr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Qr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),s=this._state.getNextState("stopped",t);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}ts([vr(0)],wu.prototype,"fadeIn",void 0),ts([vr(0)],wu.prototype,"fadeOut",void 0);class br extends Te{constructor(){super(k(br.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Pt({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=k(br.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Te.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(Ys(e))return e;{let s;for(s in _d)if(_d[s][t]===e)return s;return e}}_setCurve(e,t,s){if(Ys(s)&&Reflect.has(_d,s)){const r=_d[s];ji(r)?"_decayCurve"!==e&&(this[e]=r[t]):this[e]=r}else{if(!As(s)||"_decayCurve"===e)throw new Error("Envelope: invalid curve: "+s);this[e]=s}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){be(["linear","exponential"].some(t=>t===e),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0&&(r=(1-o)/(1/r)),r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if("linear"===this._attackCurve)this._sig.linearRampTo(t,r,e);else if("exponential"===this._attackCurve)this._sig.targetRampTo(t,r,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let c=1;c<a.length;c++)if(a[c-1]<=o&&o<=a[c]){a=this._attackCurve.slice(c),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,r,t)}if(i&&this.sustain<1){const a=t*this.sustain,c=e+r;this.log("decay",c),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(a,i+c):this._sig.exponentialApproachValueAtTime(a,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):"linear"===this._releaseCurve?this._sig.linearRampTo(0,s,e):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,s,e):(be(As(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,s=1){return t=this.toSeconds(t),this.triggerAttack(t,s),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,s=0){return C_(this,e,t,s),this}asArray(e=1024){return bt(this,void 0,void 0,function*(){const t=e/this.context.sampleRate,s=new __(1,t,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),o=.1*i,a=i+o,c=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/a,decay:t*this.toSeconds(this.decay)/a,release:t*this.toSeconds(this.release)/a,context:s}));return c._sig.toDestination(),c.triggerAttackRelease(t*(r+o)/a,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}ts([vr(0)],br.prototype,"attack",void 0),ts([vr(0)],br.prototype,"decay",void 0),ts([QS(0,1)],br.prototype,"sustain",void 0),ts([vr(0)],br.prototype,"release",void 0);const _d=(()=>{const n=128;let e,t;const s=[];for(e=0;e<n;e++)s[e]=Math.sin(e/127*(Math.PI/2));const r=[];for(e=0;e<127;e++){t=e/127;const d=Math.sin(t*(2*Math.PI)*6.4-Math.PI/2)+1;r[e]=d/10+.83*t}r[127]=1;const o=[];for(e=0;e<n;e++)o[e]=Math.ceil(e/127*5)/5;const c=[];for(e=0;e<n;e++)t=e/127,c[e]=.5*(1-Math.cos(Math.PI*t));const u=[];for(e=0;e<n;e++){t=e/127;const d=4*Math.pow(t,3)+.2,f=Math.cos(d*Math.PI*2*t);u[e]=Math.abs(f*(1-t))}function l(d){const f=new Array(d.length);for(let p=0;p<d.length;p++)f[p]=1-d[p];return f}return{bounce:{In:l(u),Out:u},cosine:{In:s,Out:(d=s,d.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:r,Out:l(r)},sine:{In:c,Out:l(c)},step:{In:o,Out:l(o)}};var d})();class Wi extends Te{constructor(){super(k(Wi.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=k(Wi.getDefaults(),arguments);this._volume=this.output=new Ui({context:this.context,volume:e.volume}),this.volume=this._volume.volume,pt(this,"volume")}static getDefaults(){return Object.assign(Te.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const s=this["_original_"+e]=this[e];this[e]=(...r)=>{const o=this.context.transport.schedule(a=>{r[t]=a,s.apply(this,r)},r[t]);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,t,s,r){const i=this.toSeconds(s),o=this.toSeconds(t);return this.triggerAttack(e,i,r),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class zi extends Wi{constructor(){super(k(zi.getDefaults(),arguments));const e=k(zi.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Wi.getDefaults(),{detune:0,onsilence:Ge,portamento:0})}triggerAttack(e,t,s=1){this.log("triggerAttack",e,t,s);const r=this.toSeconds(t);return this._triggerEnvelopeAttack(r,s),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const s=this.toSeconds(t),r=e instanceof Vn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,i,s)}else this.frequency.setValueAtTime(r,s);return this}}ts([vr(0)],zi.prototype,"portamento",void 0);class P_ extends br{constructor(){super(k(P_.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new fn({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Aa extends zi{constructor(){super(k(Aa.getDefaults(),arguments)),this.name="Synth";const e=k(Aa.getDefaults(),arguments);this.oscillator=new bu(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new P_(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),pt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(zi.getDefaults(),{envelope:Object.assign(FS(br.getDefaults(),Object.keys(Te.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(FS(bu.getDefaults(),[...Object.keys(jn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),0===this.envelope.sustain){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Cu extends Aa{constructor(){super(k(Cu.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=k(Cu.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,pt(this,["oscillator","envelope"])}static getDefaults(){return ba(zi.getDefaults(),Aa.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const s=this.toSeconds(t),r=this.toFrequency(e instanceof Vn?e.toFrequency():e);return this.oscillator.frequency.setValueAtTime(r*this.octaves,s),this.oscillator.frequency.exponentialRampToValueAtTime(r,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}ts([QS(0)],Cu.prototype,"octaves",void 0),ts([vr(0)],Cu.prototype,"pitchDecay",void 0);const z_=new Set;function G_(n){z_.add(n)}function JS(n,e){z_.add(`registerProcessor("${n}", ${e})`)}G_('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),G_("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),G_("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n"),JS("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class Du extends Wi{constructor(){super(k(Du.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=k(Du.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),t={};Object.keys(e.urls).forEach(s=>{const r=parseInt(s,10);if(be(sd(s)||Vi(r)&&isFinite(r),`url key is neither a note or midi pitch: ${s}`),sd(s)){const i=new Vn(this.context,s).toMidi();t[i]=e.urls[s]}else Vi(r)&&isFinite(r)&&(t[r]=e.urls[r])}),this._buffers=new E_({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Wi.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Ge,onerror:Ge,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,s=1){return this.log("triggerAttack",e,t,s),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=HS(new Vn(this.context,r).toFrequency()),o=Math.round(i),a=i-o,c=this._findClosest(o),l=this._buffers.get(o-c),h=US(c+a),d=new fu({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);d.start(t,0,l.duration/h,s),As(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const f=this._activeSources.get(o),p=f.indexOf(d);-1!==p&&f.splice(p,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(s=>{const r=new Vn(this.context,s).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const i=this._activeSources.get(r);t=this.toSeconds(t),i.forEach(o=>{o.stop(t)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,s,r=1){const i=this.toSeconds(s);return this.triggerAttack(e,i,r),As(t)?(be(As(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const c=t[Math.min(a,t.length-1)];this.triggerRelease(o,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(t)),this}add(e,t,s){if(be(sd(e)||isFinite(e),`note must be a pitch or midi: ${e}`),sd(e)){const r=new Vn(this.context,e).toMidi();this._buffers.add(r,t,s)}else this._buffers.add(e,t,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}ts([vr(0)],Du.prototype,"attack",void 0),ts([vr(0)],Du.prototype,"release",void 0);class vd extends Te{constructor(){super(Object.assign(k(vd.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=k(vd.getDefaults(),arguments,["pan"]);this.pan=new st({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",pt(this,"pan")}static getDefaults(){return Object.assign(Te.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}JS("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class wt extends Te{constructor(){super(k(wt.getDefaults(),arguments,["solo"])),this.name="Solo";const e=k(wt.getDefaults(),arguments,["solo"]);this.input=this.output=new fn({context:this.context}),wt._allSolos.has(this.context)||wt._allSolos.set(this.context,new Set),wt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Te.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),wt._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return 0===this.input.gain.value}_addSolo(){wt._soloed.has(this.context)||wt._soloed.set(this.context,new Set),wt._soloed.get(this.context).add(this)}_removeSolo(){wt._soloed.has(this.context)&&wt._soloed.get(this.context).delete(this)}_isSoloed(){return wt._soloed.has(this.context)&&wt._soloed.get(this.context).has(this)}_noSolos(){return!wt._soloed.has(this.context)||wt._soloed.has(this.context)&&0===wt._soloed.get(this.context).size}_updateSolo(){this.input.gain.value=this._isSoloed()||this._noSolos()?1:0}dispose(){return super.dispose(),wt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}wt._allSolos=new Map,wt._soloed=new Map;class wd extends Te{constructor(){super(k(wd.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=k(wd.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new vd({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ui({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,pt(this,["pan","volume"])}static getDefaults(){return Object.assign(Te.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Gi extends Te{constructor(){super(k(Gi.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=k(Gi.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new wt({solo:e.solo,context:this.context}),this._panVol=this.output=new wd({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),pt(this,["pan","volume"])}static getDefaults(){return Object.assign(Te.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Gi.buses.has(e)||Gi.buses.set(e,new fn({context:this.context})),Gi.buses.get(e)}send(e,t=0){const s=this._getBus(e),r=new fn({context:this.context,units:"decibels",gain:t});return this.connect(r),r.connect(s),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Gi.buses=new Map;class l6 extends Te{constructor(){super(...arguments),this.name="Listener",this.positionX=new st({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new st({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new st({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new st({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new st({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new st({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new st({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new st({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new st({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Te.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}od(n=>{n.listener=new l6({context:n})}),ad(n=>{n.listener.dispose()}),ns(),ns(),ns(),ns(),ns(),ns();const d6=function(n){return{"background-color":n}};function f6(n,e){if(1&n&&qo(0,"div",16),2&n){const t=e.$implicit,s=x0();Mp("height",t.number,"px")("width",100/s.size,"vw"),Il("ngStyle",xD(5,d6,0==t.color?"aquamarine":"red"))}}let p6=(()=>{class n{constructor(){this.synth=(new Aa).toDestination(),this.volume=!1,this.numberArray=[],this.numberCeiling=0,this.maxSpeed=1e3,this.size=100,this.speed=10}onResize(t){this.getCeiling(),this.initializeArray(this.size)}ngOnInit(){this.getCeiling(),this.initializeArray(this.size),this.synth.volume.value=-20}getCeiling(){const t=window.innerHeight,s=document.getElementById("header");let r=0;s&&(r=s.clientHeight),this.numberCeiling=t-r;const i=document.getElementById("arrayContainer");i&&(i.style.height=this.numberCeiling.toString()+"px")}initializeArray(t){let s=[];for(let r=0;r<t;r++)s[r]={number:Math.floor(Math.random()*this.numberCeiling+1),color:!1};this.numberArray=s}bubbleSort(){var t=this;return se(function*(){let s=t.numberArray,r=!0;for(;r;){r=!1;for(let i=0;i<s.length-1;i++)s[i].color=!0,s[i].number>s[i+1].number&&(yield t.swapNums(s,i,i+1),t.numberArray=s,r=!0),s[i].color=!1,t.makeTone(s[i].number)}t.makeTone(0)})()}selectionSort(){var t=this;return se(function*(){let s=t.numberArray;for(let r=0;r<s.length;r++){s[r].color=!0,t.makeTone(s[r].number);let i=r,o=s[r].number;for(let a=r+1;a<s.length;a++)o>s[a].number&&(i!=r&&(s[i].color=!1),o=s[a].number,i=a,s[i].color=!0);yield t.swapNums(s,r,i),s[r].color=!1,s[i].color=!1}t.makeTone(0)})()}insertionSort(){var t=this;return se(function*(){let s=t.numberArray;for(let r=1;r<s.length;r++)if(s[r].number<s[r-1].number){let i=r;for(s[i].color=!0;i>0&&s[i].number<s[i-1].number;)t.makeTone(s[i-1].number),yield t.swapNums(s,i,i-1),s[i].color=!1,i--,s[i].color=!0;s[i].color=!1}t.makeTone(0)})()}mergeSort(){var t=this;return se(function*(){const s=yield t.mergeRecursive(t.numberArray,0,t.numberArray.length-1);t.numberArray=s,t.makeTone(0)})()}mergeRecursive(t,s,r){var i=this;return se(function*(){if(t.length<=1)return t;let o=t.slice(0,Math.floor(t.length/2)),a=t.slice(Math.floor(t.length/2),t.length);return o=yield i.mergeRecursive(o,s,o.length-1+s),a=yield i.mergeRecursive(a,o.length+s,r),i.merge(o,a,s,r)})()}merge(t,s,r,i){var o=this;return se(function*(){let a=0,c=0,u=0,l=[];for(;a!=t.length||c!=s.length;)c==s.length||a!=t.length&&t[a].number<=s[c].number?(l[u]=t[a],t[a].color=!0,yield o.sleep(o.speed/10),t[a].color=!1,o.makeTone(t[a].number),u++,a++):(l[u]=s[c],s[c].color=!0,yield o.sleep(o.speed/10),s[c].color=!1,o.makeTone(s[c].number),u++,c++);for(let h=0;h<l.length;h++)o.numberArray[h+r]=l[h];return l})()}swapNums(t,s,r){var i=this;return se(function*(){const o=t[s].number;t[s].number=t[r].number,yield i.sleep(i.speed),t[r].number=o})()}makeTone(t){if(this.volume){const s=ns().now();this.synth.triggerAttackRelease(t,s+.1)}}sleep(t){return new Promise(s=>setTimeout(s,t))}sizeChange(t){this.size=parseInt(t),this.initializeArray(this.size),this.makeTone(0)}speedChange(t){this.speed=this.maxSpeed-parseInt(t)}volumeChange(){this.volume=!this.volume}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=La({type:n,selectors:[["app-sorting-visualizer"]],hostBindings:function(t,s){1&t&&kn("resize",function(i){return s.onResize(i)},!1,$b)},decls:30,vars:4,consts:[["id","header",1,"header"],["id","title"],[1,"button",3,"click"],[1,"sliderContainer"],["for","sizeSlider",1,"sliderLabel"],["id","sizeSlider","type","range","min","1","max","1000",1,"slider",3,"value","change"],["sizeSlider",""],["for","speedSlider",1,"sliderLabel"],["id","speedSlider","type","range","min","300",1,"slider",3,"max","value","change"],["speedSlider",""],[1,"sliderLabel"],["for","checkbox",1,"switch"],["id","checkbox","type","checkbox",3,"change"],[1,"slider","round"],["id","arrayContainer",1,"arrayContainer"],["class","number",3,"ngStyle","height","width",4,"ngFor","ngForOf"],[1,"number",3,"ngStyle"]],template:function(t,s){if(1&t){const r=x();Ot(0,"div",0),Ot(1,"h1",1),Us(2,"Sorting Algorithm Visualizer"),Rt(),Ot(3,"button",2),kn("click",function(){return s.initializeArray(s.size)}),Us(4," New Array "),Rt(),Ot(5,"button",2),kn("click",function(){return s.bubbleSort()}),Us(6," Bubble Sort "),Rt(),Ot(7,"button",2),kn("click",function(){return s.selectionSort()}),Us(8," Selection Sort "),Rt(),Ot(9,"button",2),kn("click",function(){return s.insertionSort()}),Us(10," Insertion Sort "),Rt(),Ot(11,"button",2),kn("click",function(){return s.mergeSort()}),Us(12," Merge Sort "),Rt(),Ot(13,"div",3),Ot(14,"label",4),Us(15,"Size"),Rt(),Ot(16,"input",5,6),kn("change",function(){nf(r);const o=wp(17);return s.sizeChange(o.value)}),Rt(),Rt(),Ot(18,"div",3),Ot(19,"label",7),Us(20,"Speed"),Rt(),Ot(21,"input",8,9),kn("change",function(){nf(r);const o=wp(22);return s.speedChange(o.value)}),Rt(),Rt(),Ot(23,"p",10),Us(24,"Sound"),Rt(),Ot(25,"label",11),Ot(26,"input",12),kn("change",function(){return s.volumeChange()}),Rt(),qo(27,"span",13),Rt(),Rt(),Ot(28,"div",14),function(n,e,t,s,r,i,o,a){const c=x(),u=Ie(),l=n+20,h=u.firstCreatePass?function(n,e,t,s,r,i,o,a,c){const u=e.consts,l=Eo(e,n,4,o||null,Mr(u,a));rp(e,t,l,Mr(u,c)),Zu(e,l);const h=l.tViews=Dl(2,l,s,r,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,t,s,r,i,o):u.data[l];Rs(h,!1);const d=c[11].createComment("");fl(u,c,d,h),Zt(d,c),El(c,c[l]=ww(d,c,d,h)),$u(h)&&np(u,c,h),null!=o&&sp(c,h,a)}(29,f6,1,7,"div",15),Rt()}2&t&&(vl(16),fc("value",s.size),vl(5),fc("max",s.maxSpeed),fc("value",s.maxSpeed),vl(8),Il("ngForOf",s.numberArray))},directives:[tT,iT],styles:['.arrayContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-end;background-color:#fff0db}.header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:1vh 2vw;grid-gap:10px;gap:10px;min-height:60px;background-color:#301a4b;color:#fff0db;font-family:"Haas Grot Text R Web","Helvetica Neue",Helvetica,Arial,sans-serif}.header[_ngcontent-%COMP%]   #title[_ngcontent-%COMP%]{margin-right:auto}.number[_ngcontent-%COMP%]{margin:0 1px}.sliderContainer[_ngcontent-%COMP%]{display:flex}.sliderLabel[_ngcontent-%COMP%]{color:#fff;font-size:1.5vh;display:flex;align-items:center}.button[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#ea4c89;border-radius:8px;border-style:none;box-sizing:border-box;color:#fff;cursor:pointer;font-family:"Haas Grot Text R Web","Helvetica Neue",Helvetica,Arial,sans-serif;font-size:1.5vh;font-weight:500;height:5vh;line-height:20px;list-style:none;outline:none;padding:10px 16px;position:relative;text-align:center;text-decoration:none;transition:color .1s;vertical-align:baseline;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button[_ngcontent-%COMP%]:hover, .button[_ngcontent-%COMP%]:focus{background-color:#f082ac}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.switch[_ngcontent-%COMP%]   .slider.round[_ngcontent-%COMP%]{border-radius:34px}.switch[_ngcontent-%COMP%]   .slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),n})(),g6=(()=>{class n{constructor(){this.title="sorting-visualizer"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=La({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,s){1&t&&(qo(0,"app-sorting-visualizer"),qo(1,"router-outlet"))},directives:[p6,Pm],styles:[""]}),n})();const uA=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let r=n.charCodeAt(s);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&s+1<n.length&&56320==(64512&n.charCodeAt(s+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++s)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},lA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<n.length;r+=3){const i=n[r],o=r+1<n.length,a=o?n[r+1]:0,c=r+2<n.length,u=c?n[r+2]:0;let d=(15&a)<<2|u>>6,f=63&u;c||(f=64,o||(d=64)),s.push(t[i>>2],t[(3&i)<<4|a>>4],t[d],t[f])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,s=0;for(;t<n.length;){const r=n[t++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=n[t++];e[s++]=String.fromCharCode((31&r)<<6|63&i)}else if(r>239&&r<365){const c=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(1023&c))}else{const i=n[t++],o=n[t++];e[s++]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<n.length;){const i=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const u=r<n.length?t[n.charAt(r)]:64;++r;const h=r<n.length?t[n.charAt(r)]:64;if(++r,null==i||null==a||null==u||null==h)throw new v6;s.push(i<<2|a>>4),64!==u&&(s.push(a<<4&240|u>>2),64!==h&&s.push(u<<6&192|h))}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class v6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dd=function(n){return function(n){const e=uA(n);return lA.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Ed=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=n&&function(n){try{return lA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}};class dA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,s))}}}class Tu extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name="FirebaseError",Object.setPrototypeOf(this,Tu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fA.prototype.create)}}class fA{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(n,e){return n.replace(N6,(t,s)=>{const r=e[s];return null!=r?String(r):`<${s}?>`})}(i,s):"Error";return new Tu(r,`${this.serviceName}: ${o} (${r}).`,s)}}const N6=/\{\$([^}]+)}/g;function By(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const r of t){if(!s.includes(r))return!1;const i=n[r],o=e[r];if(gA(i)&&gA(o)){if(!By(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!t.includes(r))return!1;return!0}function gA(n){return null!==n&&"object"==typeof n}class Sd{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qi="[DEFAULT]";class q6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new dA;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&s.resolve(r)}catch(r){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(s)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch(t){}for(const[t,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch(i){}}}}clearInstance(e=Qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return se(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Qi){return this.instances.has(e)}getOptions(e=Qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[i,o]of this.instancesDeferred.entries())s===this.normalizeInstanceIdentifier(i)&&o.resolve(r);return r}onInit(e,t){var s;const r=this.normalizeInstanceIdentifier(t),i=null!==(s=this.onInitCallbacks.get(r))&&void 0!==s?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const r of s)try{r(e,t)}catch(i){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:U6(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch(r){}return s||null}normalizeInstanceIdentifier(e=Qi){return this.component?this.component.multipleInstances?e:Qi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function U6(n){return n===Qi?void 0:n}class $6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new q6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Hy=[];var Qe=(()=>(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(Qe||(Qe={})),Qe))();const mA={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},W6=Qe.INFO,z6={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},G6=(n,e,...t)=>{if(e<n.logLevel)return;const s=(new Date).toISOString(),r=z6[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${s}]  ${n.name}:`,...t)};let _A,yA;const vA=new WeakMap,$y=new WeakMap,bA=new WeakMap,Wy=new WeakMap,zy=new WeakMap;let Gy={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return $y.get(n);if("objectStoreNames"===e)return n.objectStoreNames||bA.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Kr(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function nz(n){return"function"==typeof n?function(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yA||(yA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...e){return n.apply(Qy(this),e),Kr(vA.get(this))}:function(...e){return Kr(n.apply(Qy(this),e))}:function(e,...t){const s=n.call(Qy(this),e,...t);return bA.set(s,e.sort?e.sort():[e]),Kr(s)}}(n):(n instanceof IDBTransaction&&function(n){if($y.has(n))return;const e=new Promise((t,s)=>{const r=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{s(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});$y.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,_A||(_A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(n,Gy):n)}function Kr(n){if(n instanceof IDBRequest)return function(n){const e=new Promise((t,s)=>{const r=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t(Kr(n.result)),r()},o=()=>{s(n.error),r()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&vA.set(t,n)}).catch(()=>{}),zy.set(e,n),e}(n);if(Wy.has(n))return Wy.get(n);const e=nz(n);return e!==n&&(Wy.set(n,e),zy.set(e,n)),e}const Qy=n=>zy.get(n),rz=["get","getKey","getAll","getAllKeys","count"],iz=["put","add","delete","clear"],Yy=new Map;function wA(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Yy.get(e))return Yy.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,r=iz.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!r&&!rz.includes(t))return;const i=function(){var o=se(function*(a,...c){const u=this.transaction(a,r?"readwrite":"readonly");let l=u.store;return s&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),r&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return Yy.set(e,i),i}Gy=(n=>te(I({},n),{get:(e,t,s)=>wA(e,t)||n.get(e,t,s),has:(e,t)=>!!wA(e,t)||n.has(e,t)}))(Gy);class oz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}return null}).filter(t=>t).join(" ")}}const Zy="@firebase/app",Yi=new class{constructor(e){this.name=e,this._logLevel=W6,this._logHandler=G6,this._userLogHandler=null,Hy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?mA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}("@firebase/app"),Rz={[Zy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zi=new Map,Id=new Map;function Nz(n,e){try{n.container.addComponent(e)}catch(t){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ky(n){const e=n.name;if(Id.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;Id.set(e,n);for(const t of Zi.values())Nz(t,n);return!0}const wr=new fA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pz{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}function Md(n,e,t){var s;let r=null!==(s=Rz[n])&&void 0!==s?s:n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];return i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Yi.warn(a.join(" "))}Ky(new Sd(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const xu="firebase-heartbeat-store";let Jy=null;function EA(){return Jy||(Jy=function(n,e,{blocked:t,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(n,e),a=Kr(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Kr(o.result),c.oldVersion,c.newVersion,Kr(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(xu)}}).catch(n=>{throw wr.create("idb-open",{originalErrorMessage:n.message})})),Jy}function ev(){return ev=se(function*(n){try{return yield(yield EA()).transaction(xu).objectStore(xu).get(xA(n))}catch(e){if(e instanceof Tu)Yi.warn(e.message);else{const t=wr.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Yi.warn(t.message)}}}),ev.apply(this,arguments)}function TA(n,e){return tv.apply(this,arguments)}function tv(){return tv=se(function*(n,e){try{const s=(yield EA()).transaction(xu,"readwrite");yield s.objectStore(xu).put(e,xA(n)),yield s.done}catch(t){if(t instanceof Tu)Yi.warn(t.message);else{const s=wr.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});Yi.warn(s.message)}}}),tv.apply(this,arguments)}function xA(n){return`${n.name}!${n.options.appId}`}class Uz{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $z(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}triggerHeartbeat(){var e=this;return se(function*(){var t,s;const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=SA();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(s=e._heartbeatsCache)||void 0===s?void 0:s.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return se(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const s=SA(),{heartbeatsToSend:r,unsentEntries:i}=function(n,e=1024){const t=[];let s=n.slice();for(const r of n){const i=t.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),AA(t)>e){i.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),AA(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}(e._heartbeatsCache.heartbeats),o=Dd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function SA(){return(new Date).toISOString().substring(0,10)}class $z{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return se(function*(){return!!function(){try{return"object"==typeof indexedDB}catch(n){return!1}}()&&new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var i;e((null===(i=r.error)||void 0===i?void 0:i.message)||"")}}catch(t){e(t)}}).then(()=>!0).catch(()=>!1)})()}read(){var e=this;return se(function*(){if(yield e._canUseIndexedDBPromise){const s=yield function(n){return ev.apply(this,arguments)}(e.app);return(null==s?void 0:s.heartbeats)?s:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return se(function*(){var s;if(yield t._canUseIndexedDBPromise){const i=yield t.read();return TA(t.app,{lastSentHeartbeatDate:null!==(s=e.lastSentHeartbeatDate)&&void 0!==s?s:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return se(function*(){var s;if(yield t._canUseIndexedDBPromise){const i=yield t.read();return TA(t.app,{lastSentHeartbeatDate:null!==(s=e.lastSentHeartbeatDate)&&void 0!==s?s:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}})()}}function AA(n){return Dd(JSON.stringify({version:2,heartbeats:n})).length}Ky(new Sd("platform-logger",e=>new oz(e),"PRIVATE")),Ky(new Sd("heartbeat",e=>new Uz(e),"PRIVATE")),Md(Zy,"0.9.25",""),Md(Zy,"0.9.25","esm2017"),Md("fire-js",""),Md("firebase","10.7.1","app"),function(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const s=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},e),r=s.name;if("string"!=typeof r||!r)throw wr.create("bad-app-name",{appName:String(r)});if(t||(t=(()=>{var n;return null===(n=Ed())||void 0===n?void 0:n.config})()),!t)throw wr.create("no-options");const i=Zi.get(r);if(i){if(By(t,i.options)&&By(s,i.config))return i;throw wr.create("duplicate-app",{appName:r})}const o=new $6(r);for(const c of Id.values())o.addComponent(c);const a=new Pz(t,s,o);Zi.set(r,a)}({apiKey:"AIzaSyChyye62M71x3gd0MmJs3UwTCL48aBUgyQ",authDomain:"sorting-visualizer-fab3f.firebaseapp.com",projectId:"sorting-visualizer-fab3f",storageBucket:"sorting-visualizer-fab3f.appspot.com",messagingSenderId:"892056962920",appId:"1:892056962920:web:237c17c6635abebc47f8dd",measurementId:"G-N1EWPMLWWJ"});let Qz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=oi({type:n,bootstrap:[g6]}),n.\u0275inj=tr({providers:[],imports:[[gB,o3]]}),n})();(function(){if(cE)throw new Error("Cannot enable prod mode after platform setup.");aE=!1})(),fB().bootstrapModule(Qz).catch(n=>console.error(n))},28:M=>{M.exports=function(W,H){(null==H||H>W.length)&&(H=W.length);for(var Me=0,_e=new Array(H);Me<H;Me++)_e[Me]=W[Me];return _e},M.exports.__esModule=!0,M.exports.default=M.exports},207:M=>{M.exports=function(W){if(Array.isArray(W))return W},M.exports.__esModule=!0,M.exports.default=M.exports},591:M=>{M.exports=function(W,H){if(!(W instanceof H))throw new TypeError("Cannot call a class as a function")},M.exports.__esModule=!0,M.exports.default=M.exports},930:(M,ce,W)=>{var H=W(23);function Me(qe,Ne){for(var it=0;it<Ne.length;it++){var _t=Ne[it];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(qe,H(_t.key),_t)}}M.exports=function(qe,Ne,it){return Ne&&Me(qe.prototype,Ne),it&&Me(qe,it),Object.defineProperty(qe,"prototype",{writable:!1}),qe},M.exports.__esModule=!0,M.exports.default=M.exports},366:M=>{M.exports=function(W,H){var Me=null==W?null:"undefined"!=typeof Symbol&&W[Symbol.iterator]||W["@@iterator"];if(null!=Me){var _e,qe,Ne,it,_t=[],Cr=!0,Ms=!1;try{if(Ne=(Me=Me.call(W)).next,0===H){if(Object(Me)!==Me)return;Cr=!1}else for(;!(Cr=(_e=Ne.call(Me)).done)&&(_t.push(_e.value),_t.length!==H);Cr=!0);}catch(Pe){Ms=!0,qe=Pe}finally{try{if(!Cr&&null!=Me.return&&(it=Me.return(),Object(it)!==it))return}finally{if(Ms)throw qe}}return _t}},M.exports.__esModule=!0,M.exports.default=M.exports},525:M=>{M.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},M.exports.__esModule=!0,M.exports.default=M.exports},796:(M,ce,W)=>{var H=W(207),Me=W(366),_e=W(440),qe=W(525);M.exports=function(it,_t){return H(it)||Me(it,_t)||_e(it,_t)||qe()},M.exports.__esModule=!0,M.exports.default=M.exports},259:(M,ce,W)=>{var H=W(192).default;M.exports=function(_e,qe){if("object"!=H(_e)||!_e)return _e;var Ne=_e[Symbol.toPrimitive];if(void 0!==Ne){var it=Ne.call(_e,qe||"default");if("object"!=H(it))return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===qe?String:Number)(_e)},M.exports.__esModule=!0,M.exports.default=M.exports},23:(M,ce,W)=>{var H=W(192).default,Me=W(259);M.exports=function(qe){var Ne=Me(qe,"string");return"symbol"==H(Ne)?Ne:String(Ne)},M.exports.__esModule=!0,M.exports.default=M.exports},192:M=>{function ce(W){return M.exports=ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},M.exports.__esModule=!0,M.exports.default=M.exports,ce(W)}M.exports=ce,M.exports.__esModule=!0,M.exports.default=M.exports},440:(M,ce,W)=>{var H=W(28);M.exports=function(_e,qe){if(_e){if("string"==typeof _e)return H(_e,qe);var Ne=Object.prototype.toString.call(_e).slice(8,-1);if("Object"===Ne&&_e.constructor&&(Ne=_e.constructor.name),"Map"===Ne||"Set"===Ne)return Array.from(_e);if("Arguments"===Ne||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne))return H(_e,qe)}},M.exports.__esModule=!0,M.exports.default=M.exports}},M=>{M(M.s=793)}]);